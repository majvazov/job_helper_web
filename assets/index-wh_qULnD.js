(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _T(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bp={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function aR(){if(fE)return Zl;fE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var dE;function oR(){return dE||(dE=1,Bp.exports=aR()),Bp.exports}var J=oR(),Hp={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function lR(){if(pE)return Ce;pE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,F={};function q(N,te,se){this.props=N,this.context=te,this.refs=F,this.updater=se||O}q.prototype.isReactComponent={},q.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=q.prototype;function re(N,te,se){this.props=N,this.context=te,this.refs=F,this.updater=se||O}var Q=re.prototype=new K;Q.constructor=re,M(Q,q.prototype),Q.isPureReactComponent=!0;var ue=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function C(N,te,se,ie,me,Re){return se=Re.ref,{$$typeof:r,type:N,key:te,ref:se!==void 0?se:null,props:Re}}function A(N,te){return C(N.type,te,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return te[se]})}var V=/\/+/g;function L(N,te){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):te.toString(36)}function D(){}function Rt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function st(N,te,se,ie,me){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(Re){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case r:case e:ve=!0;break;case E:return ve=N._init,st(ve(N._payload),te,se,ie,me)}}if(ve)return me=me(N),ve=ie===""?"."+L(N,0):ie,ue(me)?(se="",ve!=null&&(se=ve.replace(V,"$&/")+"/"),st(me,te,se,"",function(kt){return kt})):me!=null&&(R(me)&&(me=A(me,se+(me.key==null||N&&N.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+ve)),te.push(me)),1;ve=0;var ut=ie===""?".":ie+":";if(ue(N))for(var Be=0;Be<N.length;Be++)ie=N[Be],Re=ut+L(ie,Be),ve+=st(ie,te,se,Re,me);else if(Be=S(N),typeof Be=="function")for(N=Be.call(N),Be=0;!(ie=N.next()).done;)ie=ie.value,Re=ut+L(ie,Be++),ve+=st(ie,te,se,Re,me);else if(Re==="object"){if(typeof N.then=="function")return st(Rt(N),te,se,ie,me);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Y(N,te,se){if(N==null)return N;var ie=[],me=0;return st(N,ie,"","",function(Re){return te.call(se,Re,me++)}),ie}function oe(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ie(){}return Ce.Children={map:Y,forEach:function(N,te,se){Y(N,function(){te.apply(this,arguments)},se)},count:function(N){var te=0;return Y(N,function(){te++}),te},toArray:function(N){return Y(N,function(te){return te})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=re,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(N){return le.H.useMemoCache(N)}},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cloneElement=function(N,te,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=M({},N.props),me=N.key,Re=void 0;if(te!=null)for(ve in te.ref!==void 0&&(Re=void 0),te.key!==void 0&&(me=""+te.key),te)!ce.call(te,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&te.ref===void 0||(ie[ve]=te[ve]);var ve=arguments.length-2;if(ve===1)ie.children=se;else if(1<ve){for(var ut=Array(ve),Be=0;Be<ve;Be++)ut[Be]=arguments[Be+2];ie.children=ut}return C(N.type,me,void 0,void 0,Re,ie)},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ce.createElement=function(N,te,se){var ie,me={},Re=null;if(te!=null)for(ie in te.key!==void 0&&(Re=""+te.key),te)ce.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=te[ie]);var ve=arguments.length-2;if(ve===1)me.children=se;else if(1<ve){for(var ut=Array(ve),Be=0;Be<ve;Be++)ut[Be]=arguments[Be+2];me.children=ut}if(N&&N.defaultProps)for(ie in ve=N.defaultProps,ve)me[ie]===void 0&&(me[ie]=ve[ie]);return C(N,Re,void 0,void 0,null,me)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:p,render:N}},Ce.isValidElement=R,Ce.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:oe}},Ce.memo=function(N,te){return{$$typeof:g,type:N,compare:te===void 0?null:te}},Ce.startTransition=function(N){var te=le.T,se={};le.T=se;try{var ie=N(),me=le.S;me!==null&&me(se,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ie,pe)}catch(Re){pe(Re)}finally{le.T=te}},Ce.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ce.use=function(N){return le.H.use(N)},Ce.useActionState=function(N,te,se){return le.H.useActionState(N,te,se)},Ce.useCallback=function(N,te){return le.H.useCallback(N,te)},Ce.useContext=function(N){return le.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,te){return le.H.useDeferredValue(N,te)},Ce.useEffect=function(N,te,se){var ie=le.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,te)},Ce.useId=function(){return le.H.useId()},Ce.useImperativeHandle=function(N,te,se){return le.H.useImperativeHandle(N,te,se)},Ce.useInsertionEffect=function(N,te){return le.H.useInsertionEffect(N,te)},Ce.useLayoutEffect=function(N,te){return le.H.useLayoutEffect(N,te)},Ce.useMemo=function(N,te){return le.H.useMemo(N,te)},Ce.useOptimistic=function(N,te){return le.H.useOptimistic(N,te)},Ce.useReducer=function(N,te,se){return le.H.useReducer(N,te,se)},Ce.useRef=function(N){return le.H.useRef(N)},Ce.useState=function(N){return le.H.useState(N)},Ce.useSyncExternalStore=function(N,te,se){return le.H.useSyncExternalStore(N,te,se)},Ce.useTransition=function(){return le.H.useTransition()},Ce.version="19.1.0",Ce}var mE;function Ym(){return mE||(mE=1,Hp.exports=lR()),Hp.exports}var G=Ym();const go=_T(G);var Fp={exports:{}},eu={},Gp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function uR(){return gE||(gE=1,function(r){function e(Y,oe){var pe=Y.length;Y.push(oe);e:for(;0<pe;){var Ie=pe-1>>>1,N=Y[Ie];if(0<o(N,oe))Y[Ie]=oe,Y[pe]=N,pe=Ie;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],pe=Y.pop();if(pe!==oe){Y[0]=pe;e:for(var Ie=0,N=Y.length,te=N>>>1;Ie<te;){var se=2*(Ie+1)-1,ie=Y[se],me=se+1,Re=Y[me];if(0>o(ie,pe))me<N&&0>o(Re,ie)?(Y[Ie]=Re,Y[me]=pe,Ie=me):(Y[Ie]=ie,Y[se]=pe,Ie=se);else if(me<N&&0>o(Re,pe))Y[Ie]=Re,Y[me]=pe,Ie=me;else break e}}return oe}function o(Y,oe){var pe=Y.sortIndex-oe.sortIndex;return pe!==0?pe:Y.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],E=1,w=null,S=3,O=!1,M=!1,F=!1,q=!1,K=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ue(Y){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Y)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function le(Y){if(F=!1,ue(Y),!M)if(n(m)!==null)M=!0,ce||(ce=!0,L());else{var oe=n(g);oe!==null&&st(le,oe.startTime-Y)}}var ce=!1,C=-1,A=5,R=-1;function x(){return q?!0:!(r.unstable_now()-R<A)}function V(){if(q=!1,ce){var Y=r.unstable_now();R=Y;var oe=!0;try{e:{M=!1,F&&(F=!1,re(C),C=-1),O=!0;var pe=S;try{t:{for(ue(Y),w=n(m);w!==null&&!(w.expirationTime>Y&&x());){var Ie=w.callback;if(typeof Ie=="function"){w.callback=null,S=w.priorityLevel;var N=Ie(w.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){w.callback=N,ue(Y),oe=!0;break t}w===n(m)&&s(m),ue(Y)}else s(m);w=n(m)}if(w!==null)oe=!0;else{var te=n(g);te!==null&&st(le,te.startTime-Y),oe=!1}}break e}finally{w=null,S=pe,O=!1}oe=void 0}}finally{oe?L():ce=!1}}}var L;if(typeof Q=="function")L=function(){Q(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Rt=D.port2;D.port1.onmessage=V,L=function(){Rt.postMessage(null)}}else L=function(){K(V,0)};function st(Y,oe){C=K(function(){Y(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var pe=S;S=oe;try{return Y()}finally{S=pe}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=S;S=Y;try{return oe()}finally{S=pe}},r.unstable_scheduleCallback=function(Y,oe,pe){var Ie=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ie+pe:Ie):pe=Ie,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pe+N,Y={id:E++,callback:oe,priorityLevel:Y,startTime:pe,expirationTime:N,sortIndex:-1},pe>Ie?(Y.sortIndex=pe,e(g,Y),n(m)===null&&Y===n(g)&&(F?(re(C),C=-1):F=!0,st(le,pe-Ie))):(Y.sortIndex=N,e(m,Y),M||O||(M=!0,ce||(ce=!0,L()))),Y},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Y){var oe=S;return function(){var pe=S;S=oe;try{return Y.apply(this,arguments)}finally{S=pe}}}}($p)),$p}var yE;function cR(){return yE||(yE=1,Gp.exports=uR()),Gp.exports}var Kp={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function hR(){if(vE)return en;vE=1;var r=Ym();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},en.flushSync=function(m){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=E,s.d.f()}},en.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},en.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},en.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,w=p(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:O}):E==="script"&&s.d.X(m,{crossOrigin:w,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},en.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},en.requestFormReset=function(m){s.d.r(m)},en.unstable_batchedUpdates=function(m,g){return m(g)},en.useFormState=function(m,g,E){return f.H.useFormState(m,g,E)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.1.0",en}var _E;function fR(){if(_E)return Kp.exports;_E=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kp.exports=hR(),Kp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function dR(){if(EE)return eu;EE=1;var r=cR(),e=Ym(),n=fR();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case q:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Rt(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Rt(t(i))}catch{}}return null}var st=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ie=[],N=-1;function te(t){return{current:t}}function se(t){0>N||(t.current=Ie[N],Ie[N]=null,N--)}function ie(t,i){N++,Ie[N]=t.current,t.current=i}var me=te(null),Re=te(null),ve=te(null),ut=te(null);function Be(t,i){switch(ie(ve,i),ie(Re,t),ie(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?j_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=j_(i),t=q_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(me),ie(me,t)}function kt(){se(me),se(Re),se(ve)}function Dn(t){t.memoizedState!==null&&ie(ut,t);var i=me.current,a=q_(i,t.type);i!==a&&(ie(Re,t),ie(me,a))}function hn(t){Re.current===t&&(se(me),se(Re)),ut.current===t&&(se(ut),Ql._currentValue=pe)}var Wt=Object.prototype.hasOwnProperty,hs=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,Go=r.unstable_shouldYield,Bu=r.unstable_requestPaint,On=r.unstable_now,Bf=r.unstable_getCurrentPriorityLevel,$o=r.unstable_ImmediatePriority,ua=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,Hf=r.unstable_LowPriority,ca=r.unstable_IdlePriority,Ko=r.log,Hu=r.unstable_setDisableYieldValue,ft=null,Qe=null;function vn(t){if(typeof Ko=="function"&&Hu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,t)}catch{}}var Jt=Math.clz32?Math.clz32:ps,Fu=Math.log,Ff=Math.LN2;function ps(t){return t>>>=0,t===0?32:31-(Fu(t)/Ff|0)|0}var ms=256,gs=4194304;function $n(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ha(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=$n(l):(_&=T,_!==0?h=$n(_):a||(a=T&~t,a!==0&&(h=$n(a))))):(T=l&~d,T!==0?h=$n(T):_!==0?h=$n(_):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ys(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Qo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(){var t=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),t}function Xo(){var t=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),t}function Or(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Nr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wo(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Jt(a),Z=1<<X;T[X]=0,I[X]=-1;var B=j[X];if(B!==null)for(j[X]=null,X=0;X<B.length;X++){var H=B[X];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&ar(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ar(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Jt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Jt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mi(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:aE(t.type))}function Gu(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var at=Math.random().toString(36).slice(2),It="__reactFiber$"+at,_t="__reactProps$"+at,Nn="__reactContainer$"+at,Zo="__reactEvents$"+at,Gf="__reactListeners$"+at,gi="__reactHandles$"+at,$u="__reactResources$"+at,vs="__reactMarker$"+at;function yi(t){delete t[It],delete t[_t],delete t[Zo],delete t[Gf],delete t[gi]}function xr(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Nn]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=G_(t);t!==null;){if(a=t[It])return a;t=G_(t)}return i}t=a,a=t.parentNode}return null}function or(t){if(t=t[It]||t[Nn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function lr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function an(t){var i=t[$u];return i||(i=t[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[vs]=!0}var el=new Set,da={};function Kn(t,i){Mr(t,i),Mr(t+"Capture",i)}function Mr(t,i){for(da[t]=i,t=0;t<i.length;t++)el.add(i[t])}var Ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},_s={};function Yu(t){return Wt.call(_s,t)?!0:Wt.call(Qu,t)?!1:Ku.test(t)?_s[t]=!0:(Qu[t]=!0,!1)}function vi(t,i,a){if(Yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ur(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ht(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Es,Xu;function kr(t){if(Es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Es=i&&i[1]||"",Xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+Xu}var pa=!1;function ma(t,i){if(!t||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){B=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),j=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kr(a):""}function tl(t){switch(t.tag){case 26:case 27:case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return ma(t.type,!1);case 11:return ma(t.type.render,!1);case 1:return ma(t.type,!0);case 31:return kr("Activity");default:return""}}function ga(t){try{var i="";do i+=tl(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nl(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $f(t){var i=nl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ya(t){t._valueTracker||(t._valueTracker=$f(t))}function rl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=nl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kf=/[\n"\\]/g;function Et(t){return t.replace(Kf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?_i(t,_,on(i)):a!=null?_i(t,_,on(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+on(T):t.removeAttribute("name")}function bs(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function _i(t,i,a){i==="number"&&Ts(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function We(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function ws(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ss.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function il(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Wu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Wu(t,d,i[d])}function sl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pr=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,Ur=null;function al(t){var i=or(t);if(i&&(t=i.stateNode)){var a=t[_t]||null;e:switch(t=i.stateNode,i.type){case"input":if(_n(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(s(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&rl(l)}break e;case"textarea":We(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Vr(t,!!a.multiple,i,!1)}}}var cr=!1;function Ju(t,i,a){if(cr)return t(i,a);cr=!0;try{var l=t(i);return l}finally{if(cr=!1,(Lr!==null||Ur!==null)&&(Gc(),Lr&&(i=Lr,t=Ur,Ur=Lr=null,al(i),t)))for(i=0;i<t.length;i++)al(t[i])}}function As(t,i){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(Qn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{kn=!1}var hr=null,Ei=null,zr=null;function ol(){if(zr)return zr;var t,i=Ei,a=i.length,l,h="value"in hr?hr.value:hr.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return zr=h.slice(t,1<l?1-l:void 0)}function fr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function dr(){return!0}function ll(){return!1}function Vt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?dr:ll,this.isPropagationStopped=ll,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=Vt(Ge),Is=E({},Ge,{view:0,detail:0}),Zu=Vt(Is),Ea,Ta,pr,Cs=E({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pr&&(pr&&t.type==="mousemove"?(Ea=t.screenX-pr.screenX,Ta=t.screenY-pr.screenY):Ta=Ea=0,pr=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Vn=Vt(Cs),ec=E({},Cs,{dataTransfer:0}),Xf=Vt(ec),Ds=E({},Is,{relatedTarget:0}),ba=Vt(Ds),ul=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=Vt(ul),tc=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sa=Vt(tc),Wf=E({},Ge,{data:0}),cl=Vt(Wf),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=rc[t])?!!i[t]:!1}function Ns(){return hl}var ic=E({},Is,{key:function(t){if(t.key){var i=Os[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Vt(ic),sc=E({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Vt(sc),jr=E({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),ac=Vt(jr),oc=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),lc=Vt(oc),uc=E({},Cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=Vt(uc),ln=E({},Ge,{newState:0,oldState:0}),cc=Vt(ln),hc=[9,13,27,32],mr=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var y=Qn&&"TextEvent"in window&&!c,v=Qn&&(!mr||c&&8<c&&11>=c),b=" ",U=!1;function $(t,i){switch(t){case"keyup":return hc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Ct(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return t=i.data,t===b&&U?null:t;default:return null}}function ze(t,i){if(Ue)return t==="compositionend"||!mr&&$(t,i)?(t=ol(),zr=Ei=hr=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Pt[t.type]:i==="textarea"}function qr(t,i,a,l){Lr?Ur?Ur.push(l):Ur=[l]:Lr=l,i=Wc(i,"onChange"),0<i.length&&(a=new _a("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ft=null,gr=null;function dl(t){V_(t,0)}function fc(t){var i=lr(t);if(rl(i))return t}function ny(t,i){if(t==="change")return i}var ry=!1;if(Qn){var Jf;if(Qn){var Zf="oninput"in document;if(!Zf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Zf=typeof iy.oninput=="function"}Jf=Zf}else Jf=!1;ry=Jf&&(!document.documentMode||9<document.documentMode)}function sy(){Ft&&(Ft.detachEvent("onpropertychange",ay),gr=Ft=null)}function ay(t){if(t.propertyName==="value"&&fc(gr)){var i=[];qr(i,gr,t,Mn(t)),Ju(dl,i)}}function PS(t,i,a){t==="focusin"?(sy(),Ft=i,gr=a,Ft.attachEvent("onpropertychange",ay)):t==="focusout"&&sy()}function LS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fc(gr)}function US(t,i){if(t==="click")return fc(i)}function zS(t,i){if(t==="input"||t==="change")return fc(i)}function jS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:jS;function pl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ly(t,i){var a=oy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oy(a)}}function uy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?uy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function cy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ts(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ts(t.document)}return i}function ed(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var qS=Qn&&"documentMode"in document&&11>=document.documentMode,Ia=null,td=null,ml=null,nd=!1;function hy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||Ia==null||Ia!==Ts(l)||(l=Ia,"selectionStart"in l&&ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&pl(ml,l)||(ml=l,l=Wc(td,"onSelect"),0<l.length&&(i=new _a("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function xs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},rd={},fy={};Qn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ms(t){if(rd[t])return rd[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in fy)return rd[t]=i[a];return t}var dy=Ms("animationend"),py=Ms("animationiteration"),my=Ms("animationstart"),BS=Ms("transitionrun"),HS=Ms("transitionstart"),FS=Ms("transitioncancel"),gy=Ms("transitionend"),yy=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function Yn(t,i){yy.set(t,i),Kn(i,[t])}var vy=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=vy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ga(i)},vy.set(t,i),i)}return{value:t,source:i,stack:ga(i)}}var Ln=[],Da=0,sd=0;function dc(){for(var t=Da,i=sd=Da=0;i<t;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&_y(a,h,d)}}function pc(t,i,a,l){Ln[Da++]=t,Ln[Da++]=i,Ln[Da++]=a,Ln[Da++]=l,sd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ad(t,i,a,l){return pc(t,i,a,l),mc(t)}function Oa(t,i){return pc(t,null,null,i),mc(t)}function _y(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Jt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function mc(t){if(50<jl)throw jl=0,fp=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function GS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new GS(t,i,a,l)}function od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Br(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ey(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function gc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")od(t)&&(_=1);else if(typeof t=="string")_=KA(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Tn(31,a,i,h),t.elementType=R,t.lanes=d,t;case M:return ks(a.children,h,d,i);case F:_=8,h|=24;break;case q:return t=Tn(12,a,i,h|2),t.elementType=q,t.lanes=d,t;case le:return t=Tn(13,a,i,h),t.elementType=le,t.lanes=d,t;case ce:return t=Tn(19,a,i,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case Q:_=10;break e;case re:_=9;break e;case ue:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ks(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function ld(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function ud(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var xa=[],Ma=0,yc=null,vc=0,Un=[],zn=0,Vs=null,Hr=1,Fr="";function Ps(t,i){xa[Ma++]=vc,xa[Ma++]=yc,yc=t,vc=i}function Ty(t,i,a){Un[zn++]=Hr,Un[zn++]=Fr,Un[zn++]=Vs,Vs=t;var l=Hr;t=Fr;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Hr=1<<32-Jt(i)+h|a<<h|l,Fr=d+t}else Hr=1<<d|a<<h|l,Fr=t}function cd(t){t.return!==null&&(Ps(t,1),Ty(t,1,0))}function hd(t){for(;t===yc;)yc=xa[--Ma],xa[Ma]=null,vc=xa[--Ma],xa[Ma]=null;for(;t===Vs;)Vs=Un[--zn],Un[zn]=null,Fr=Un[--zn],Un[zn]=null,Hr=Un[--zn],Un[zn]=null}var un=null,dt=null,Fe=!1,Ls=null,yr=!1,fd=Error(s(519));function Us(t){var i=Error(s(418,""));throw vl(Pn(i,t)),fd}function by(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[_t]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Ve(Bl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),bs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),ws(i,l.value,l.defaultValue,l.children),ya(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||z_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Jc),i=!0):i=!1,i||Us(t)}function wy(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:un=un.return}}function gl(t){if(t!==un)return!1;if(!Fe)return wy(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cp(t.type,t.memoizedProps)),a=!a),a&&dt&&Us(t),wy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){dt=Wn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}dt=null}}else i===27?(i=dt,Pi(t.type)?(t=xp,xp=null,dt=t):dt=i):dt=un?Wn(t.stateNode.nextSibling):null;return!0}function yl(){dt=un=null,Fe=!1}function Sy(){var t=Ls;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ls=null),t}function vl(t){Ls===null?Ls=[t]:Ls.push(t)}var dd=te(null),zs=null,Gr=null;function Ti(t,i,a){ie(dd,i._currentValue),i._currentValue=a}function $r(t){t._currentValue=dd.current,se(dd)}function pd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function md(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),pd(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),pd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function _l(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ut.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}h=h.return}t!==null&&md(i,t,a,l),i.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){zs=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return Ay(zs,t)}function Ec(t,i){return zs===null&&js(t),Ay(t,i)}function Ay(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gr===null){if(t===null)throw Error(s(308));Gr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gr=Gr.next=i;return a}var $S=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},KS=r.unstable_scheduleCallback,QS=r.unstable_NormalPriority,Ot={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new $S,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&KS(QS,function(){t.controller.abort()})}var Tl=null,yd=0,ka=0,Va=null;function YS(t,i){if(Tl===null){var a=Tl=[];yd=0,ka=_p(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yd++,i.then(Ry,Ry),i}function Ry(){if(--yd===0&&Tl!==null){Va!==null&&(Va.status="fulfilled");var t=Tl;Tl=null,ka=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function XS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Iy=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&YS(t,i),Iy!==null&&Iy(t,i)};var qs=te(null);function vd(){var t=qs.current;return t!==null?t:nt.pooledCache}function Tc(t,i){i===null?ie(qs,qs.current):ie(qs,i.pool)}function Cy(){var t=vd();return t===null?null:{parent:Ot._currentValue,pool:t}}var bl=Error(s(460)),Dy=Error(s(474)),bc=Error(s(542)),_d={then:function(){}};function Oy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wc(){}function Ny(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(wc,wc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,My(t),t;default:if(typeof i.status=="string")i.then(wc,wc);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,My(t),t}throw wl=i,bl}}var wl=null;function xy(){if(wl===null)throw Error(s(459));var t=wl;return wl=null,t}function My(t){if(t===bl||t===bc)throw Error(s(483))}var bi=!1;function Ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Si(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=mc(t),_y(t,null,a),i}return pc(t,l,i,a),mc(t)}function Sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Jo(t,a)}}function bd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var wd=!1;function Al(){if(wd){var t=Va;if(t!==null)throw t}}function Rl(t,i,a,l){wd=!1;var h=t.updateQueue;bi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,_===null?d=j:_.next=j,_=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=j:T.next=j,X.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;_=0,X=j=I=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(je&B)===B:(l&B)===B){B!==0&&B===ka&&(wd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,_e=T;B=i;var et=a;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){Z=be.call(et,Z,B);break e}Z=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,B=typeof be=="function"?be.call(et,Z,B):be,B==null)break e;Z=E({},Z,B);break e;case 2:bi=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(j=X=H,I=Z):X=X.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),xi|=_,t.lanes=_,t.memoizedState=Z}}function ky(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Vy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ky(a[t],i)}var Pa=te(null),Sc=te(0);function Py(t,i){t=Zr,ie(Sc,t),ie(Pa,i),Zr=t|i.baseLanes}function Sd(){ie(Sc,Zr),ie(Pa,Pa.current)}function Ad(){Zr=Sc.current,se(Pa),se(Sc)}var Ai=0,Ne=null,Je=null,Tt=null,Ac=!1,La=!1,Bs=!1,Rc=0,Il=0,Ua=null,WS=0;function gt(){throw Error(s(321))}function Rd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Id(t,i,a,l,h,d){return Ai=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?_v:Ev,Bs=!1,d=a(l,h),Bs=!1,La&&(d=Uy(i,a,l,h)),Ly(t),d}function Ly(t){Y.H=xc;var i=Je!==null&&Je.next!==null;if(Ai=0,Tt=Je=Ne=null,Ac=!1,Il=0,Ua=null,i)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&_c(t)&&(Lt=!0))}function Uy(t,i,a,l){Ne=t;var h=0;do{if(La&&(Ua=null),Il=0,La=!1,25<=h)throw Error(s(301));if(h+=1,Tt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=iA,d=i(a,l)}while(La);return d}function JS(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Cl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Cd(){var t=Rc!==0;return Rc=0,t}function Dd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Od(t){if(Ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ac=!1}Ai=0,Tt=Je=Ne=null,La=!1,Il=Rc=0,Ua=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ne.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function bt(){if(Je===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Tt===null?Ne.memoizedState:Tt.next;if(i!==null)Tt=i,Je=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?Ne.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var i=Il;return Il+=1,Ua===null&&(Ua=[]),t=Ny(Ua,t,i),i=Ne,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?_v:Ev),t}function Ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===Q)return Zt(t)}throw Error(s(438,String(t)))}function xd(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Nd(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function Kr(t,i){return typeof i=="function"?i(t):i}function Cc(t){var i=bt();return Md(i,Je,t)}function Md(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,I=null,j=i,X=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(je&Z)===Z:(Ai&Z)===Z){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===ka&&(X=!0);else if((Ai&B)===B){j=j.next,B===ka&&(X=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=Z,_=d):I=I.next=Z,Ne.lanes|=B,xi|=B;Z=j.action,Bs&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else B={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=B,_=d):I=I.next=B,Ne.lanes|=Z,xi|=Z;j=j.next}while(j!==null&&j!==i);if(I===null?_=d:I.next=T,!En(d,t.memoizedState)&&(Lt=!0,X&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kd(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(Lt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function zy(t,i,a){var l=Ne,h=bt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((Je||h).memoizedState,a);_&&(h.memoizedState=a,Lt=!0),h=h.queue;var T=By.bind(null,l,h,t);if(Dl(2048,8,T,[t]),h.getSnapshot!==i||_||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,za(9,Dc(),qy.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(Ai&124)!==0||jy(l,i,a)}return a}function jy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=Nd(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function qy(t,i,a,l){i.value=a,i.getSnapshot=l,Hy(i)&&Fy(t)}function By(t,i,a){return a(function(){Hy(i)&&Fy(t)})}function Hy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function Fy(t){var i=Oa(t,2);i!==null&&Rn(i,t,2)}function Vd(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),Bs){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},i}function Gy(t,i,a,l){return t.baseState=a,Md(t,Je,typeof l=="function"?l:Kr)}function ZS(t,i,a,l,h){if(Nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,$y(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $y(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var T=a(h,l),I=Y.S;I!==null&&I(_,T),Ky(t,i,T)}catch(j){Pd(t,i,j)}finally{Y.T=d}}else try{d=a(h,l),Ky(t,i,d)}catch(j){Pd(t,i,j)}}function Ky(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qy(t,i,l)},function(l){return Pd(t,i,l)}):Qy(t,i,a)}function Qy(t,i,a){i.status="fulfilled",i.value=a,Yy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,$y(t,a)))}function Pd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yy(i),i=i.next;while(i!==l)}t.action=null}function Yy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xy(t,i){return i}function Wy(t,i){if(Fe){var a=nt.formState;if(a!==null){e:{var l=Ne;if(Fe){if(dt){t:{for(var h=dt,d=yr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Wn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:i},a.queue=l,a=gv.bind(null,Ne,l),l.dispatch=a,l=Vd(!1),d=qd.bind(null,Ne,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=ZS.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Jy(t){var i=bt();return Zy(i,Je,t)}function Zy(t,i,a){if(i=Md(t,i,Xy)[0],t=Cc(Kr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Cl(i)}catch(_){throw _===bl?bc:_}else l=i;i=bt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,za(9,Dc(),eA.bind(null,h,a),null)),[l,d,t]}function eA(t,i){t.action=i}function ev(t){var i=bt(),a=Je;if(a!==null)return Zy(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Nd(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Dc(){return{destroy:void 0,resource:void 0}}function tv(){return bt().memoizedState}function Oc(t,i,a,l){var h=fn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=za(1|i,Dc(),a,l)}function Dl(t,i,a,l){var h=bt();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Rd(l,Je.memoizedState.deps)?h.memoizedState=za(i,d,a,l):(Ne.flags|=t,h.memoizedState=za(1|i,d,a,l))}function nv(t,i){Oc(8390656,8,t,i)}function rv(t,i){Dl(2048,8,t,i)}function iv(t,i){return Dl(4,2,t,i)}function sv(t,i){return Dl(4,4,t,i)}function av(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ov(t,i,a){a=a!=null?a.concat([t]):null,Dl(4,4,av.bind(null,i,t),a)}function Ld(){}function lv(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Rd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function uv(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Rd(i,l[1]))return l[0];if(l=t(),Bs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function Ud(t,i,a){return a===void 0||(Ai&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=f_(),Ne.lanes|=t,xi|=t,a)}function cv(t,i,a,l){return En(a,i)?a:Pa.current!==null?(t=Ud(t,a,l),En(t,i)||(Lt=!0),t):(Ai&42)===0?(Lt=!0,t.memoizedState=a):(t=f_(),Ne.lanes|=t,xi|=t,i)}function hv(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,qd(t,!1,i,a);try{var I=h(),j=Y.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=XS(I,l);Ol(t,i,X,An(t))}else Ol(t,i,l,An(t))}catch(Z){Ol(t,i,{then:function(){},status:"rejected",reason:Z},An())}finally{oe.p=d,Y.T=_}}function tA(){}function zd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=fv(t).queue;hv(t,h,i,pe,a===null?tA:function(){return dv(t),a(l)})}function fv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function dv(t){var i=fv(t).next.queue;Ol(t,i,{},An())}function jd(){return Zt(Ql)}function pv(){return bt().memoizedState}function mv(){return bt().memoizedState}function nA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=wi(a);var l=Si(i,t,a);l!==null&&(Rn(l,i,a),Sl(l,i,a)),i={cache:gd()},t.payload=i;return}i=i.return}}function rA(t,i,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?yv(i,a):(a=ad(t,i,a,l),a!==null&&(Rn(a,t,l),vv(a,i,l)))}function gv(t,i,a){var l=An();Ol(t,i,a,l)}function Ol(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))yv(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,_))return pc(t,i,h,0),nt===null&&dc(),!1}catch{}finally{}if(a=ad(t,i,h,l),a!==null)return Rn(a,t,l),vv(a,i,l),!0}return!1}function qd(t,i,a,l){if(l={lane:2,revertLane:_p(),action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(i)throw Error(s(479))}else i=ad(t,a,l,2),i!==null&&Rn(i,t,2)}function Nc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function yv(t,i){La=Ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function vv(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Jo(t,a)}}var xc={readContext:Zt,use:Ic,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},_v={readContext:Zt,use:Ic,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:nv,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,av.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Oc(4194308,4,t,i)},useInsertionEffect:function(t,i){Oc(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(Bs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(Bs){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=rA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Vd(t);var i=t.queue,a=gv.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(t,i){var a=fn();return Ud(a,t,i)},useTransition:function(){var t=Vd(!1);return t=hv.bind(null,Ne,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=fn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(je&124)!==0||jy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,nv(By.bind(null,l,d,t),[t]),l.flags|=2048,za(9,Dc(),qy.bind(null,l,d,a,i),null),a},useId:function(){var t=fn(),i=nt.identifierPrefix;if(Fe){var a=Fr,l=Hr;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Rc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=WS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:jd,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qd.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:xd,useCacheRefresh:function(){return fn().memoizedState=nA.bind(null,Ne)}},Ev={readContext:Zt,use:Ic,useCallback:lv,useContext:Zt,useEffect:rv,useImperativeHandle:ov,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:uv,useReducer:Cc,useRef:tv,useState:function(){return Cc(Kr)},useDebugValue:Ld,useDeferredValue:function(t,i){var a=bt();return cv(a,Je.memoizedState,t,i)},useTransition:function(){var t=Cc(Kr)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Cl(t),i]},useSyncExternalStore:zy,useId:pv,useHostTransitionStatus:jd,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,i){var a=bt();return Gy(a,Je,t,i)},useMemoCache:xd,useCacheRefresh:mv},iA={readContext:Zt,use:Ic,useCallback:lv,useContext:Zt,useEffect:rv,useImperativeHandle:ov,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:uv,useReducer:kd,useRef:tv,useState:function(){return kd(Kr)},useDebugValue:Ld,useDeferredValue:function(t,i){var a=bt();return Je===null?Ud(a,t,i):cv(a,Je.memoizedState,t,i)},useTransition:function(){var t=kd(Kr)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:Cl(t),i]},useSyncExternalStore:zy,useId:pv,useHostTransitionStatus:jd,useFormState:ev,useActionState:ev,useOptimistic:function(t,i){var a=bt();return Je!==null?Gy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xd,useCacheRefresh:mv},ja=null,Nl=0;function Mc(t){var i=Nl;return Nl+=1,ja===null&&(ja=[]),Ny(ja,t,i)}function xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function kc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Tv(t){var i=t._init;return i(t._payload)}function bv(t){function i(P,k){if(t){var z=P.deletions;z===null?(P.deletions=[k],P.flags|=16):z.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)i(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function h(P,k){return P=Br(P,k),P.index=0,P.sibling=null,P}function d(P,k,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<k?(P.flags|=67108866,k):z):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,k,z,W){return k===null||k.tag!==6?(k=ld(z,P.mode,W),k.return=P,k):(k=h(k,z),k.return=P,k)}function I(P,k,z,W){var de=z.type;return de===M?X(P,k,z.props.children,W,z.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Tv(de)===k.type)?(k=h(k,z.props),xl(k,z),k.return=P,k):(k=gc(z.type,z.key,z.props,null,P.mode,W),xl(k,z),k.return=P,k)}function j(P,k,z,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=ud(z,P.mode,W),k.return=P,k):(k=h(k,z.children||[]),k.return=P,k)}function X(P,k,z,W,de){return k===null||k.tag!==7?(k=ks(z,P.mode,W,de),k.return=P,k):(k=h(k,z),k.return=P,k)}function Z(P,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ld(""+k,P.mode,z),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return z=gc(k.type,k.key,k.props,null,P.mode,z),xl(z,k),z.return=P,z;case O:return k=ud(k,P.mode,z),k.return=P,k;case A:var W=k._init;return k=W(k._payload),Z(P,k,z)}if(st(k)||L(k))return k=ks(k,P.mode,z,null),k.return=P,k;if(typeof k.then=="function")return Z(P,Mc(k),z);if(k.$$typeof===Q)return Z(P,Ec(P,k),z);kc(P,k)}return null}function B(P,k,z,W){var de=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:T(P,k,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===de?I(P,k,z,W):null;case O:return z.key===de?j(P,k,z,W):null;case A:return de=z._init,z=de(z._payload),B(P,k,z,W)}if(st(z)||L(z))return de!==null?null:X(P,k,z,W,null);if(typeof z.then=="function")return B(P,k,Mc(z),W);if(z.$$typeof===Q)return B(P,k,Ec(P,z),W);kc(P,z)}return null}function H(P,k,z,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(z)||null,T(k,P,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return P=P.get(W.key===null?z:W.key)||null,I(k,P,W,de);case O:return P=P.get(W.key===null?z:W.key)||null,j(k,P,W,de);case A:var Me=W._init;return W=Me(W._payload),H(P,k,z,W,de)}if(st(W)||L(W))return P=P.get(z)||null,X(k,P,W,de,null);if(typeof W.then=="function")return H(P,k,z,Mc(W),de);if(W.$$typeof===Q)return H(P,k,z,Ec(k,W),de);kc(k,W)}return null}function be(P,k,z,W){for(var de=null,Me=null,ge=k,Ee=k=0,zt=null;ge!==null&&Ee<z.length;Ee++){ge.index>Ee?(zt=ge,ge=null):zt=ge.sibling;var He=B(P,ge,z[Ee],W);if(He===null){ge===null&&(ge=zt);break}t&&ge&&He.alternate===null&&i(P,ge),k=d(He,k,Ee),Me===null?de=He:Me.sibling=He,Me=He,ge=zt}if(Ee===z.length)return a(P,ge),Fe&&Ps(P,Ee),de;if(ge===null){for(;Ee<z.length;Ee++)ge=Z(P,z[Ee],W),ge!==null&&(k=d(ge,k,Ee),Me===null?de=ge:Me.sibling=ge,Me=ge);return Fe&&Ps(P,Ee),de}for(ge=l(ge);Ee<z.length;Ee++)zt=H(ge,P,Ee,z[Ee],W),zt!==null&&(t&&zt.alternate!==null&&ge.delete(zt.key===null?Ee:zt.key),k=d(zt,k,Ee),Me===null?de=zt:Me.sibling=zt,Me=zt);return t&&ge.forEach(function(qi){return i(P,qi)}),Fe&&Ps(P,Ee),de}function _e(P,k,z,W){if(z==null)throw Error(s(151));for(var de=null,Me=null,ge=k,Ee=k=0,zt=null,He=z.next();ge!==null&&!He.done;Ee++,He=z.next()){ge.index>Ee?(zt=ge,ge=null):zt=ge.sibling;var qi=B(P,ge,He.value,W);if(qi===null){ge===null&&(ge=zt);break}t&&ge&&qi.alternate===null&&i(P,ge),k=d(qi,k,Ee),Me===null?de=qi:Me.sibling=qi,Me=qi,ge=zt}if(He.done)return a(P,ge),Fe&&Ps(P,Ee),de;if(ge===null){for(;!He.done;Ee++,He=z.next())He=Z(P,He.value,W),He!==null&&(k=d(He,k,Ee),Me===null?de=He:Me.sibling=He,Me=He);return Fe&&Ps(P,Ee),de}for(ge=l(ge);!He.done;Ee++,He=z.next())He=H(ge,P,Ee,He.value,W),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Ee:He.key),k=d(He,k,Ee),Me===null?de=He:Me.sibling=He,Me=He);return t&&ge.forEach(function(sR){return i(P,sR)}),Fe&&Ps(P,Ee),de}function et(P,k,z,W){if(typeof z=="object"&&z!==null&&z.type===M&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var de=z.key;k!==null;){if(k.key===de){if(de=z.type,de===M){if(k.tag===7){a(P,k.sibling),W=h(k,z.props.children),W.return=P,P=W;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Tv(de)===k.type){a(P,k.sibling),W=h(k,z.props),xl(W,z),W.return=P,P=W;break e}a(P,k);break}else i(P,k);k=k.sibling}z.type===M?(W=ks(z.props.children,P.mode,W,z.key),W.return=P,P=W):(W=gc(z.type,z.key,z.props,null,P.mode,W),xl(W,z),W.return=P,P=W)}return _(P);case O:e:{for(de=z.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(P,k.sibling),W=h(k,z.children||[]),W.return=P,P=W;break e}else{a(P,k);break}else i(P,k);k=k.sibling}W=ud(z,P.mode,W),W.return=P,P=W}return _(P);case A:return de=z._init,z=de(z._payload),et(P,k,z,W)}if(st(z))return be(P,k,z,W);if(L(z)){if(de=L(z),typeof de!="function")throw Error(s(150));return z=de.call(z),_e(P,k,z,W)}if(typeof z.then=="function")return et(P,k,Mc(z),W);if(z.$$typeof===Q)return et(P,k,Ec(P,z),W);kc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(P,k.sibling),W=h(k,z),W.return=P,P=W):(a(P,k),W=ld(z,P.mode,W),W.return=P,P=W),_(P)):a(P,k)}return function(P,k,z,W){try{Nl=0;var de=et(P,k,z,W);return ja=null,de}catch(ge){if(ge===bl||ge===bc)throw ge;var Me=Tn(29,ge,null,P.mode);return Me.lanes=W,Me.return=P,Me}finally{}}}var qa=bv(!0),wv=bv(!1),jn=te(null),vr=null;function Ri(t){var i=t.alternate;ie(Nt,Nt.current&1),ie(jn,t),vr===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(vr=t)}function Sv(t){if(t.tag===22){if(ie(Nt,Nt.current),ie(jn,t),vr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(vr=t)}}else Ii()}function Ii(){ie(Nt,Nt.current),ie(jn,jn.current)}function Qr(t){se(jn),vr===t&&(vr=null),se(Nt)}var Nt=te(0);function Vc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Np(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Bd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=wi(l);h.payload=i,a!=null&&(h.callback=a),i=Si(t,h,l),i!==null&&(Rn(i,t,l),Sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=wi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Si(t,h,l),i!==null&&(Rn(i,t,l),Sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=wi(a);l.tag=2,i!=null&&(l.callback=i),i=Si(t,l,a),i!==null&&(Rn(i,t,a),Sl(i,t,a))}};function Av(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!pl(a,l)||!pl(h,d):!0}function Rv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Hd.enqueueReplaceState(i,i.state,null)}function Hs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Iv(t){Pc(t)}function Cv(t){console.error(t)}function Dv(t){Pc(t)}function Lc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ov(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fd(t,i,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Lc(t,i)},a}function Nv(t){return t=wi(t),t.tag=3,t}function xv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ov(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ov(i,a,l),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function sA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&_l(i,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 13:return vr===null?pp():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_d?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gp(t,l,h)),!1;case 22:return a.flags|=65536,l===_d?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gp(t,l,h)),!1}throw Error(s(435,a.tag))}return gp(t,l,h),pp(),!1}if(Fe)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==fd&&(t=Error(s(422),{cause:l}),vl(Pn(t,a)))):(l!==fd&&(i=Error(s(423),{cause:l}),vl(Pn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=Fd(t.stateNode,l,h),bd(t,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),zl===null?zl=[d]:zl.push(d),pt!==4&&(pt=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Fd(a.stateNode,l,t),bd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Nv(h),xv(h,t,a,l),bd(a,h),!1}a=a.return}while(a!==null);return!1}var Mv=Error(s(461)),Lt=!1;function Gt(t,i,a,l){i.child=t===null?wv(i,null,a,l):qa(i,t.child,a,l)}function kv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return js(i),l=Id(t,i,a,_,d,h),T=Cd(),t!==null&&!Lt?(Dd(t,i,h),Yr(t,i,h)):(Fe&&T&&cd(i),i.flags|=1,Gt(t,i,l,h),i.child)}function Vv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!od(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Pv(t,i,d,l,h)):(t=gc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Jd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(_,l)&&t.ref===i.ref)return Yr(t,i,h)}return i.flags|=1,t=Br(d,l),t.ref=i.ref,t.return=i,i.child=t}function Pv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(pl(d,l)&&t.ref===i.ref)if(Lt=!1,i.pendingProps=l=d,Jd(t,h))(t.flags&131072)!==0&&(Lt=!0);else return i.lanes=t.lanes,Yr(t,i,h)}return Gd(t,i,a,l,h)}function Lv(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Uv(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(i,d!==null?d.cachePool:null),d!==null?Py(i,d):Sd(),Sv(i);else return i.lanes=i.childLanes=536870912,Uv(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Tc(i,d.cachePool),Py(i,d),Ii(),i.memoizedState=null):(t!==null&&Tc(i,null),Sd(),Ii());return Gt(t,i,h,a),i.child}function Uv(t,i,a,l){var h=vd();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Tc(i,null),Sd(),Sv(i),t!==null&&_l(t,i,l,!0),null}function Uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Gd(t,i,a,l,h){return js(i),a=Id(t,i,a,l,void 0,h),l=Cd(),t!==null&&!Lt?(Dd(t,i,h),Yr(t,i,h)):(Fe&&l&&cd(i),i.flags|=1,Gt(t,i,a,h),i.child)}function zv(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=Uy(i,l,a,h),Ly(t),l=Cd(),t!==null&&!Lt?(Dd(t,i,d),Yr(t,i,d)):(Fe&&l&&cd(i),i.flags|=1,Gt(t,i,a,d),i.child)}function jv(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Na,_=a.contextType;typeof _=="object"&&_!==null&&(d=Zt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ed(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Zt(_):Na,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Bd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Hd.enqueueReplaceState(d,d.state,null),Rl(i,l,d,h),Al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Hs(a,T);d.props=I;var j=d.context,X=a.contextType;_=Na,typeof X=="object"&&X!==null&&(_=Zt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==_)&&Rv(i,d,l,_),bi=!1;var B=i.memoizedState;d.state=B,Rl(i,l,d,h),Al(),j=i.memoizedState,T||B!==j||bi?(typeof Z=="function"&&(Bd(i,a,Z,l),j=i.memoizedState),(I=bi||Av(i,a,I,l,B,j,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Td(t,i),_=i.memoizedProps,X=Hs(a,_),d.props=X,Z=i.pendingProps,B=d.context,j=a.contextType,I=Na,typeof j=="object"&&j!==null&&(I=Zt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||B!==I)&&Rv(i,d,l,I),bi=!1,B=i.memoizedState,d.state=B,Rl(i,l,d,h),Al();var H=i.memoizedState;_!==Z||B!==H||bi||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof T=="function"&&(Bd(i,a,T,l),H=i.memoizedState),(X=bi||Av(i,a,X,l,B,H,I)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=qa(i,t.child,null,h),i.child=qa(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yr(t,i,h),t}function qv(t,i,a,l){return yl(),i.flags|=256,Gt(t,i,a,l),i.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(t){return{baseLanes:t,cachePool:Cy()}}function Qd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=qn),t}function Bv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Ri(i):Ii(),Fe){var T=dt,I;if(I=T){e:{for(I=T,T=yr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Wn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Vs!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},I=Tn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,un=i,dt=null,I=!0):I=!1}I||Us(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Np(T)?i.lanes=32:i.lanes=536870912,null;Qr(i)}return T=l.children,l=l.fallback,h?(Ii(),h=i.mode,T=zc({mode:"hidden",children:T},h),l=ks(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Kd(a),h.childLanes=Qd(t,_,a),i.memoizedState=$d,l):(Ri(i),Yd(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Ri(i),i.flags&=-257,i=Xd(t,i,a)):i.memoizedState!==null?(Ii(),i.child=t.child,i.flags|=128,i=null):(Ii(),h=l.fallback,T=i.mode,l=zc({mode:"visible",children:l.children},T),h=ks(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,qa(i,t.child,null,a),l=i.child,l.memoizedState=Kd(a),l.childLanes=Qd(t,_,a),i.memoizedState=$d,i=h);else if(Ri(i),Np(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,vl({value:l,source:null,stack:null}),i=Xd(t,i,a)}else if(Lt||_l(t,i,a,!1),_=(a&t.childLanes)!==0,Lt||_){if(_=nt,_!==null&&(l=a&-a,l=(l&42)!==0?1:pi(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Oa(t,l),Rn(_,t,l),Mv;T.data==="$?"||pp(),i=Xd(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,dt=Wn(T.nextSibling),un=i,Fe=!0,Ls=null,yr=!1,t!==null&&(Un[zn++]=Hr,Un[zn++]=Fr,Un[zn++]=Vs,Hr=t.id,Fr=t.overflow,Vs=i),i=Yd(i,l.children),i.flags|=4096);return i}return h?(Ii(),h=l.fallback,T=i.mode,I=t.child,j=I.sibling,l=Br(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?h=Br(j,h):(h=ks(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Kd(a):(I=T.cachePool,I!==null?(j=Ot._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Cy(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Qd(t,_,a),i.memoizedState=$d,l):(Ri(i),a=t.child,t=a.sibling,a=Br(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Yd(t,i){return i=zc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function zc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xd(t,i,a){return qa(i,t.child,null,a),t=Yd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Hv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),pd(t.return,i,a)}function Wd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Fv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Gt(t,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hv(t,a,i);else if(t.tag===19)Hv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Nt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Vc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wd(i,!0,a,null,d);break;case"together":Wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(_l(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Br(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Br(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Jd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function aA(t,i,a){switch(i.tag){case 3:Be(i,i.stateNode.containerInfo),Ti(i,Ot,t.memoizedState.cache),yl();break;case 27:case 5:Dn(i);break;case 4:Be(i,i.stateNode.containerInfo);break;case 10:Ti(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Bv(t,i,a):(Ri(i),t=Yr(t,i,a),t!==null?t.sibling:null);Ri(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(_l(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Fv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,Lv(t,i,a);case 24:Ti(i,Ot,t.memoizedState.cache)}return Yr(t,i,a)}function Gv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Jd(t,a)&&(i.flags&128)===0)return Lt=!1,aA(t,i,a);Lt=(t.flags&131072)!==0}else Lt=!1,Fe&&(i.flags&1048576)!==0&&Ty(i,vc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")od(l)?(t=Hs(l,t),i.tag=1,i=jv(null,i,l,t,a)):(i.tag=0,i=Gd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=kv(null,i,l,t,a);break e}else if(h===C){i.tag=14,i=Vv(null,i,l,t,a);break e}}throw i=Rt(l)||l,Error(s(306,i,""))}}return i;case 0:return Gd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Hs(l,i.pendingProps),jv(t,i,l,h,a);case 3:e:{if(Be(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Td(t,i),Rl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ti(i,Ot,l),l!==d.cache&&md(i,[Ot],a,!0),Al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=qv(t,i,l,a);break e}else if(l!==h){h=Pn(Error(s(424)),i),vl(h),i=qv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Wn(t.firstChild),un=i,Fe=!0,Ls=null,yr=!0,a=wv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===h){i=Yr(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Uc(t,i),t===null?(a=Y_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Zc(ve.current).createElement(a),l[It]=i,l[_t]=t,Kt(l,a,t),mt(l),i.stateNode=l):i.memoizedState=Y_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Dn(i),t===null&&Fe&&(l=i.stateNode=$_(i.type,i.pendingProps,ve.current),un=i,yr=!0,h=dt,Pi(i.type)?(xp=h,dt=Wn(l.firstChild)):dt=h),Gt(t,i,i.pendingProps.children,a),Uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=dt)&&(l=kA(l,i.type,i.pendingProps,yr),l!==null?(i.stateNode=l,un=i,dt=Wn(l.firstChild),yr=!1,h=!0):h=!1),h||Us(i)),Dn(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Cp(h,d)?l=null:_!==null&&Cp(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Id(t,i,JS,null,null,a),Ql._currentValue=h),Uc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=dt)&&(a=VA(a,i.pendingProps,yr),a!==null?(i.stateNode=a,un=i,dt=null,t=!0):t=!1),t||Us(i)),null;case 13:return Bv(t,i,a);case 4:return Be(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=qa(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return kv(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ti(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Zt(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Vv(t,i,i.type,i.pendingProps,a);case 15:return Pv(t,i,i.type,i.pendingProps,a);case 19:return Fv(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=zc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Br(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Lv(t,i,a);case 24:return js(i),l=Zt(Ot),t===null?(h=vd(),h===null&&(h=nt,d=gd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ed(i),Ti(i,Ot,h)):((t.lanes&a)!==0&&(Td(t,i),Rl(i,null,null,a),Al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ti(i,Ot,l)):(l=d.cache,Ti(i,Ot,l),l!==h.cache&&md(i,[Ot],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xr(t){t.flags|=4}function $v(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!eE(i)){if(i=jn.current,i!==null&&((je&4194048)===je?vr!==null:(je&62914560)!==je&&(je&536870912)===0||i!==vr))throw wl=_d,Dy;t.flags|=8192}}function jc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Xo():536870912,t.lanes|=i,Ga|=i)}function Ml(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function oA(t,i,a){var l=i.pendingProps;switch(hd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$r(Ot),kt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(gl(i)?Xr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sy())),ct(i),null;case 26:return a=i.memoizedState,t===null?(Xr(i),a!==null?(ct(i),$v(i,a)):(ct(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Xr(i),ct(i),$v(i,a)):(ct(i),i.flags&=-16777217):(t.memoizedProps!==l&&Xr(i),ct(i),i.flags&=-16777217),null;case 27:hn(i),a=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=me.current,gl(i)?by(i):(t=$_(h,l,a),i.stateNode=t,Xr(i))}return ct(i),null;case 5:if(hn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(t=me.current,gl(i))by(i);else{switch(h=Zc(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[_t]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xr(i)}}return ct(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ve.current,gl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||z_(t.nodeValue,a)),t||Us(i)}else t=Zc(t).createTextNode(l),t[It]=i,i.stateNode=t}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=gl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else yl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=Sy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Qr(i),i):(Qr(i),null)}if(Qr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),jc(i,i.updateQueue),ct(i),null;case 4:return kt(),t===null&&wp(i.stateNode.containerInfo),ct(i),null;case 10:return $r(i.type),ct(i),null;case 19:if(se(Nt),h=i.memoizedState,h===null)return ct(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ml(h,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Vc(t),d!==null){for(i.flags|=128,Ml(h,!1),t=d.updateQueue,i.updateQueue=t,jc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ey(a,t),a=a.sibling;return ie(Nt,Nt.current&1|2),i.child}t=t.sibling}h.tail!==null&&On()>Hc&&(i.flags|=128,l=!0,Ml(h,!1),i.lanes=4194304)}else{if(!l)if(t=Vc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,jc(i,t),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ct(i),null}else 2*On()-h.renderingStartTime>Hc&&a!==536870912&&(i.flags|=128,l=!0,Ml(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=On(),i.sibling=null,t=Nt.current,ie(Nt,l?t&1|2:t&1),i):(ct(i),null);case 22:case 23:return Qr(i),Ad(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&jc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&se(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$r(Ot),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lA(t,i){switch(hd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $r(Ot),kt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return hn(i),null;case 13:if(Qr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));yl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(Nt),null;case 4:return kt(),null;case 10:return $r(i.type),null;case 22:case 23:return Qr(i),Ad(),t!==null&&se(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $r(Ot),null;case 25:return null;default:return null}}function Kv(t,i){switch(hd(i),i.tag){case 3:$r(Ot),kt();break;case 26:case 27:case 5:hn(i);break;case 4:kt();break;case 13:Qr(i);break;case 19:se(Nt);break;case 10:$r(i.type);break;case 22:case 23:Qr(i),Ad(),t!==null&&se(qs);break;case 24:$r(Ot)}}function kl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){tt(i,i.return,T)}}function Ci(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,j=T;try{j()}catch(X){tt(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){tt(i,i.return,X)}}function Qv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Vy(i,a)}catch(l){tt(t,t.return,l)}}}function Yv(t,i,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function Vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,i,h)}}function _r(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function Xv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Zd(t,i,a){try{var l=t.stateNode;DA(l,t.type,a,i),l[_t]=i}catch(h){tt(t,t.return,h)}}function Wv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tp(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jc));else if(l!==4&&(l===27&&Pi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(tp(t,i,a),t=t.sibling;t!==null;)tp(t,i,a),t=t.sibling}function qc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Pi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qc(t,i,a),t=t.sibling;t!==null;)qc(t,i,a),t=t.sibling}function Jv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[It]=t,i[_t]=a}catch(d){tt(t,t.return,d)}}var Wr=!1,yt=!1,np=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function uA(t,i){if(t=t.containerInfo,Rp=sh,t=cy(t),ed(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,j=0,X=0,Z=t,B=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=_+h),Z!==d||l!==0&&Z.nodeType!==3||(I=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===t)break t;if(B===a&&++j===h&&(T=_),B===d&&++X===l&&(I=_),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ip={focusedElem:t,selectionRange:a},sh=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Hs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){tt(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Op(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Op(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function e_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Di(t,a),l&4&&kl(5,a);break;case 1:if(Di(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){tt(a,a.return,_)}else{var h=Hs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}l&64&&Qv(a),l&512&&Vl(a,a.return);break;case 3:if(Di(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vy(t,i)}catch(_){tt(a,a.return,_)}}break;case 27:i===null&&l&4&&Jv(a);case 26:case 5:Di(t,a),i===null&&l&4&&Xv(a),l&512&&Vl(a,a.return);break;case 12:Di(t,a);break;case 13:Di(t,a),l&4&&r_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vA.bind(null,a),PA(t,a))));break;case 22:if(l=a.memoizedState!==null||Wr,!l){i=i!==null&&i.memoizedState!==null||yt,h=Wr;var d=yt;Wr=l,(yt=i)&&!d?Oi(t,a,(a.subtreeFlags&8772)!==0):Di(t,a),Wr=h,yt=d}break;case 30:break;default:Di(t,a)}}function t_(t){var i=t.alternate;i!==null&&(t.alternate=null,t_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&yi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,dn=!1;function Jr(t,i,a){for(a=a.child;a!==null;)n_(t,i,a),a=a.sibling}function n_(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||_r(a,i),Jr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||_r(a,i);var l=ot,h=dn;Pi(a.type)&&(ot=a.stateNode,dn=!1),Jr(t,i,a),Fl(a.stateNode),ot=l,dn=h;break;case 5:yt||_r(a,i);case 6:if(l=ot,h=dn,ot=null,Jr(t,i,a),ot=l,dn=h,ot!==null)if(dn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:ot!==null&&(dn?(t=ot,F_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Jl(t)):F_(ot,a.stateNode));break;case 4:l=ot,h=dn,ot=a.stateNode.containerInfo,dn=!0,Jr(t,i,a),ot=l,dn=h;break;case 0:case 11:case 14:case 15:yt||Ci(2,a,i),yt||Ci(4,a,i),Jr(t,i,a);break;case 1:yt||(_r(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yv(a,i,l)),Jr(t,i,a);break;case 21:Jr(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Jr(t,i,a),yt=l;break;default:Jr(t,i,a)}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jl(t)}catch(a){tt(i,i.return,a)}}function cA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Zv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Zv),i;default:throw Error(s(435,t.tag))}}function rp(t,i){var a=cA(t);i.forEach(function(l){var h=_A.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function bn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Pi(T.type)){ot=T.stateNode,dn=!1;break e}break;case 5:ot=T.stateNode,dn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ot===null)throw Error(s(160));n_(d,_,h),ot=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)i_(i,t),i=i.sibling}var Xn=null;function i_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),wn(t),l&4&&(Ci(3,t,t.return),kl(3,t),Ci(5,t,t.return));break;case 1:bn(i,t),wn(t),l&512&&(yt||a===null||_r(a,a.return)),l&64&&Wr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(bn(i,t),wn(t),l&512&&(yt||a===null||_r(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vs]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[It]=t,mt(d),l=d;break e;case"link":var _=J_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=J_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,mt(d),l=d}t.stateNode=l}else Z_(h,t.type,t.stateNode);else t.stateNode=W_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Z_(h,t.type,t.stateNode):W_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zd(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(i,t),wn(t),l&512&&(yt||a===null||_r(a,a.return)),a!==null&&l&4&&Zd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,t),wn(t),l&512&&(yt||a===null||_r(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(H){tt(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(np=!0);break;case 6:if(bn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){tt(t,t.return,H)}}break;case 3:if(nh=null,h=Xn,Xn=eh(i.containerInfo),bn(i,t),Xn=h,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(i.containerInfo)}catch(H){tt(t,t.return,H)}np&&(np=!1,s_(t));break;case 4:l=Xn,Xn=eh(t.stateNode.containerInfo),bn(i,t),wn(t),Xn=l;break;case 12:bn(i,t),wn(t);break;case 13:bn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(up=On()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rp(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Wr,X=yt;if(Wr=j||h,yt=X||I,bn(i,t),yt=X,Wr=j,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Wr||yt||Fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){tt(I,I.return,H)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){tt(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rp(t,a))));break;case 19:bn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rp(t,l)));break;case 30:break;case 21:break;default:bn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ep(t);qc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(xn(_,""),a.flags&=-33);var T=ep(t);qc(t,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,j=ep(t);tp(t,j,I);break;default:throw Error(s(161))}}catch(X){tt(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function s_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;s_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Di(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e_(t,i.alternate,i),i=i.sibling}function Fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ci(4,i,i.return),Fs(i);break;case 1:_r(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Yv(i,i.return,a),Fs(i);break;case 27:Fl(i.stateNode);case 26:case 5:_r(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}t=t.sibling}}function Oi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Oi(h,d,a),kl(4,d);break;case 1:if(Oi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){tt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ky(I[h],T)}catch(j){tt(l,l.return,j)}}a&&_&64&&Qv(d),Vl(d,d.return);break;case 27:Jv(d);case 26:case 5:Oi(h,d,a),a&&l===null&&_&4&&Xv(d),Vl(d,d.return);break;case 12:Oi(h,d,a);break;case 13:Oi(h,d,a),a&&_&4&&r_(h,d);break;case 22:d.memoizedState===null&&Oi(h,d,a),Vl(d,d.return);break;case 30:break;default:Oi(h,d,a)}i=i.sibling}}function ip(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function sp(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&El(t))}function Er(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a_(t,i,a,l),i=i.sibling}function a_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Er(t,i,a,l),h&2048&&kl(9,i);break;case 1:Er(t,i,a,l);break;case 3:Er(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&El(t)));break;case 12:if(h&2048){Er(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){tt(i,i.return,I)}}else Er(t,i,a,l);break;case 13:Er(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Er(t,i,a,l):Pl(t,i):d._visibility&2?Er(t,i,a,l):(d._visibility|=2,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ip(_,i);break;case 24:Er(t,i,a,l),h&2048&&sp(i.alternate,i);break;default:Er(t,i,a,l)}}function Ba(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,I=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Ba(d,_,T,I,h),kl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ba(d,_,T,I,h):Pl(d,_):(X._visibility|=2,Ba(d,_,T,I,h)),h&&j&2048&&ip(_.alternate,_);break;case 24:Ba(d,_,T,I,h),h&&j&2048&&sp(_.alternate,_);break;default:Ba(d,_,T,I,h)}i=i.sibling}}function Pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&ip(l.alternate,l);break;case 24:Pl(a,l),h&2048&&sp(l.alternate,l);break;default:Pl(a,l)}i=i.sibling}}var Ll=8192;function Ha(t){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)o_(t),t=t.sibling}function o_(t){switch(t.tag){case 26:Ha(t),t.flags&Ll&&t.memoizedState!==null&&YA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var i=Xn;Xn=eh(t.stateNode.containerInfo),Ha(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ll,Ll=16777216,Ha(t),Ll=i):Ha(t));break;default:Ha(t)}}function l_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,c_(l,t)}l_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)u_(t),t=t.sibling}function u_(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&Ci(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Bc(t)):Ul(t);break;default:Ul(t)}}function Bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,c_(l,t)}l_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ci(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}t=t.sibling}}function c_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ci(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(t_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var hA={getCacheForType:function(t){var i=Zt(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},fA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,ke=null,je=0,Xe=0,Sn=null,Ni=!1,Fa=!1,ap=!1,Zr=0,pt=0,xi=0,Gs=0,op=0,qn=0,Ga=0,zl=null,pn=null,lp=!1,up=0,Hc=1/0,Fc=null,Mi=null,$t=0,ki=null,$a=null,Ka=0,cp=0,hp=null,h_=null,jl=0,fp=null;function An(){if((Ye&2)!==0&&je!==0)return je&-je;if(Y.T!==null){var t=ka;return t!==0?t:_p()}return mi()}function f_(){qn===0&&(qn=(je&536870912)===0||Fe?Yo():536870912);var t=jn.current;return t!==null&&(t.flags|=32),qn}function Rn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Vi(t,je,qn,!1)),Nr(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(Gs|=a),pt===4&&Vi(t,je,qn,!1)),Tr(t))}function d_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ys(t,i),h=l?mA(t,i):mp(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Vi(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!dA(a)){h=mp(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=zl;var I=T.current.memoizedState.isDehydrated;if(I&&(Qa(T,_).flags|=256),_=mp(T,_,!1),_!==2){if(ap&&!I){T.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Vi(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vi(l,i,qn,!Ni);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=up+300-On(),10<h)){if(Vi(l,i,qn,!Ni),ha(l,0,!0)!==0)break e;l.timeoutHandle=B_(p_.bind(null,l,a,pn,Fc,lp,i,qn,Gs,Ga,Ni,d,2,-0,0),h);break e}p_(l,a,pn,Fc,lp,i,qn,Gs,Ga,Ni,d,0,-0,0)}}break}while(!0);Tr(t)}function p_(t,i,a,l,h,d,_,T,I,j,X,Z,B,H){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:QA},o_(i),Z=XA(),Z!==null)){t.cancelPendingCommit=Z(T_.bind(null,t,i,d,a,l,h,_,T,I,X,1,B,H)),Vi(t,d,_,!j);return}T_(t,i,d,a,l,h,_,T,I)}function dA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vi(t,i,a,l){i&=~op,i&=~Gs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Jt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ar(t,a,i)}function Gc(){return(Ye&6)===0?(ql(0),!1):!0}function dp(){if(ke!==null){if(Xe===0)var t=ke.return;else t=ke,Gr=zs=null,Od(t),ja=null,Nl=0,t=ke;for(;t!==null;)Kv(t.alternate,t),t=t.return;ke=null}}function Qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,NA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dp(),nt=t,ke=a=Br(t.current,null),je=i,Xe=0,Sn=null,Ni=!1,Fa=ys(t,i),ap=!1,Ga=qn=op=Gs=xi=pt=0,pn=zl=null,lp=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Jt(l),d=1<<h;i|=t[h],l&=~d}return Zr=i,dc(),a}function m_(t,i){Ne=null,Y.H=xc,i===bl||i===bc?(i=xy(),Xe=3):i===Dy?(i=xy(),Xe=4):Xe=i===Mv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,ke===null&&(pt=1,Lc(t,Pn(i,t.current)))}function g_(){var t=Y.H;return Y.H=xc,t===null?xc:t}function y_(){var t=Y.A;return Y.A=hA,t}function pp(){pt=4,Ni||(je&4194048)!==je&&jn.current!==null||(Fa=!0),(xi&134217727)===0&&(Gs&134217727)===0||nt===null||Vi(nt,je,qn,!1)}function mp(t,i,a){var l=Ye;Ye|=2;var h=g_(),d=y_();(nt!==t||je!==i)&&(Fc=null,Qa(t,i)),i=!1;var _=pt;e:do try{if(Xe!==0&&ke!==null){var T=ke,I=Sn;switch(Xe){case 8:dp(),_=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var j=Xe;if(Xe=0,Sn=null,Ya(t,T,I,j),a&&Fa){_=0;break e}break;default:j=Xe,Xe=0,Sn=null,Ya(t,T,I,j)}}pA(),_=pt;break}catch(X){m_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Gr=zs=null,Ye=l,Y.H=h,Y.A=d,ke===null&&(nt=null,je=0,dc()),_}function pA(){for(;ke!==null;)v_(ke)}function mA(t,i){var a=Ye;Ye|=2;var l=g_(),h=y_();nt!==t||je!==i?(Fc=null,Hc=On()+500,Qa(t,i)):Fa=ys(t,i);e:do try{if(Xe!==0&&ke!==null){i=ke;var d=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,Ya(t,i,d,1);break;case 2:case 9:if(Oy(d)){Xe=0,Sn=null,__(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Tr(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Oy(d)?(Xe=0,Sn=null,__(i)):(Xe=0,Sn=null,Ya(t,i,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var T=ke;if(!_||eE(_)){Xe=0,Sn=null;var I=T.sibling;if(I!==null)ke=I;else{var j=T.return;j!==null?(ke=j,$c(j)):ke=null}break t}}Xe=0,Sn=null,Ya(t,i,d,5);break;case 6:Xe=0,Sn=null,Ya(t,i,d,6);break;case 8:dp(),pt=6;break e;default:throw Error(s(462))}}gA();break}catch(X){m_(t,X)}while(!0);return Gr=zs=null,Y.H=l,Y.A=h,Ye=a,ke!==null?0:(nt=null,je=0,dc(),pt)}function gA(){for(;ke!==null&&!Go();)v_(ke)}function v_(t){var i=Gv(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,i===null?$c(t):ke=i}function __(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=zv(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=zv(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Od(i);default:Kv(a,i),i=ke=Ey(i,Zr),i=Gv(a,i,Zr)}t.memoizedProps=t.pendingProps,i===null?$c(t):ke=i}function Ya(t,i,a,l){Gr=zs=null,Od(i),ja=null,Nl=0;var h=i.return;try{if(sA(t,h,i,a,je)){pt=1,Lc(t,Pn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;pt=1,Lc(t,Pn(a,t.current)),ke=null;return}i.flags&32768?(Fe||l===1?t=!0:Fa||(je&536870912)!==0?t=!1:(Ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(i,t)):$c(i)}function $c(t){var i=t;do{if((i.flags&32768)!==0){E_(i,Ni);return}t=i.return;var a=oA(i.alternate,i,Zr);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);pt===0&&(pt=5)}function E_(t,i){do{var a=lA(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);pt=6,ke=null}function T_(t,i,a,l,h,d,_,T,I){t.cancelPendingCommit=null;do Kc();while($t!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=sd,Wo(t,a,d,_,T,I),t===nt&&(ke=nt=null,je=0),$a=i,ki=t,Ka=a,cp=d,hp=h,h_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,EA(ds,function(){return R_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,_=Ye,Ye|=4;try{uA(t,i,a)}finally{Ye=_,oe.p=h,Y.T=l}}$t=1,b_(),w_(),S_()}}function b_(){if($t===1){$t=0;var t=ki,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{i_(i,t);var d=Ip,_=cy(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&uy(T.ownerDocument.documentElement,T)){if(I!==null&&ed(T)){var j=I.start,X=I.end;if(X===void 0&&(X=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),be=T.textContent.length,_e=Math.min(I.start,be),et=I.end===void 0?_e:Math.min(I.end,be);!H.extend&&_e>et&&(_=et,et=_e,_e=_);var P=ly(T,_e),k=ly(T,et);if(P&&k&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var z=Z.createRange();z.setStart(P.node,P.offset),H.removeAllRanges(),_e>et?(H.addRange(z),H.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),H.addRange(z))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var W=Z[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}sh=!!Rp,Ip=Rp=null}finally{Ye=h,oe.p=l,Y.T=a}}t.current=i,$t=2}}function w_(){if($t===2){$t=0;var t=ki,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{e_(t,i.alternate,i)}finally{Ye=h,oe.p=l,Y.T=a}}$t=3}}function S_(){if($t===4||$t===3){$t=0,Bu();var t=ki,i=$a,a=Ka,l=h_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,$a=ki=null,A_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mi=null),fa(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,oe.p=h}}(Ka&3)!==0&&Kc(),Tr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===fp?jl++:(jl=0,fp=t):jl=0,ql(0)}}function A_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,El(i)))}function Kc(t){return b_(),w_(),S_(),R_()}function R_(){if($t!==5)return!1;var t=ki,i=cp;cp=0;var a=fa(Ka),l=Y.T,h=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=hp,hp=null;var d=ki,_=Ka;if($t=0,$a=ki=null,Ka=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,u_(d.current),a_(d,d.current,_,a),Ye=T,ql(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{oe.p=h,Y.T=l,A_(t,i)}}function I_(t,i,a){i=Pn(a,i),i=Fd(t.stateNode,i,2),t=Si(t,i,2),t!==null&&(Nr(t,2),Tr(t))}function tt(t,i,a){if(t.tag===3)I_(t,t,a);else for(;i!==null;){if(i.tag===3){I_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){t=Pn(a,t),a=Nv(2),l=Si(i,a,2),l!==null&&(xv(a,l,i,t),Nr(l,2),Tr(l));break}}i=i.return}}function gp(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ap=!0,h.add(a),t=yA.bind(null,t,i,a),i.then(t,t))}function yA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(je&a)===a&&(pt===4||pt===3&&(je&62914560)===je&&300>On()-up?(Ye&2)===0&&Qa(t,0):op|=a,Ga===je&&(Ga=0)),Tr(t)}function C_(t,i){i===0&&(i=Xo()),t=Oa(t,i),t!==null&&(Nr(t,i),Tr(t))}function vA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),C_(t,a)}function _A(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),C_(t,a)}function EA(t,i){return hs(t,i)}var Qc=null,Xa=null,yp=!1,Yc=!1,vp=!1,$s=0;function Tr(t){t!==Xa&&t.next===null&&(Xa===null?Qc=Xa=t:Xa=Xa.next=t),Yc=!0,yp||(yp=!0,bA())}function ql(t,i){if(!vp&&Yc){vp=!0;do for(var a=!1,l=Qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,x_(l,d))}else d=je,d=ha(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ys(l,d)||(a=!0,x_(l,d));l=l.next}while(a);vp=!1}}function TA(){D_()}function D_(){Yc=yp=!1;var t=0;$s!==0&&(OA()&&(t=$s),$s=0);for(var i=On(),a=null,l=Qc;l!==null;){var h=l.next,d=O_(l,i);d===0?(l.next=null,a===null?Qc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Yc=!0)),l=h}ql(t)}function O_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Jt(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Qo(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=nt,a=je,a=ha(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ys(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fs(l),fa(a)){case 2:case 8:a=ua;break;case 32:a=ds;break;case 268435456:a=ca;break;default:a=ds}return l=N_.bind(null,t),a=hs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fs(l),t.callbackPriority=2,t.callbackNode=null,2}function N_(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Kc()&&t.callbackNode!==a)return null;var l=je;return l=ha(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,i),O_(t,On()),t.callbackNode!=null&&t.callbackNode===a?N_.bind(null,t):null)}function x_(t,i){if(Kc())return null;d_(t,i,!0)}function bA(){xA(function(){(Ye&6)!==0?hs($o,TA):D_()})}function _p(){return $s===0&&($s=Yo()),$s}function M_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function k_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function wA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=M_((h[_t]||null).action),_=l.submitter;_&&(i=(i=_[_t]||null)?M_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new _a("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=_?k_(h,_):new FormData(h);zd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?k_(h,_):new FormData(h),zd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Ep=0;Ep<id.length;Ep++){var Tp=id[Ep],SA=Tp.toLowerCase(),AA=Tp[0].toUpperCase()+Tp.slice(1);Yn(SA,"on"+AA)}Yn(dy,"onAnimationEnd"),Yn(py,"onAnimationIteration"),Yn(my,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(BS,"onTransitionRun"),Yn(HS,"onTransitionStart"),Yn(FS,"onTransitionCancel"),Yn(gy,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function V_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(X){Pc(X)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,j=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(X){Pc(X)}h.currentTarget=null,d=I}}}}function Ve(t,i){var a=i[Zo];a===void 0&&(a=i[Zo]=new Set);var l=t+"__bubble";a.has(l)||(P_(i,t,2,!1),a.add(l))}function bp(t,i,a){var l=0;i&&(l|=4),P_(a,t,l,i)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function wp(t){if(!t[Xc]){t[Xc]=!0,el.forEach(function(a){a!=="selectionchange"&&(RA.has(a)||bp(a,!1,t),bp(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Xc]||(i[Xc]=!0,bp("selectionchange",!1,i))}}function P_(t,i,a,l){switch(aE(i)){case 2:var h=ZA;break;case 8:h=eR;break;default:h=Lp}a=h.bind(null,i,a,t),h=void 0,!kn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sp(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=xr(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Ju(function(){var j=d,X=Mn(a),Z=[];e:{var B=yy.get(t);if(B!==void 0){var H=_a,be=t;switch(t){case"keypress":if(fr(a)===0)break e;case"keydown":case"keyup":H=Aa;break;case"focusin":be="focus",H=ba;break;case"focusout":be="blur",H=ba;break;case"beforeblur":case"afterblur":H=ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=ac;break;case dy:case py:case my:H=wa;break;case gy:H=lc;break;case"scroll":case"scrollend":H=Zu;break;case"wheel":H=Ra;break;case"copy":case"cut":case"paste":H=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=fl;break;case"toggle":case"beforetoggle":H=cc}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),P=_e?B!==null?B+"Capture":null:B;_e=[];for(var k=j,z;k!==null;){var W=k;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||P===null||(W=As(k,P),W!=null&&_e.push(Hl(k,W,z))),et)break;k=k.return}0<_e.length&&(B=new H(B,be,null,a,X),Z.push({event:B,listeners:_e}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Pr&&(be=a.relatedTarget||a.fromElement)&&(xr(be)||be[Nn]))break e;if((H||B)&&(B=X.window===X?X:(B=X.ownerDocument)?B.defaultView||B.parentWindow:window,H?(be=a.relatedTarget||a.toElement,H=j,be=be?xr(be):null,be!==null&&(et=u(be),_e=be.tag,be!==et||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(H=null,be=j),H!==be)){if(_e=Vn,W="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=fl,W="onPointerLeave",P="onPointerEnter",k="pointer"),et=H==null?B:lr(H),z=be==null?B:lr(be),B=new _e(W,k+"leave",H,a,X),B.target=et,B.relatedTarget=z,W=null,xr(X)===j&&(_e=new _e(P,k+"enter",be,a,X),_e.target=z,_e.relatedTarget=et,W=_e),et=W,H&&be)t:{for(_e=H,P=be,k=0,z=_e;z;z=Wa(z))k++;for(z=0,W=P;W;W=Wa(W))z++;for(;0<k-z;)_e=Wa(_e),k--;for(;0<z-k;)P=Wa(P),z--;for(;k--;){if(_e===P||P!==null&&_e===P.alternate)break t;_e=Wa(_e),P=Wa(P)}_e=null}else _e=null;H!==null&&L_(Z,B,H,_e,!1),be!==null&&et!==null&&L_(Z,et,be,_e,!0)}}e:{if(B=j?lr(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var de=ny;else if(Dt(B))if(ry)de=zS;else{de=LS;var Me=PS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&sl(j.elementType)&&(de=ny):de=US;if(de&&(de=de(t,j))){qr(Z,de,a,X);break e}Me&&Me(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&_i(B,"number",B.value)}switch(Me=j?lr(j):window,t){case"focusin":(Dt(Me)||Me.contentEditable==="true")&&(Ia=Me,td=j,ml=null);break;case"focusout":ml=td=Ia=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,hy(Z,a,X);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":hy(Z,a,X)}var ge;if(mr)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?$(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ge=ol()):(hr=X,Ei="value"in hr?hr.value:hr.textContent,Ue=!0)),Me=Wc(j,Ee),0<Me.length&&(Ee=new cl(Ee,t,null,a,X),Z.push({event:Ee,listeners:Me}),ge?Ee.data=ge:(ge=ae(a),ge!==null&&(Ee.data=ge)))),(ge=y?Ct(t,a):ze(t,a))&&(Ee=Wc(j,"onBeforeInput"),0<Ee.length&&(Me=new cl("onBeforeInput","beforeinput",null,a,X),Z.push({event:Me,listeners:Ee}),Me.data=ge)),wA(Z,t,j,a,X)}V_(Z,i)})}function Hl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(t,a),h!=null&&l.unshift(Hl(t,h,d)),h=As(t,i),h!=null&&l.push(Hl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function L_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=As(a,d),j!=null&&_.unshift(Hl(a,j,I))):h||(j=As(a,d),j!=null&&_.push(Hl(a,j,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var IA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function U_(t){return(typeof t=="string"?t:""+t).replace(IA,`
`).replace(CA,"")}function z_(t,i){return i=U_(i),U_(t)===i}function Jc(){}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&xn(t,""+l);break;case"className":ur(t,"class",l);break;case"tabIndex":ur(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(t,a,l);break;case"style":il(t,l,d);break;case"data":if(i!=="object"){ur(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),vi(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qf.get(a)||a,vi(t,a,l))}}function Ap(t,i,a,l,h,d){switch(a){case"style":il(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):vi(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=_=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":I=X;break;case"defaultChecked":j=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ze(t,i,l,X,a,null)}}bs(t,d,T,I,j,_,h,!1),ya(t);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Ze(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Vr(t,!!l,i,!1):a!=null&&Vr(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,i,_,T,a,null)}ws(t,l,h,d),ya(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,I,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Ve(Bl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,j,l,a,null)}return;default:if(sl(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Ap(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,i,T,l,a,null))}function DA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,j=null,X=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(H)||Ze(t,i,H,null,l,Z)}}for(var B in l){var H=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":X=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Z&&Ze(t,i,B,H,l,Z)}}_n(t,_,T,I,j,X,d,h);return;case"select":H=_=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Ze(t,i,h,d,l,I)}i=T,a=_,l=H,B!=null?Vr(t,!!a,B,!1):!!l!=!!a&&(i!=null?Vr(t,!!a,i,!0):Vr(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}We(t,B,H);return;case"option":for(var be in a)if(B=a[be],a.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Ze(t,i,be,null,l,B)}for(I in l)if(B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ze(t,i,I,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)B=a[_e],a.hasOwnProperty(_e)&&B!=null&&!l.hasOwnProperty(_e)&&Ze(t,i,_e,null,l,B);for(j in l)if(B=l[j],H=a[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Ze(t,i,j,B,l,H)}return;default:if(sl(i)){for(var et in a)B=a[et],a.hasOwnProperty(et)&&B!==void 0&&!l.hasOwnProperty(et)&&Ap(t,i,et,void 0,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B===void 0&&H===void 0||Ap(t,i,X,B,l,H);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&Ze(t,i,P,null,l,B);for(Z in l)B=l[Z],H=a[Z],!l.hasOwnProperty(Z)||B===H||B==null&&H==null||Ze(t,i,Z,B,l,H)}var Rp=null,Ip=null;function Zc(t){return t.nodeType===9?t:t.ownerDocument}function j_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cp(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dp=null;function OA(){var t=window.event;return t&&t.type==="popstate"?t===Dp?!1:(Dp=t,!0):(Dp=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(MA)}:B_;function MA(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function F_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&Fl(_.documentElement),a&2&&Fl(_.body),a&4)for(a=_.head,Fl(a),_=a.firstChild;_;){var T=_.nextSibling,I=_.nodeName;_[vs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),Jl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Jl(i)}function Op(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Op(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function VA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function Np(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function PA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var xp=null;function G_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function $_(t,i,a){switch(i=Zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);yi(t)}var Bn=new Map,K_=new Set;function eh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=oe.d;oe.d={f:LA,r:UA,D:zA,C:jA,L:qA,m:BA,X:FA,S:HA,M:GA};function LA(){var t=ei.f(),i=Gc();return t||i}function UA(t){var i=or(t);i!==null&&i.tag===5&&i.type==="form"?dv(i):ei.r(t)}var Ja=typeof document>"u"?null:document;function Q_(t,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=Et(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K_.has(h)||(K_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),mt(i),l.head.appendChild(i)))}}function zA(t){ei.D(t),Q_("dns-prefetch",t,null)}function jA(t,i){ei.C(t,i),Q_("preconnect",t,i)}function qA(t,i,a){ei.L(t,i,a);var l=Ja;if(l&&t&&i){var h='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Et(a.imageSizes)+'"]')):h+='[href="'+Et(t)+'"]';var d=h;switch(i){case"style":d=Za(t);break;case"script":d=eo(t)}Bn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Gl(d))||i==="script"&&l.querySelector($l(d))||(i=l.createElement("link"),Kt(i,"link",t),mt(i),l.head.appendChild(i)))}}function BA(t,i){ei.m(t,i);var a=Ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Bn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(d)))return}l=a.createElement("link"),Kt(l,"link",t),mt(l),a.head.appendChild(l)}}}function HA(t,i,a){ei.S(t,i,a);var l=Ja;if(l&&t){var h=an(l).hoistableStyles,d=Za(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Gl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&Mp(t,a);var I=_=l.createElement("link");mt(I),Kt(I,"link",t),I._p=new Promise(function(j,X){I.onload=j,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,th(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function FA(t,i){ei.X(t,i);var a=Ja;if(a&&t){var l=an(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector($l(h)),d||(t=E({src:t,async:!0},i),(i=Bn.get(h))&&kp(t,i),d=a.createElement("script"),mt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function GA(t,i){ei.M(t,i);var a=Ja;if(a&&t){var l=an(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector($l(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&kp(t,i),d=a.createElement("script"),mt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Y_(t,i,a,l){var h=(h=ve.current)?eh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=an(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=an(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Gl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||$A(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=an(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+Et(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function X_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function $A(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),mt(i),t.head.appendChild(i))}function eo(t){return'[src="'+Et(t)+'"]'}function $l(t){return"script[async]"+t}function W_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Kt(l,"style",h),th(l,a.precedence,t),i.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Gl(h));if(d)return i.state.loading|=4,i.instance=d,mt(d),d;l=X_(a),(h=Bn.get(h))&&Mp(l,h),d=(t.ownerDocument||t).createElement("link"),mt(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Kt(d,"link",l),i.state.loading|=4,th(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector($l(d)))?(i.instance=h,mt(h),h):(l=a,(h=Bn.get(d))&&(l=E({},a),kp(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,th(l,a.precedence,t));return i.instance}function th(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Mp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var nh=null;function J_(t,i,a){if(nh===null){var l=new Map,h=nh=new Map;h.set(a,l)}else h=nh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vs]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Z_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function KA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function eE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kl=null;function QA(){}function YA(t,i,a){if(Kl===null)throw Error(s(475));var l=Kl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Za(a.href),d=t.querySelector(Gl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=rh.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,mt(d);return}d=t.ownerDocument||t,a=X_(a),(h=Bn.get(h))&&Mp(a,h),d=d.createElement("link"),mt(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Kt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=rh.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function XA(){if(Kl===null)throw Error(s(475));var t=Kl;return t.stylesheets&&t.count===0&&Vp(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Vp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function rh(){if(this.count--,this.count===0){if(this.stylesheets)Vp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ih=null;function Vp(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ih=new Map,i.forEach(WA,t),ih=null,rh.call(t))}function WA(t,i){if(!(i.state.loading&4)){var a=ih.get(t);if(a)var l=a.get(null);else{a=new Map,ih.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=rh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ql={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function JA(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.hiddenUpdates=Or(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function tE(t,i,a,l,h,d,_,T,I,j,X,Z){return t=new JA(t,i,a,_,T,I,j,Z),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=gd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ed(d),t}function nE(t){return t?(t=Na,t):Na}function rE(t,i,a,l,h,d){h=nE(h),l.context===null?l.context=h:l.pendingContext=h,l=wi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Si(t,l,i),a!==null&&(Rn(a,t,i),Sl(a,t,i))}function iE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Pp(t,i){iE(t,i),(t=t.alternate)&&iE(t,i)}function sE(t){if(t.tag===13){var i=Oa(t,67108864);i!==null&&Rn(i,t,67108864),Pp(t,67108864)}}var sh=!0;function ZA(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=2,Lp(t,i,a,l)}finally{oe.p=d,Y.T=h}}function eR(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=8,Lp(t,i,a,l)}finally{oe.p=d,Y.T=h}}function Lp(t,i,a,l){if(sh){var h=Up(l);if(h===null)Sp(t,i,l,ah,a),oE(t,l);else if(nR(h,t,i,a,l))l.stopPropagation();else if(oE(t,l),i&4&&-1<tR.indexOf(t)){for(;h!==null;){var d=or(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=$n(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Jt(_);T.entanglements[1]|=I,_&=~I}Tr(d),(Ye&6)===0&&(Hc=On()+500,ql(0))}}break;case 13:T=Oa(d,2),T!==null&&Rn(T,d,2),Gc(),Pp(d,2)}if(d=Up(l),d===null&&Sp(t,i,l,ah,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Sp(t,i,l,null,a)}}function Up(t){return t=Mn(t),zp(t)}var ah=null;function zp(t){if(ah=null,t=xr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ah=t,null}function aE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bf()){case $o:return 2;case ua:return 8;case ds:case Hf:return 32;case ca:return 268435456;default:return 32}default:return 32}}var jp=!1,Li=null,Ui=null,zi=null,Yl=new Map,Xl=new Map,ji=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oE(t,i){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function Wl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=or(i),i!==null&&sE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function nR(t,i,a,l,h){switch(i){case"focusin":return Li=Wl(Li,t,i,a,l,h),!0;case"dragenter":return Ui=Wl(Ui,t,i,a,l,h),!0;case"mouseover":return zi=Wl(zi,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Yl.set(d,Wl(Yl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Xl.set(d,Wl(Xl.get(d)||null,t,i,a,l,h)),!0}return!1}function lE(t){var i=xr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gu(t.priority,function(){if(a.tag===13){var l=An();l=pi(l);var h=Oa(a,l);h!==null&&Rn(h,a,l),Pp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Up(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Pr=l,a.target.dispatchEvent(l),Pr=null}else return i=or(a),i!==null&&sE(i),t.blockedOn=a,!1;i.shift()}return!0}function uE(t,i,a){oh(t)&&a.delete(i)}function rR(){jp=!1,Li!==null&&oh(Li)&&(Li=null),Ui!==null&&oh(Ui)&&(Ui=null),zi!==null&&oh(zi)&&(zi=null),Yl.forEach(uE),Xl.forEach(uE)}function lh(t,i){t.blockedOn===i&&(t.blockedOn=null,jp||(jp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rR)))}var uh=null;function cE(t){uh!==t&&(uh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uh===t&&(uh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(zp(l||a)===null)continue;break}var d=or(a);d!==null&&(t.splice(i,3),i-=3,zd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Jl(t){function i(I){return lh(I,t)}Li!==null&&lh(Li,t),Ui!==null&&lh(Ui,t),zi!==null&&lh(zi,t),Yl.forEach(i),Xl.forEach(i);for(var a=0;a<ji.length;a++){var l=ji[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)lE(a),a.blockedOn===null&&ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[_t]||null;if(typeof d=="function")_||cE(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[_t]||null)T=_.formAction;else if(zp(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),cE(a)}}}function qp(t){this._internalRoot=t}ch.prototype.render=qp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();rE(a,l,t,i,null,null)},ch.prototype.unmount=qp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;rE(t.current,2,null,t,null,null),Gc(),i[Nn]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var i=mi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ji.length&&i!==0&&i<ji[a].priority;a++);ji.splice(a,0,t),a===0&&lE(t)}};var hE=e.version;if(hE!=="19.1.0")throw Error(s(527,hE,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var iR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{ft=hh.inject(iR),Qe=hh}catch{}}return eu.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Iv,d=Cv,_=Dv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=tE(t,1,!1,null,null,a,l,h,d,_,T,null),t[Nn]=i.current,wp(t),new qp(i)},eu.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Iv,_=Cv,T=Dv,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=tE(t,1,!0,i,a??null,l,h,d,_,T,I,j),i.context=nE(null),a=i.current,l=An(),l=pi(l),h=wi(l),h.callback=null,Si(a,h,l),a=l,i.current.lanes=a,Nr(i,a),Tr(i),t[Nn]=i.current,wp(t),new ch(i)},eu.version="19.1.0",eu}var TE;function pR(){if(TE)return Fp.exports;TE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fp.exports=dR(),Fp.exports}var mR=pR();const gR=_T(mR);var tu={},bE;function yR(){if(bE)return tu;bE=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.parse=f,tu.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,O){const M=new u,F=S.length;if(F<2)return M;const q=(O==null?void 0:O.decode)||E;let K=0;do{const re=S.indexOf("=",K);if(re===-1)break;const Q=S.indexOf(";",K),ue=Q===-1?F:Q;if(re>ue){K=S.lastIndexOf(";",re-1)+1;continue}const le=p(S,K,re),ce=m(S,re,le),C=S.slice(le,ce);if(M[C]===void 0){let A=p(S,re+1,ue),R=m(S,ue,A);const x=q(S.slice(A,R));M[C]=x}K=ue+1}while(K<F);return M}function p(S,O,M){do{const F=S.charCodeAt(O);if(F!==32&&F!==9)return O}while(++O<M);return M}function m(S,O,M){for(;O>M;){const F=S.charCodeAt(--O);if(F!==32&&F!==9)return O+1}return M}function g(S,O,M){const F=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const q=F(O);if(!e.test(q))throw new TypeError(`argument val is invalid: ${O}`);let K=S+"="+q;if(!M)return K;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);K+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);K+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);K+="; Path="+M.path}if(M.expires){if(!w(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);K+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(K+="; HttpOnly"),M.secure&&(K+="; Secure"),M.partitioned&&(K+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return tu}yR();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wE="popstate";function vR(r={}){function e(o,u){let{pathname:f="/",search:p="",hash:m=""}=ia(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),dm("",{pathname:f,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");p=g===-1?m:m.slice(0,g)}return p+"#"+(typeof u=="string"?u:gu(u))}function s(o,u){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ER(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _R(){return Math.random().toString(36).substring(2,10)}function SE(r,e){return{usr:r.state,key:r.key,idx:e}}function dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||s||_R()}}function gu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ia(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ER(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){p="POP";let q=E(),K=q==null?null:q-g;g=q,m&&m({action:p,location:F.location,delta:K})}function S(q,K){p="PUSH";let re=dm(F.location,q,K);n&&n(re,q),g=E()+1;let Q=SE(re,g),ue=F.createHref(re);try{f.pushState(Q,"",ue)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ue)}u&&m&&m({action:p,location:F.location,delta:1})}function O(q,K){p="REPLACE";let re=dm(F.location,q,K);n&&n(re,q),g=E();let Q=SE(re,g),ue=F.createHref(re);f.replaceState(Q,"",ue),u&&m&&m({action:p,location:F.location,delta:0})}function M(q){let K=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof q=="string"?q:gu(q);return re=re.replace(/ $/,"%20"),lt(K,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,K)}let F={get action(){return p},get location(){return r(o,f)},listen(q){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(wE,w),m=q,()=>{o.removeEventListener(wE,w),m=null}},createHref(q){return e(o,q)},createURL:M,encodeLocation(q){let K=M(q);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:O,go(q){return f.go(q)}};return F}function ET(r,e,n="/"){return TR(r,e,n,!1)}function TR(r,e,n,s){let o=typeof e=="string"?ia(e):e,u=oi(o.pathname||"/",n);if(u==null)return null;let f=TT(r);bR(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=MR(u);p=NR(f[m],g,s)}return p}function TT(r,e=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(lt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ii([s,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),TT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:DR(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of bT(u.path))o(u,f,m)}),e}function bT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=bT(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function bR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:OR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wR=/^:[\w-]+$/,SR=3,AR=2,RR=1,IR=10,CR=-2,AE=r=>r==="*";function DR(r,e){let n=r.split("/"),s=n.length;return n.some(AE)&&(s+=CR),e&&(s+=AR),n.filter(o=>!AE(o)).reduce((o,u)=>o+(wR.test(u)?SR:u===""?RR:IR),s)}function OR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function NR(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),S=m.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ii([u,w.pathname]),pathnameBase:LR(ii([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=ii([u,w.pathnameBase]))}return f}function zh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=xR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},S)=>{if(E==="*"){let M=p[S]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=p[S];return w&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function xR(r,e=!1,n=!0){Fn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function MR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function oi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function kR(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ia(r):r;return{pathname:n?n.startsWith("/")?n:VR(n,e):e,search:UR(s),hash:zR(o)}}function VR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xm(r){let e=PR(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Wm(r,e,n,s=!1){let o;typeof r=="string"?o=ia(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Qp("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Qp("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Qp("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}p=w>=0?e[w]:"/"}let m=kR(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var ii=r=>r.join("/").replace(/\/\/+/g,"/"),LR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),UR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var qR=["GET",...wT];new Set(qR);var xo=G.createContext(null);xo.displayName="DataRouter";var hf=G.createContext(null);hf.displayName="DataRouterState";var ST=G.createContext({isTransitioning:!1});ST.displayName="ViewTransition";var BR=G.createContext(new Map);BR.displayName="Fetchers";var HR=G.createContext(null);HR.displayName="Await";var ir=G.createContext(null);ir.displayName="Navigation";var Ru=G.createContext(null);Ru.displayName="Location";var sr=G.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var Jm=G.createContext(null);Jm.displayName="RouteError";function FR(r,{relative:e}={}){lt(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(ir),{hash:o,pathname:u,search:f}=Iu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ii([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Mo(){return G.useContext(Ru)!=null}function as(){return lt(Mo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Ru).location}var AT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RT(r){G.useContext(ir).static||G.useLayoutEffect(r)}function ko(){let{isDataRoute:r}=G.useContext(sr);return r?i1():GR()}function GR(){lt(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(xo),{basename:e,navigator:n}=G.useContext(ir),{matches:s}=G.useContext(sr),{pathname:o}=as(),u=JSON.stringify(Xm(s)),f=G.useRef(!1);return RT(()=>{f.current=!0}),G.useCallback((m,g={})=>{if(Fn(f.current,AT),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=Wm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ii([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}G.createContext(null);function $R(){let{matches:r}=G.useContext(sr),e=r[r.length-1];return e?e.params:{}}function Iu(r,{relative:e}={}){let{matches:n}=G.useContext(sr),{pathname:s}=as(),o=JSON.stringify(Xm(n));return G.useMemo(()=>Wm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function KR(r,e){return IT(r,e)}function IT(r,e,n,s){var re;lt(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(ir),{matches:f}=G.useContext(sr),p=f[f.length-1],m=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",w=p&&p.route;{let Q=w&&w.path||"";CT(g,!w||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=as(),O;if(e){let Q=typeof e=="string"?ia(e):e;lt(E==="/"||((re=Q.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=S;let M=O.pathname||"/",F=M;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");F="/"+M.replace(/^\//,"").split("/").slice(Q.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:ET(r,{pathname:F});Fn(w||q!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Fn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=JR(q&&q.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:ii([E,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:ii([E,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,n,s);return e&&K?G.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},K):K}function QR(){let r=r1(),e=jR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var YR=G.createElement(QR,null),XR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(sr.Provider,{value:this.props.routeContext},G.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WR({routeContext:r,match:e,children:n}){let s=G.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(sr.Provider,{value:r},n)}function JR(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:w}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let w,S=!1,O=null,M=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||YR,f&&(p<0&&E===0?(CT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):p===E&&(S=!0,M=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),q=()=>{let K;return w?K=O:S?K=M:g.route.Component?K=G.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=m,G.createElement(WR,{match:g,routeContext:{outlet:m,matches:F,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(XR,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):q()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZR(r){let e=G.useContext(xo);return lt(e,Zm(r)),e}function e1(r){let e=G.useContext(hf);return lt(e,Zm(r)),e}function t1(r){let e=G.useContext(sr);return lt(e,Zm(r)),e}function eg(r){let e=t1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function n1(){return eg("useRouteId")}function r1(){var s;let r=G.useContext(Jm),e=e1("useRouteError"),n=eg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function i1(){let{router:r}=ZR("useNavigate"),e=eg("useNavigate"),n=G.useRef(!1);return RT(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Fn(n.current,AT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var RE={};function CT(r,e,n){!e&&!RE[r]&&(RE[r]=!0,Fn(!1,n))}G.memo(s1);function s1({routes:r,future:e,state:n}){return IT(r,void 0,n,e)}function a1({to:r,replace:e,state:n,relative:s}){lt(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(ir);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(sr),{pathname:f}=as(),p=ko(),m=Wm(r,Xm(u),f,s==="path"),g=JSON.stringify(m);return G.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function io(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ia(n));let{pathname:m="/",search:g="",hash:E="",state:w=null,key:S="default"}=n,O=G.useMemo(()=>{let M=oi(m,f);return M==null?null:{location:{pathname:M,search:g,hash:E,state:w,key:S},navigationType:s}},[f,m,g,E,w,S,s]);return Fn(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(ir.Provider,{value:p},G.createElement(Ru.Provider,{children:e,value:O}))}function l1({children:r,location:e}){return KR(pm(r),e)}function pm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,pm(s.props.children,u));return}lt(s.type===io,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=pm(s.props.children,u)),n.push(f)}),n}var bh="get",wh="application/x-www-form-urlencoded";function ff(r){return r!=null&&typeof r.tagName=="string"}function u1(r){return ff(r)&&r.tagName.toLowerCase()==="button"}function c1(r){return ff(r)&&r.tagName.toLowerCase()==="form"}function h1(r){return ff(r)&&r.tagName.toLowerCase()==="input"}function f1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function d1(r,e){return r.button===0&&(!e||e==="_self")&&!f1(r)}var fh=null;function p1(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var m1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yp(r){return r!=null&&!m1.has(r)?(Fn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):r}function g1(r,e){let n,s,o,u,f;if(c1(r)){let p=r.getAttribute("action");s=p?oi(p,e):null,n=r.getAttribute("method")||bh,o=Yp(r.getAttribute("enctype"))||wh,u=new FormData(r)}else if(u1(r)||h1(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?oi(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||bh,o=Yp(r.getAttribute("formenctype"))||Yp(p.getAttribute("enctype"))||wh,u=new FormData(p,r),!p1()){let{name:g,type:E,value:w}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(ff(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bh,s=null,o=wh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function tg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function y1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await y1(u,n);return f.links?f.links():[]}return[]}));return w1(s.flat(1).filter(v1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function IE(r,e,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var E;return n[g].pathname!==m.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var w;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function E1(r,e,{includeHydrateFallback:n}={}){return T1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function T1(r){return[...new Set(r)]}function b1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function w1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(b1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function S1(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&oi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function DT(){let r=G.useContext(xo);return tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function A1(){let r=G.useContext(hf);return tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ng=G.createContext(void 0);ng.displayName="FrameworkContext";function OT(){let r=G.useContext(ng);return tg(r,"You must render this element inside a <HydratedRouter> element"),r}function R1(r,e){let n=G.useContext(ng),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=K=>{K.forEach(re=>{f(re.isIntersecting)})},q=new IntersectionObserver(F,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[r]),G.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let O=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:nu(p,O),onBlur:nu(m,M),onMouseEnter:nu(g,O),onMouseLeave:nu(E,M),onTouchStart:nu(w,O)}]:[!1,S,{}]}function nu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function I1({page:r,...e}){let{router:n}=DT(),s=G.useMemo(()=>ET(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(D1,{page:r,matches:s,...e}):null}function C1(r){let{manifest:e,routeModules:n}=OT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return _1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function D1({page:r,matches:e,...n}){let s=as(),{manifest:o,routeModules:u}=OT(),{basename:f}=DT(),{loaderData:p,matches:m}=A1(),g=G.useMemo(()=>IE(r,e,m,o,s,"data"),[r,e,m,o,s]),E=G.useMemo(()=>IE(r,e,m,o,s,"assets"),[r,e,m,o,s]),w=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,F=!1;if(e.forEach(K=>{var Q;let re=o.routes[K.route.id];!re||!re.hasLoader||(!g.some(ue=>ue.route.id===K.route.id)&&K.route.id in p&&((Q=u[K.route.id])!=null&&Q.shouldRevalidate)||re.hasClientLoader?F=!0:M.add(K.route.id))}),M.size===0)return[];let q=S1(r,f);return F&&M.size>0&&q.searchParams.set("_routes",e.filter(K=>M.has(K.route.id)).map(K=>K.route.id).join(",")),[q.pathname+q.search]},[f,p,s,o,g,e,r,u]),S=G.useMemo(()=>E1(E,o),[E,o]),O=C1(E);return G.createElement(G.Fragment,null,w.map(M=>G.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>G.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),O.map(({key:M,link:F})=>G.createElement("link",{key:M,...F})))}function O1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NT&&(window.__reactRouterVersion="7.5.0")}catch{}function N1({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=vR({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),p=G.useCallback(m=>{G.startTransition(()=>f(m))},[f]);return G.useLayoutEffect(()=>o.listen(p),[o,p]),G.createElement(o1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var xT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,df=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:E,viewTransition:w,...S},O){let{basename:M}=G.useContext(ir),F=typeof g=="string"&&xT.test(g),q,K=!1;if(typeof g=="string"&&F&&(q=g,NT))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=oi(x.pathname,M);x.origin===R.origin&&V!=null?g=V+x.search+x.hash:K=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=FR(g,{relative:o}),[Q,ue,le]=R1(s,S),ce=V1(g,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:w});function C(R){e&&e(R),R.defaultPrevented||ce(R)}let A=G.createElement("a",{...S,...le,href:q||re,onClick:K||u?e:C,ref:O1(O,ue),target:m,"data-discover":!F&&n==="render"?"true":void 0});return Q&&!F?G.createElement(G.Fragment,null,A,G.createElement(I1,{page:re})):A});df.displayName="Link";var x1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},E){let w=Iu(f,{relative:g.relative}),S=as(),O=G.useContext(hf),{navigator:M,basename:F}=G.useContext(ir),q=O!=null&&j1(w)&&p===!0,K=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,re=S.pathname,Q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(re=re.toLowerCase(),Q=Q?Q.toLowerCase():null,K=K.toLowerCase()),Q&&F&&(Q=oi(Q,F)||Q);const ue=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=re===K||!o&&re.startsWith(K)&&re.charAt(ue)==="/",ce=Q!=null&&(Q===K||!o&&Q.startsWith(K)&&Q.charAt(K.length)==="/"),C={isActive:le,isPending:ce,isTransitioning:q},A=le?e:void 0,R;typeof s=="function"?R=s(C):R=[s,le?"active":null,ce?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(C):u;return G.createElement(df,{...g,"aria-current":A,className:R,ref:E,style:x,to:f,viewTransition:p},typeof m=="function"?m(C):m)});x1.displayName="NavLink";var M1=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=bh,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:w,...S},O)=>{let M=U1(),F=z1(p,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&xT.test(p),re=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ue=Q.nativeEvent.submitter,le=(ue==null?void 0:ue.getAttribute("formmethod"))||f;M(ue||Q.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return G.createElement("form",{ref:O,method:q,action:F,onSubmit:s?m:re,...S,"data-discover":!K&&r==="render"?"true":void 0})});M1.displayName="Form";function k1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(r){let e=G.useContext(xo);return lt(e,k1(r)),e}function V1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=ko(),m=as(),g=Iu(r,{relative:u});return G.useCallback(E=>{if(d1(E,e)){E.preventDefault();let w=n!==void 0?n:gu(m)===gu(g);p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,e,r,o,u,f])}var P1=0,L1=()=>`__${String(++P1)}__`;function U1(){let{router:r}=MT("useSubmit"),{basename:e}=G.useContext(ir),n=n1();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=g1(s,e);if(o.navigate===!1){let E=o.fetcherKey||L1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function z1(r,{relative:e}={}){let{basename:n}=G.useContext(ir),s=G.useContext(sr);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(r||".",{relative:e})},f=as();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),gu(u)}function j1(r,e={}){let n=G.useContext(ST);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=MT("useViewTransitionState"),o=Iu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=oi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=oi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zh(o.pathname,f)!=null||zh(o.pathname,u)!=null}new TextEncoder;const q1=()=>{};var CE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},B1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,w=(u&3)<<4|p>>4;let S=(p&15)<<2|g>>6,O=g&63;m||(O=64,f||(S=64)),s.push(n[E],n[w],n[S],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):B1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||w==null)throw new H1;const S=u<<2|p>>4;if(s.push(S),g!==64){const O=p<<4&240|g>>2;if(s.push(O),w!==64){const M=g<<6&192|w;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F1=function(r){const e=kT(r);return VT.encodeByteArray(e,!0)},jh=function(r){return F1(r).replace(/\./g,"")},PT=function(r){try{return VT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=()=>G1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof CE>"u")return;const r=CE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Q1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PT(r[1]);return e&&JSON.parse(e)},pf=()=>{try{return q1()||$1()||K1()||Q1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LT=r=>{var e,n;return(n=(e=pf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Y1=r=>{const e=LT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},UT=()=>{var r;return(r=pf())===null||r===void 0?void 0:r.config},zT=r=>{var e;return(e=pf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[jh(JSON.stringify(n)),jh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Z1(){var r;const e=(r=pf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rI(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iI(){return!Z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sI(){try{return typeof indexedDB=="object"}catch{return!1}}function aI(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FirebaseError";class di extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oI,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?lI(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new di(o,p,s)}}function lI(r,e){return r.replace(uI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uI=/\{\$([^}]+)}/g;function cI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function li(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(DE(u)&&DE(f)){if(!li(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function DE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ru(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function hI(r,e){const n=new fI(r,e);return n.subscribe.bind(n)}class fI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xp),o.error===void 0&&(o.error=Xp),o.complete===void 0&&(o.complete=Xp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(r){return r&&r._delegate?r._delegate:r}class Js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new X1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gI(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mI(r){return r===Ks?void 0:r}function gI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const vI={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},_I=Pe.INFO,EI={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},TI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=EI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=_I,this._logHandler=TI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const bI=(r,e)=>e.some(n=>r instanceof n);let OE,NE;function wI(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SI(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jT=new WeakMap,mm=new WeakMap,qT=new WeakMap,Wp=new WeakMap,ig=new WeakMap;function AI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Yi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&jT.set(n,r)}).catch(()=>{}),ig.set(e,r),e}function RI(r){if(mm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});mm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||qT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function II(r){gm=r(gm)}function CI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jp(this),e,...n);return qT.set(s,e.sort?e.sort():[e]),Yi(s)}:SI().includes(r)?function(...e){return r.apply(Jp(this),e),Yi(jT.get(this))}:function(...e){return Yi(r.apply(Jp(this),e))}}function DI(r){return typeof r=="function"?CI(r):(r instanceof IDBTransaction&&RI(r),bI(r,wI())?new Proxy(r,gm):r)}function Yi(r){if(r instanceof IDBRequest)return AI(r);if(Wp.has(r))return Wp.get(r);const e=DI(r);return e!==r&&(Wp.set(r,e),ig.set(e,r)),e}const Jp=r=>ig.get(r);function OI(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Yi(f);return s&&f.addEventListener("upgradeneeded",m=>{s(Yi(f.result),m.oldVersion,m.newVersion,Yi(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const NI=["get","getKey","getAll","getAllKeys","count"],xI=["put","add","delete","clear"],Zp=new Map;function xE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=xI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NI.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Zp.set(e,u),u}II(r=>({...r,get:(e,n,s)=>xE(e,n)||r.get(e,n,s),has:(e,n)=>!!xE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",ME="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new rg("@firebase/app"),VI="@firebase/app-compat",PI="@firebase/analytics-compat",LI="@firebase/analytics",UI="@firebase/app-check-compat",zI="@firebase/app-check",jI="@firebase/auth",qI="@firebase/auth-compat",BI="@firebase/database",HI="@firebase/data-connect",FI="@firebase/database-compat",GI="@firebase/functions",$I="@firebase/functions-compat",KI="@firebase/installations",QI="@firebase/installations-compat",YI="@firebase/messaging",XI="@firebase/messaging-compat",WI="@firebase/performance",JI="@firebase/performance-compat",ZI="@firebase/remote-config",eC="@firebase/remote-config-compat",tC="@firebase/storage",nC="@firebase/storage-compat",rC="@firebase/firestore",iC="@firebase/vertexai",sC="@firebase/firestore-compat",aC="firebase",oC="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",lC={[ym]:"fire-core",[VI]:"fire-core-compat",[LI]:"fire-analytics",[PI]:"fire-analytics-compat",[zI]:"fire-app-check",[UI]:"fire-app-check-compat",[jI]:"fire-auth",[qI]:"fire-auth-compat",[BI]:"fire-rtdb",[HI]:"fire-data-connect",[FI]:"fire-rtdb-compat",[GI]:"fire-fn",[$I]:"fire-fn-compat",[KI]:"fire-iid",[QI]:"fire-iid-compat",[YI]:"fire-fcm",[XI]:"fire-fcm-compat",[WI]:"fire-perf",[JI]:"fire-perf-compat",[ZI]:"fire-rc",[eC]:"fire-rc-compat",[tC]:"fire-gcs",[nC]:"fire-gcs-compat",[rC]:"fire-fst",[sC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[aC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,uC=new Map,_m=new Map;function kE(r,e){try{r.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(_m.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,r);for(const n of qh.values())kE(n,r);for(const n of uC.values())kE(n,r);return!0}function sg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Cu("app","Firebase",cC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=oC;function BT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(n||(n=UT()),!n)throw Xi.create("no-options");const u=qh.get(o);if(u){if(li(n,u.options)&&li(s,u.config))return u;throw Xi.create("duplicate-app",{appName:o})}const f=new yI(o);for(const m of _m.values())f.addComponent(m);const p=new hC(n,s,f);return qh.set(o,p),p}function HT(r=vm){const e=qh.get(r);if(!e&&r===vm&&UT())return BT();if(!e)throw Xi.create("no-app",{appName:r});return e}function Wi(r,e,n){var s;let o=(s=lC[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(p.join(" "));return}yo(new Js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebase-heartbeat-database",dC=1,yu="firebase-heartbeat-store";let em=null;function FT(){return em||(em=OI(fC,dC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xi.create("idb-open",{originalErrorMessage:r.message})})),em}async function pC(r){try{const n=(await FT()).transaction(yu),s=await n.objectStore(yu).get(GT(r));return await n.done,s}catch(e){if(e instanceof di)ui.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(n.message)}}}async function VE(r,e){try{const s=(await FT()).transaction(yu,"readwrite");await s.objectStore(yu).put(e,GT(r)),await s.done}catch(n){if(n instanceof di)ui.warn(n.message);else{const s=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ui.warn(s.message)}}}function GT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1024,gC=30;class yC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=PE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>gC){const f=EC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PE(),{heartbeatsToSend:s,unsentEntries:o}=vC(this._heartbeatsCache.heartbeats),u=jh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ui.warn(n),""}}}function PE(){return new Date().toISOString().substring(0,10)}function vC(r,e=mC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),LE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),LE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sI()?aI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function LE(r){return jh(JSON.stringify({version:2,heartbeats:r})).length}function EC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r){yo(new Js("platform-logger",e=>new MI(e),"PRIVATE")),yo(new Js("heartbeat",e=>new yC(e),"PRIVATE")),Wi(ym,ME,r),Wi(ym,ME,"esm2017"),Wi("fire-js","")}TC("");var yn=function(){return yn=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},yn.apply(this,arguments)};function ag(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Bh(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))}function $T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bC=$T,KT=new Cu("auth","Firebase",$T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new rg("@firebase/auth");function wC(r,...e){Hh.logLevel<=Pe.WARN&&Hh.warn(`Auth (${Vo}): ${r}`,...e)}function Sh(r,...e){Hh.logLevel<=Pe.ERROR&&Hh.error(`Auth (${Vo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(r,...e){throw og(r,...e)}function Sr(r,...e){return og(r,...e)}function QT(r,e,n){const s=Object.assign(Object.assign({},bC()),{[e]:n});return new Cu("auth","Firebase",s).create(e,{appName:r.name})}function si(r){return QT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return KT.create(r,...e)}function Te(r,e,...n){if(!r)throw og(e,...n)}function ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function ci(r,e){r||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function SC(){return UE()==="http:"||UE()==="https:"}function UE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SC()||tI()||"connection"in navigator)?navigator.onLine:!0}function RC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=J1()||nI()}get(){return AC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,e){ci(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DC=new Ou(3e4,6e4);function os(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ls(r,e,n,s,o={}){return XT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Du(Object.assign({key:r.config.apiKey},f)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return eI()||(g.referrerPolicy="no-referrer"),YT.fetch()(await WT(r,r.config.apiHost,n,p),g)})}async function XT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},IC),e);try{const o=new NC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw dh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw dh(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw dh(r,"user-disabled",f);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw QT(r,E,g);tr(r,E)}}catch(o){if(o instanceof di)throw o;tr(r,"network-request-failed",{message:String(o)})}}async function Nu(r,e,n,s,o={}){const u=await ls(r,e,n,s,o);return"mfaPendingCredential"in u&&tr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function WT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?lg(r.config,o):`${r.config.apiScheme}://${o}`;return CC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function OC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Sr(this.auth,"network-request-failed")),DC.get())})}}function dh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Sr(r,e,s);return o.customData._tokenResponse=n,o}function zE(r){return r!==void 0&&r.enterprise!==void 0}class xC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MC(r,e){return ls(r,"GET","/v2/recaptchaConfig",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e){return ls(r,"POST","/v1/accounts:delete",e)}async function Fh(r,e){return ls(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VC(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),o=ug(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:cu(tm(o.auth_time)),issuedAtTime:cu(tm(o.iat)),expirationTime:cu(tm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function tm(r){return Number(r)*1e3}function ug(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=PT(n);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function jE(r){const e=ug(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof di&&PC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function PC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await vu(r,Fh(n,{idToken:s}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?JT(u.providerUserInfo):[],p=zC(r.providerData,f),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=m?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Tm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function UC(r){const e=Bt(r);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function JT(r){return r.map(e=>{var{providerId:n}=e,s=ag(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(r,e){const n=await XT(r,{},async()=>{const s=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await WT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",YT.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qC(r,e){return ls(r,"POST","/v2/accounts:revokeToken",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=jE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await jC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ho;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VC(this,e)}reload(){return UC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await vu(this,kC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,m,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,F=(p=n.tenantId)!==null&&p!==void 0?p:void 0,q=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ue,isAnonymous:le,providerData:ce,stsTokenManager:C}=n;Te(Q&&C,e,"internal-error");const A=ho.fromJSON(this.name,C);Te(typeof Q=="string",e,"internal-error"),Bi(w,e.name),Bi(S,e.name),Te(typeof ue=="boolean",e,"internal-error"),Te(typeof le=="boolean",e,"internal-error"),Bi(O,e.name),Bi(M,e.name),Bi(F,e.name),Bi(q,e.name),Bi(K,e.name),Bi(re,e.name);const R=new Jn({uid:Q,auth:e,email:S,emailVerified:ue,displayName:w,isAnonymous:le,photoURL:M,phoneNumber:O,tenantId:F,stsTokenManager:A,createdAt:K,lastLoginAt:re});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(x=>Object.assign({},x))),q&&(R._redirectEventId=q),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new ho;p.updateFromIdToken(s);const m=new Jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function ri(r){ci(r instanceof Function,"Expected a class definition");let e=qE.get(r);return e?(ci(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,qE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZT.type="NONE";const BE=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(ri(BE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ri(BE);const f=Ah(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const S=await Fh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Jn._fromGetAccountInfoResponse(e,S,E)}else w=Jn._fromJSON(e,E);g!==u&&(p=w),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new fo(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(ab(e))return"Webos";if(tb(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(ib(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function eb(r=sn()){return/firefox\//i.test(r)}function tb(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(r=sn()){return/crios\//i.test(r)}function rb(r=sn()){return/iemobile/i.test(r)}function ib(r=sn()){return/android/i.test(r)}function sb(r=sn()){return/blackberry/i.test(r)}function ab(r=sn()){return/webos/i.test(r)}function cg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BC(r=sn()){var e;return cg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HC(){return rI()&&document.documentMode===10}function ob(r=sn()){return cg(r)||ib(r)||ab(r)||sb(r)||/windows phone/i.test(r)||rb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r,e=[]){let n;switch(r){case"Browser":n=HE(sn());break;case"Worker":n=`${HE(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(r,e={}){return ls(r,"GET","/v2/passwordPolicy",os(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=6;class KC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:$C,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new FC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(si(this));const n=e?Bt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GC(this),n=new KC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(r){return Bt(r)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=hI(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YC(r){mf=r}function ub(r){return mf.loadJS(r)}function XC(){return mf.recaptchaEnterpriseScript}function WC(){return mf.gapiScript}function JC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ZC{constructor(){this.enterprise=new eD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tD="recaptcha-enterprise",cb="NO_RECAPTCHA";class nD{constructor(e){this.type=tD,this.auth=sa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{MC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new xC(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;zE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(cb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&zE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=XC();m.length!==0&&(m+=p),ub(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function GE(r,e,n,s=!1,o=!1){const u=new nD(r);let f;if(o)f=cb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function bm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await GE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await GE(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r,e){const n=sg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(li(u,e??{}))return o;tr(o,"already-initialized")}return n.initialize({options:e})}function iD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sD(r,e,n){const s=sa(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hb(e),{host:f,port:p}=aD(e),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(li(g,s.config.emulator)&&li(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,oD()}function hb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aD(r){const e=hb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:$E(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:$E(f)}}}function $E(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function lD(r,e){return ls(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(r,e){return Nu(r,"POST","/v1/accounts:signInWithPassword",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(r,e){return Nu(r,"POST","/v1/accounts:signInWithEmailLink",os(r,e))}async function hD(r,e){return Nu(r,"POST","/v1/accounts:signInWithEmailLink",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends hg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new _u(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new _u(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,n,"signInWithPassword",uD);case"emailLink":return cD(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,s,"signUpPassword",lD);case"emailLink":return hD(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r,e){return Nu(r,"POST","/v1/accounts:signInWithIdp",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="http://localhost";class Zs extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=ag(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:fD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pD(r){const e=ru(iu(r)).link,n=e?ru(iu(e)).deep_link_id:null,s=ru(iu(r)).deep_link_id;return(s?ru(iu(s)).link:null)||s||n||e||r}class fg{constructor(e){var n,s,o,u,f,p;const m=ru(iu(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,w=dD((o=m.mode)!==null&&o!==void 0?o:null);Te(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=pD(e);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return _u._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fg.parseLink(n);return Te(s,"argument-error"),_u._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends xu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gi.credential(n,s)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends xu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends xu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(r,e){return Nu(r,"POST","/v1/accounts:signUp",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Jn._fromIdTokenResponse(e,s,o),f=KE(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=KE(s);return new ea({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function KE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends di{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new $h(e,n,s,o)}}function db(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(r,u,e,s):u})}async function gD(r,e,n=!1){const s=await vu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(r,e,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(si(s));const o="reauthenticate";try{const u=await vu(r,db(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=ug(u.idToken);Te(f,s,"internal-error");const{sub:p}=f;return Te(r.uid===p,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&tr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(r,e,n=!1){if(Hn(r.app))return Promise.reject(si(r));const s="signIn",o=await db(r,s,e),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function vD(r,e){return pb(sa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(r){const e=sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _D(r,e,n){if(Hn(r.app))return Promise.reject(si(r));const s=sa(r),f=await bm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&mb(r),m}),p=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function ED(r,e,n){return Hn(r.app)?Promise.reject(si(r)):vD(Bt(r),Po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mb(r),s})}function TD(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function bD(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function wD(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}function SD(r){return Bt(r).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=1e3,RD=10;class yb extends gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},AD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yb.type="LOCAL";const ID=yb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vb.type="SESSION";const _b=vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await CD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=dg("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function OD(r){Ar().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function ND(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function MD(){return Eb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebaseLocalStorageDb",kD=1,Qh="firebaseLocalStorage",bb="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(r,e){return r.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function VD(){const r=indexedDB.deleteDatabase(Tb);return new Mu(r).toPromise()}function wm(){const r=indexedDB.open(Tb,kD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Qh,{keyPath:bb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Qh)?e(s):(s.close(),await VD(),e(await wm()))})})}async function QE(r,e,n){const s=yf(r,!0).put({[bb]:e,value:n});return new Mu(s).toPromise()}async function PD(r,e){const n=yf(r,!1).get(e),s=await new Mu(n).toPromise();return s===void 0?null:s.value}function YE(r,e){const n=yf(r,!0).delete(e);return new Mu(n).toPromise()}const LD=800,UD=3;class wb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(MD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ND(),!this.activeServiceWorker)return;this.sender=new DD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await QE(e,Kh,"1"),await YE(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>QE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wb.type="LOCAL";const zD=wb;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(r,e){return e?ri(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qD(r){return pb(r.auth,new pg(r),r.bypassAuthState)}function BD(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),yD(n,new pg(r),r.bypassAuthState)}async function HD(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),gD(n,new pg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qD;case"linkViaPopup":case"linkViaRedirect":return HD;case"reauthViaPopup":case"reauthViaRedirect":return BD;default:tr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Ou(2e3,1e4);class uo extends Sb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FD.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="pendingRedirect",Rh=new Map;class $D extends Sb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const s=await KD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KD(r,e){const n=XD(e),s=YD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function QD(r,e){Rh.set(r._key(),e)}function YD(r){return ri(r._redirectPersistence)}function XD(r){return Ah(GD,r.config.apiKey,r.name)}async function WD(r,e,n=!1){if(Hn(r.app))return Promise.reject(si(r));const s=sa(r),o=jD(s,e),f=await new $D(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=10*60*1e3;class ZD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Ab(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JD&&this.cachedEventUids.clear(),this.cachedEventUids.has(XE(e))}saveEventToCache(e){this.cachedEventUids.add(XE(e)),this.lastProcessedEventTime=Date.now()}}function XE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ab({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(r,e={}){return ls(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rO=/^https?/;async function iO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await tO(r);for(const n of e)try{if(sO(n))return}catch{}tr(r,"unauthorized-domain")}function sO(r){const e=Em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!rO.test(n))return!1;if(nO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new Ou(3e4,6e4);function WE(){const r=Ar().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function oO(r){return new Promise((e,n)=>{var s,o,u;function f(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),n(Sr(r,"network-request-failed"))},timeout:aO.get()})}if(!((o=(s=Ar().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ar().gapi)===null||u===void 0)&&u.load)f();else{const p=JC("iframefcb");return Ar()[p]=()=>{gapi.load?f():n(Sr(r,"network-request-failed"))},ub(`${WC()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function lO(r){return Ih=Ih||oO(r),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Ou(5e3,15e3),cO="__/auth/iframe",hO="emulator/auth/iframe",fO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pO(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?lg(e,hO):`https://${r.config.authDomain}/${cO}`,s={apiKey:e.apiKey,appName:r.name,v:Vo},o=dO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Du(s).slice(1)}`}async function mO(r){const e=await lO(r),n=Ar().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:pO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Sr(r,"network-request-failed"),p=Ar().setTimeout(()=>{u(f)},uO.get());function m(){Ar().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yO=500,vO=600,_O="_blank",EO="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TO(r,e,n,s=yO,o=vO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},gO),{width:s.toString(),height:o.toString(),top:u,left:f}),g=sn().toLowerCase();n&&(p=nb(g)?_O:n),eb(g)&&(e=e||EO,m.scrollbars="yes");const E=Object.entries(m).reduce((S,[O,M])=>`${S}${O}=${M},`,"");if(BC(g)&&p!=="_self")return bO(e||"",p),new JE(null);const w=window.open(e||"",p,E);Te(w,r,"popup-blocked");try{w.focus()}catch{}return new JE(w)}function bO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="__/auth/handler",SO="emulator/auth/handler",AO=encodeURIComponent("fac");async function ZE(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Vo,eventId:o};if(e instanceof fb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",cI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof xu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${AO}=${encodeURIComponent(m)}`:"";return`${RO(r)}?${Du(p).slice(1)}${g}`}function RO({config:r}){return r.emulator?lg(r,SO):`https://${r.authDomain}/${wO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class IO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=WD,this._overrideRedirectResult=QD}async _openPopup(e,n,s,o){var u;ci((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await ZE(e,n,s,Em(),o);return TO(e,f,dg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ZE(e,n,s,Em(),o);return OD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ci(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mO(e),s=new ZD(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[nm];f!==void 0&&n(!!f),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ob()||tb()||cg()}}const CO=IO;var e0="@firebase/auth",t0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NO(r){yo(new Js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(r)},g=new QC(s,o,u,m);return iD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new Js("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(s=>new DO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(e0,t0,OO(r)),Wi(e0,t0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=5*60,MO=zT("authIdTokenMaxAge")||xO;let n0=null;const kO=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>MO)return;const o=n==null?void 0:n.token;n0!==o&&(n0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VO(r=HT()){const e=sg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=rD(r,{popupRedirectResolver:CO,persistence:[zD,ID,_b]}),s=zT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=kO(u.toString());bD(n,f,()=>f(n.currentUser)),TD(n,p=>f(p))}}const o=LT("auth");return o&&sD(n,`http://${o}`),n}function PO(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}YC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Sr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",PO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NO("Browser");var LO="firebase",UO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(LO,UO,"app");var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,Rb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function R(){}R.prototype=A.prototype,C.D=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(x,V,L){for(var D=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)D[Rt-2]=arguments[Rt];return A.prototype[V].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);var x=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)x[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],V=C.g[2];var L=C.g[3],D=A+(L^R&(V^L))+x[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+x[1]+3905402710&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+x[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+x[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+x[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+x[5]+1200080426&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+x[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+x[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+x[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+x[9]+2336552879&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+x[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+x[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+x[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+x[13]+4254626195&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+x[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+x[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(V^L&(R^V))+x[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+x[6]+3225465664&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+x[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+x[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+x[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+x[10]+38016083&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+x[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+x[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+x[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+x[14]+3275163606&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+x[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+x[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+x[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+x[2]+4243563512&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+x[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+x[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(R^V^L)+x[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+x[8]+2272392833&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+x[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+x[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+x[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+x[4]+1272893353&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+x[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+x[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+x[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+x[0]+3936430074&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+x[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+x[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+x[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+x[12]+3873151461&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+x[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+x[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(V^(R|~L))+x[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+x[7]+1126891415&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+x[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+x[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+x[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+x[3]+2399980690&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+x[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+x[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+x[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+x[15]+4264355552&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+x[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+x[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+x[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+x[11]+3174756917&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+x[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var R=A-this.blockSize,x=this.B,V=this.h,L=0;L<A;){if(V==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(x[V++]=C.charCodeAt(L++),V==this.blockSize){o(this,x),V=0;break}}else for(;L<A;)if(x[V++]=C[L++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var R=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=R&255,R/=256;for(this.u(C),C=Array(16),A=R=0;4>A;++A)for(var x=0;32>x;x+=8)C[R++]=this.g[A]>>>x&255;return C};function u(C,A){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function f(C,A){this.h=A;for(var R=[],x=!0,V=C.length-1;0<=V;V--){var L=C[V]|0;x&&L==A||(R[V]=L,x=!1)}this.g=R}var p={};function m(C){return-128<=C&&128>C?u(C,function(A){return new f([A|0],0>A?-1:0)}):new f([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return q(g(-C));for(var A=[],R=1,x=0;C>=R;x++)A[x]=C/R|0,R*=4294967296;return new f(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return q(E(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),x=w,V=0;V<C.length;V+=8){var L=Math.min(8,C.length-V),D=parseInt(C.substring(V,V+L),A);8>L?(L=g(Math.pow(A,L)),x=x.j(L).add(g(D))):(x=x.j(R),x=x.add(g(D)))}return x}var w=m(0),S=m(1),O=m(16777216);r=f.prototype,r.m=function(){if(F(this))return-q(this).m();for(var C=0,A=1,R=0;R<this.g.length;R++){var x=this.i(R);C+=(0<=x?x:4294967296+x)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(F(this))return"-"+q(this).toString(C);for(var A=g(Math.pow(C,6)),R=this,x="";;){var V=ue(R,A).g;R=K(R,V.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=V,M(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function F(C){return C.h==-1}r.l=function(C){return C=K(this,C),F(C)?-1:M(C)?0:1};function q(C){for(var A=C.g.length,R=[],x=0;x<A;x++)R[x]=~C.g[x];return new f(R,~C.h).add(S)}r.abs=function(){return F(this)?q(this):this},r.add=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],x=0,V=0;V<=A;V++){var L=x+(this.i(V)&65535)+(C.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);x=D>>>16,L&=65535,D&=65535,R[V]=D<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function K(C,A){return C.add(q(A))}r.j=function(C){if(M(this)||M(C))return w;if(F(this))return F(C)?q(this).j(q(C)):q(q(this).j(C));if(F(C))return q(this.j(q(C)));if(0>this.l(O)&&0>C.l(O))return g(this.m()*C.m());for(var A=this.g.length+C.g.length,R=[],x=0;x<2*A;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<C.g.length;V++){var L=this.i(x)>>>16,D=this.i(x)&65535,Rt=C.i(V)>>>16,st=C.i(V)&65535;R[2*x+2*V]+=D*st,re(R,2*x+2*V),R[2*x+2*V+1]+=L*st,re(R,2*x+2*V+1),R[2*x+2*V+1]+=D*Rt,re(R,2*x+2*V+1),R[2*x+2*V+2]+=L*Rt,re(R,2*x+2*V+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new f(R,0)};function re(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Q(C,A){this.g=C,this.h=A}function ue(C,A){if(M(A))throw Error("division by zero");if(M(C))return new Q(w,w);if(F(C))return A=ue(q(C),A),new Q(q(A.g),q(A.h));if(F(A))return A=ue(C,q(A)),new Q(q(A.g),A.h);if(30<C.g.length){if(F(C)||F(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,x=A;0>=x.l(C);)R=le(R),x=le(x);var V=ce(R,1),L=ce(x,1);for(x=ce(x,2),R=ce(R,2);!M(x);){var D=L.add(x);0>=D.l(C)&&(V=V.add(R),L=D),x=ce(x,1),R=ce(R,1)}return A=K(C,V.j(A)),new Q(V,A)}for(V=w;0<=C.l(A);){for(R=Math.max(1,Math.floor(C.m()/A.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=g(R),D=L.j(A);F(D)||0<D.l(C);)R-=x,L=g(R),D=L.j(A);M(L)&&(L=S),V=V.add(L),C=K(C,D)}return new Q(V,C)}r.A=function(C){return ue(this,C).h},r.and=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)&C.i(x);return new f(R,this.h&C.h)},r.or=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)|C.i(x);return new f(R,this.h|C.h)},r.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)^C.i(x);return new f(R,this.h^C.h)};function le(C){for(var A=C.g.length+1,R=[],x=0;x<A;x++)R[x]=C.i(x)<<1|C.i(x-1)>>>31;return new f(R,C.h)}function ce(C,A){var R=A>>5;A%=32;for(var x=C.g.length-R,V=[],L=0;L<x;L++)V[L]=0<A?C.i(L+R)>>>A|C.i(L+R+1)<<32-A:C.i(L+R);return new f(V,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Rb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ji=f}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ib,su,Cb,Ch,Sm,Db,Ob,Nb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in v))break e;v=v[U]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,U={next:function(){if(!b&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function M(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,U,$){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return y.prototype[U].apply(b,ae)}}function F(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function q(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(m(b)){const U=c.length||0,$=b.length||0;c.length=U+$;for(let ae=0;ae<$;ae++)c[U+ae]=b[ae]}else c.push(b)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var le=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function C(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)c[v]=b[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Ie;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Rt{constructor(){this.h=this.g=null}add(y,v){const b=st.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var st=new K(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,Ie=new Rt,N=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){L(v)}var y=st;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,y),p.removeEventListener("test",v,y)}catch{}return c}();function Re(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ue(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}M(Re,ie);var ve={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),Be=0;function kt(c,y,v,b,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=U,this.key=++Be,this.da=this.fa=!1}function Dn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hn(c){this.src=c,this.g={},this.h=0}hn.prototype.add=function(c,y,v,b,U){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=hs(c,y,b,U);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new kt(y,this.src,$,!!b,U),y.fa=v,c.push(y)),y};function Wt(c,y){var v=y.type;if(v in c.g){var b=c.g[v],U=Array.prototype.indexOf.call(b,y,void 0),$;($=0<=U)&&Array.prototype.splice.call(b,U,1),$&&(Dn(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function hs(c,y,v,b){for(var U=0;U<c.length;++U){var $=c[U];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==b)return U}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),Go={};function Bu(c,y,v,b,U){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Bu(c,y[$],v,b,U);return null}return v=Hu(v),c&&c[ut]?c.K(y,v,g(b)?!!b.capture:!1,U):On(c,y,v,!1,b,U)}function On(c,y,v,b,U,$){if(!y)throw Error("Invalid event type");var ae=g(U)?!!U.capture:!!U,Ue=ca(c);if(Ue||(c[fs]=Ue=new hn(c)),v=Ue.add(y,v,b,ae,$),v.proxy)return v;if(b=Bf(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)me||(U=ae),U===void 0&&(U=!1),c.addEventListener(y.toString(),b,U);else if(c.attachEvent)c.attachEvent(ds(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bf(){function c(v){return y.call(c.src,c.listener,v)}const y=Hf;return c}function $o(c,y,v,b,U){if(Array.isArray(y))for(var $=0;$<y.length;$++)$o(c,y[$],v,b,U);else b=g(b)?!!b.capture:!!b,v=Hu(v),c&&c[ut]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=hs($,v,b,U),-1<v&&(Dn($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ca(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hs(y,v,b,U)),(v=-1<c?y[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ut])Wt(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(ds(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ca(y))?(Wt(v,c),v.h==0&&(v.src=null,y[fs]=null)):Dn(c)}}}function ds(c){return c in Go?Go[c]:Go[c]="on"+c}function Hf(c,y){if(c.da)c=!0;else{y=new Re(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&ua(c),c=v.call(b,y)}return c}function ca(c){return c=c[fs],c instanceof hn?c:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hu(c){return typeof c=="function"?c:(c[Ko]||(c[Ko]=function(y){return c.handleEvent(y)}),c[Ko])}function ft(){se.call(this),this.i=new hn(this),this.M=this,this.F=null}M(ft,se),ft.prototype[ut]=!0,ft.prototype.removeEventListener=function(c,y,v,b){$o(this,c,y,v,b)};function Qe(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var U=y;y=new ie(b,c),x(y,U)}if(U=!0,v)for(var $=v.length-1;0<=$;$--){var ae=y.g=v[$];U=vn(ae,b,!0,y)&&U}if(ae=y.g=c,U=vn(ae,b,!0,y)&&U,U=vn(ae,b,!1,y)&&U,v)for($=0;$<v.length;$++)ae=y.g=v[$],U=vn(ae,b,!1,y)&&U}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)Dn(v[b]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},ft.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function vn(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==v){var Ue=ae.listener,Ct=ae.ha||ae.src;ae.fa&&Wt(c.i,ae),U=Ue.call(Ct,b)!==!1&&U}}return U&&!b.defaultPrevented}function Jt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Fu(c){c.g=Jt(()=>{c.g=null,c.i&&(c.i=!1,Fu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ff extends se{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){se.call(this),this.h=c,this.g={}}M(ps,se);var ms=[];function gs(c){ce(c.g,function(y,v){this.g.hasOwnProperty(v)&&ua(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),gs(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=p.JSON.stringify,ha=p.JSON.parse,ys=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Qo(){}Qo.prototype.h=null;function Yo(c){return c.h||(c.h=c.i())}function Xo(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){ie.call(this,"d")}M(Nr,ie);function Wo(){ie.call(this,"c")}M(Wo,ie);var ar={},Jo=null;function pi(){return Jo=Jo||new ft}ar.La="serverreachability";function fa(c){ie.call(this,ar.La,c)}M(fa,ie);function mi(c){const y=pi();Qe(y,new fa(y))}ar.STAT_EVENT="statevent";function Gu(c,y){ie.call(this,ar.STAT_EVENT,c),this.stat=y}M(Gu,ie);function at(c){const y=pi();Qe(y,new Gu(y,c))}ar.Ma="timingevent";function It(c,y){ie.call(this,ar.Ma,c),this.size=y}M(It,ie);function _t(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function Zo(c,y,v,b,U,$){c.info(function(){if(c.g)if($)for(var ae="",Ue=$.split("&"),Ct=0;Ct<Ue.length;Ct++){var ze=Ue[Ct].split("=");if(1<ze.length){var Pt=ze[0];ze=ze[1];var Dt=Pt.split("_");ae=2<=Dt.length&&Dt[1]=="type"?ae+(Pt+"="+ze+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+v+`
`+ae})}function Gf(c,y,v,b,U,$,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+v+`
`+$+" "+ae})}function gi(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vs(c,v)+(b?" "+b:"")})}function $u(c,y){c.info(function(){return"TIMEOUT: "+y})}Nn.prototype.info=function(){};function vs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return $n(v)}catch{return y}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},or;function lr(){}M(lr,Qo),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},or=new lr;function an(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var el={},da={};function Kn(c,y,v){c.L=1,c.v=ws(_n(y)),c.m=v,c.P=!0,Mr(c,null)}function Mr(c,y){c.F=Date.now(),_s(c),c.A=_n(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),al(v.i,"t",b),c.C=0,v=c.j.J,c.h=new mt,c.g=lc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ff(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ms[0]=U.toString()),U=ms);for(var $=0;$<U.length;$++){var ae=Bu(v,U[$],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),mi(),Zo(c.i,c.u,c.A,c.l,c.R,c.m)}an.prototype.ca=function(c){c=c.target;const y=this.M;y&&Vn(c)==3?y.j():this.Y(c)},an.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Vn(this.g);var y=this.g.Ba();const qr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||ec(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=qr?mi(3):mi(2)),vi(this);var v=this.g.Z();this.X=v;t:if(Ku(this)){var b=ec(this.g);c="";var U=b.length,$=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),ur(this);var ae="";break t}this.h.i=new p.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!($&&y==U-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Gf(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ct=this.g;if((Ue=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ue)){var ze=Ue;break t}}ze=null}if(v=ze)gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,v);else{this.o=!1,this.s=3,at(12),Ht(this),ur(this);break e}}if(this.P){v=!0;let Ft;for(;!this.J&&this.C<ae.length;)if(Ft=Qu(this,ae),Ft==da){Dt==4&&(this.s=4,at(14),v=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==el){this.s=4,at(15),gi(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else gi(this.i,this.l,Ft,null),Es(this,Ft);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ae.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)gi(this.i,this.l,ae,"[Invalid Chunked Response]"),Ht(this),ur(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ns(Pt),Pt.M=!0,at(11))}}else gi(this.i,this.l,ae,null),Es(this,ae);Dt==4&&Ht(this),this.o&&!this.J&&(Dt==4?sc(this.j,this):(this.o=!1,_s(this)))}else Xf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Ht(this),ur(this)}}}catch{}finally{}};function Ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?da:(v=Number(y.substring(v,b)),isNaN(v)?el:(b+=1,b+v>y.length?da:(y=y.slice(b,b+v),c.C=b+v,y)))}an.prototype.cancel=function(){this.J=!0,Ht(this)};function _s(c){c.S=Date.now()+c.I,Yu(c,c.I)}function Yu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(S(c.ba,c),y)}function vi(c){c.B&&(p.clearTimeout(c.B),c.B=null)}an.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($u(this.i,this.A),this.L!=2&&(mi(),at(17)),Ht(this),this.s=2,ur(this)):Yu(this,this.S-c)};function ur(c){c.j.G==0||c.J||sc(c.j,c)}function Ht(c){vi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Es(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||tl(v.h,c))){if(!c.K&&tl(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Aa(v),wa(v);else break e;hl(v),at(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=_t(S(v.Za,v),6e3));if(1>=ma(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else jr(v,11)}else if((c.K||v.g==c)&&Aa(v),!re(y))for(U=v.Da.g.parse(y),y=0;y<U.length;y++){let ze=U[y];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Pt=ze[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const Dt=ze[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const qr=ze[5];qr!=null&&typeof qr=="number"&&0<qr&&(b=1.5*qr,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ft=c.g;if(Ft){const gr=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var $=b.h;$.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ga($,$.h),$.h=null))}if(b.D){const dl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(b.ya=dl,We(b.I,b.D,dl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ae=c;if(b.qa=oc(b,b.J?b.ia:null,b.W),ae.K){on(b.h,ae);var Ue=ae,Ct=b.L;Ct&&(Ue.I=Ct),Ue.B&&(vi(Ue),_s(Ue)),b.g=ae}else rc(b);0<v.i.length&&Sa(v)}else ze[0]!="stop"&&ze[0]!="close"||jr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?jr(v,7):ul(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}mi(4)}catch{}}var Xu=class{constructor(c,y){this.g=c,this.map=y}};function kr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ma(c){return c.h?1:c.g?c.g.size:0}function tl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ga(c,y){c.g?c.g.add(y):c.h=y}function on(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}kr.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return F(c.i)}function $f(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function rl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ya(c),b=$f(c),U=b.length,$=0;$<U;$++)y.call(void 0,b[$],v&&v[$],c)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),U=null;if(0<=b){var $=c[v].substring(0,b);U=c[v].substring(b+1)}else $=c[v];y($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,bs(this,c.j),this.o=c.o,this.g=c.g,_i(this,c.s),this.l=c.l;var y=c.i,v=new Pr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Vr(this,v),this.m=c.m}else c&&(y=String(c).match(Ts))?(this.h=!1,bs(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),_i(this,y[4]),this.l=xn(y[5]||"",!0),Vr(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ss(y,il,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ss(y,il,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ss(v,v.charAt(0)=="/"?Qf:sl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ss(v,va)),c.join("")};function _n(c){return new Et(c)}function bs(c,y,v){c.j=v?xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _i(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Vr(c,y,v){y instanceof Pr?(c.i=y,Ju(c.i,c.h)):(v||(y=Ss(y,Yf)),c.i=new Pr(y,c.h))}function We(c,y,v){c.i.set(y,v)}function ws(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Wu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,sl=/[#\?:]/g,Qf=/[#\?]/g,Yf=/[#\?@]/g,va=/#/g;function Pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Kf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Pr.prototype,r.add=function(c,y){Mn(this),this.i=null,c=cr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Lr(c,y){Mn(c),y=cr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ur(c,y){return Mn(c),y=cr(c,y),c.g.has(y)}r.forEach=function(c,y){Mn(this),this.g.forEach(function(v,b){v.forEach(function(U){c.call(y,U,b,this)},this)},this)},r.na=function(){Mn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const U=c[b];for(let $=0;$<U.length;$++)v.push(y[b])}return v},r.V=function(c){Mn(this);let y=[];if(typeof c=="string")Ur(this,c)&&(y=y.concat(this.g.get(cr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Mn(this),this.i=null,c=cr(this,c),Ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function al(c,y,v){Lr(c,y),0<v.length&&(c.i=null,c.g.set(cr(c,y),F(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const $=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var U=$;ae[b]!==""&&(U+="="+encodeURIComponent(String(ae[b]))),c.push(U)}}return this.i=c.join("&")};function cr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ju(c,y){y&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(v,b){var U=b.toLowerCase();b!=U&&(Lr(this,b),al(this,U,v))},c)),c.j=y}function As(c,y){const v=new Nn;if(p.Image){const b=new Image;b.onload=O(kn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=O(kn,v,"TestLoadImage: error",!1,y,b),b.onabort=O(kn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(kn,v,"TestLoadImage: timeout",!1,y,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Qn(c,y){const v=new Nn,b=new AbortController,U=setTimeout(()=>{b.abort(),kn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(U),$.ok?kn(v,"TestPingServer: ok",!0,y):kn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),kn(v,"TestPingServer: error",!1,y)})}function kn(c,y,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Rs(){this.g=new ys}function hr(c,y,v){const b=v||"";try{rl(c,function(U,$){let ae=U;g(U)&&(ae=$n(U)),y.push(b+$+"="+encodeURIComponent(ae))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function Ei(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ei,Qo),Ei.prototype.g=function(){return new zr(this.l,this.j)},Ei.prototype.i=function(c){return function(){return c}}({});function zr(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(zr,ft),r=zr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,dr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?fr(this):dr(this),this.readyState==3&&ol(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,fr(this))},r.Qa=function(c){this.g&&(this.response=c,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function dr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let y="";return ce(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Vt(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=ll(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,y,v))}function Ge(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ge,ft);var _a=/^https?$/i,Is=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():or.g(),this.v=this.o?Yo(this.o):Yo(or),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Zu(this,$);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())v.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Is,y,void 0))||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of v)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Zu(this,$)}};function Zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ea(c),pr(c)}function Ea(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),pr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},r.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Jt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=ae===0){var U=String(c.D).match(Ts)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),b=!_a.test(U?U.toLowerCase():"")}v=b}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var $=2<Vn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ea(c)}}finally{pr(c)}}}}function pr(c,y){if(c.g){Cs(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{v.onreadystatechange=b}catch{}}}function Cs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ha(y)}};function ec(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xf(c){const y={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(re(c[b]))continue;var v=V(c[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[U]||[];y[U]=$,$.push(v)}C(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ba(c){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(c&&c.concurrentRequestLimit),this.Da=new Rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ba.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,b){at(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=oc(this,null,this.W),Sa(this)};function ul(c){if(tc(c),c.G==3){var y=c.U++,v=_n(c.I);if(We(v,"SID",c.K),We(v,"RID",y),We(v,"TYPE","terminate"),Os(c,v),y=new an(c,c.j,y),y.L=2,y.v=ws(_n(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=y.v,v=!0),v||(y.g=lc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_s(y)}ac(c)}function wa(c){c.g&&(Ns(c),c.g.cancel(),c.g=null)}function tc(c){wa(c),c.u&&(p.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Sa(c){if(!pa(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||N(),pe||(oe(),pe=!0),Ie.add(y,c),c.B=0}}function Wf(c,y){return ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(S(c.Ga,c,y),fl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new an(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),x($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=nc(this,U,y),v=_n(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Os(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(ll($)))+"&"+y:this.m&&Vt(v,this.m,$)),ga(this.h,U),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",y),We(v,"SID","null"),U.T=!0,Kn(U,v,null)):Kn(U,v,y),this.G=2}}else this.G==3&&(c?cl(this,c):this.i.length==0||pa(this.h)||cl(this))};function cl(c,y){var v;y?v=y.l:v=c.U++;const b=_n(c.I);We(b,"SID",c.K),We(b,"RID",v),We(b,"AID",c.T),Os(c,b),c.m&&c.o&&Vt(b,c.m,c.o),v=new an(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=nc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ga(c.h,v),Kn(v,b,y)}function Os(c,y){c.H&&ce(c.H,function(v,b){We(y,b,v)}),c.l&&rl({},function(v,b){We(y,b,v)})}function nc(c,y,v){v=Math.min(c.i.length,v);var b=c.l?S(c.l.Na,c.l,c):null;e:{var U=c.i;let $=-1;for(;;){const ae=["count="+v];$==-1?0<v?($=U[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let Ue=!0;for(let Ct=0;Ct<v;Ct++){let ze=U[Ct].g;const Pt=U[Ct].map;if(ze-=$,0>ze)$=Math.max(0,U[Ct].g-100),Ue=!1;else try{hr(Pt,ae,"req"+ze+"_")}catch{b&&b(Pt)}}if(Ue){b=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function rc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||N(),pe||(oe(),pe=!0),Ie.add(y,c),c.v=0}}function hl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(S(c.Fa,c),fl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),wa(this),ic(this))};function Ns(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ic(c){c.g=new an(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Os(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ws(_n(y)),v.m=null,v.P=!0,Mr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,wa(this),hl(this),at(19))};function Aa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function sc(c,y){var v=null;if(c.g==y){Aa(c),Ns(c),c.g=null;var b=2}else if(tl(c.h,y))v=y.D,on(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;b=pi(),Qe(b,new It(b,v)),Sa(c)}else rc(c);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&Wf(c,y)||b==2&&hl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),U){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function fl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function jr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),b=c.Xa;const U=!b;b=new Et(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||bs(b,"https"),ws(b),U?As(b.toString(),v):Qn(b.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(y),ac(c),tc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ac(c){if(c.G=0,c.ka=[],c.l){const y=nl(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function oc(c,y,v){var b=v instanceof Et?_n(v):new Et(v);if(b.g!="")y&&(b.g=y+"."+b.g),_i(b,b.s);else{var U=p.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var $=new Et(null);b&&bs($,b),y&&($.g=y),U&&_i($,U),v&&($.l=v),b=$}return v=c.D,y=c.ya,v&&y&&We(b,v,y),We(b,"VER",c.la),Os(c,b),b}function lc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new Ei({eb:v})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}r=uc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ra(){}Ra.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){ft.call(this),this.g=new ba(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mr(this)}M(ln,ft),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ul(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=$n(c),c=v);y.i.push(new Xu(y.Ya++,c)),y.G==3&&Sa(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,ln.aa.N.call(this)};function cc(c){Nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(cc,Nr);function hc(){Wo.call(this),this.status=1}M(hc,Wo);function mr(c){this.g=c}M(mr,uc),mr.prototype.ua=function(){Qe(this.g,"a")},mr.prototype.ta=function(c){Qe(this.g,new cc(c))},mr.prototype.sa=function(c){Qe(this.g,new hc)},mr.prototype.ra=function(){Qe(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Nb=function(){return new Ra},Ob=function(){return pi()},Db=ar,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Ch=yi,xr.COMPLETE="complete",Cb=xr,Xo.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",ft.prototype.listen=ft.prototype.K,su=Xo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Ib=Ge}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",s0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new rg("@firebase/firestore");function so(){return ta.logLevel}function he(r,...e){if(ta.logLevel<=Pe.DEBUG){const n=e.map(mg);ta.debug(`Firestore (${Lo}): ${r}`,...n)}}function hi(r,...e){if(ta.logLevel<=Pe.ERROR){const n=e.map(mg);ta.error(`Firestore (${Lo}): ${r}`,...n)}}function vo(r,...e){if(ta.logLevel<=Pe.WARN){const n=e.map(mg);ta.warn(`Firestore (${Lo}): ${r}`,...n)}}function mg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+r;throw hi(e),new Error(e)}function Ke(r,e){r||we()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class jO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qO{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ai,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ai)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new xb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new nn(e)}}class BO{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HO{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new BO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FO{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new a0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new a0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function Am(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=Mb(),f=$O(u.encode(o0(r,n)),u.encode(o0(e,n)));return f!==0?f:xe(s,o)}}n+=s>65535?2:1}return xe(r.length,e.length)}function o0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function $O(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return xe(r[n],e[n]);return xe(r.length,e.length)}function _o(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-62135596800,u0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*u0);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new xt(0,0))}static max(){return new Se(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="__name__";class br{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=br.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=br.isNumericId(e),o=br.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?br.extractNumericId(e).compare(br.extractNumericId(n)):Am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class it extends br{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const KO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends br{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return KO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c0}static keyField(){return new Yt([c0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function QO(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new es(o,ye.empty(),e)}function YO(r){return new es(r.readTime,r.key,Eu)}class es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new es(Se.min(),ye.empty(),Eu)}static max(){return new es(Se.max(),ye.empty(),Eu)}}function XO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==WO)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(E=>{f[g]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function ZO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}vf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function _f(r){return r==null}function Yh(r){return r===0&&1/r==-1/0}function eN(r){return typeof r=="number"&&Number.isInteger(r)&&!Yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="";function tN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=h0(e)),e=nN(r.get(n),e);return h0(e)}function nN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Vb:n+="";break;default:n+=u}}return n}function h0(r){return r+Vb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function us(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Pb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Mt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Lb("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const rN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=rN.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="server_timestamp",zb="__type__",jb="__previous_value__",qb="__local_write_time__";function yg(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[zb])===null||n===void 0?void 0:n.stringValue)===Ub}function Ef(r){const e=r.mapValue.fields[jb];return yg(e)?Ef(e):e}function Tu(r){const e=ts(r.mapValue.fields[qb].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,s,o,u,f,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const Xh="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__type__",sN="__max__",gh={mapValue:{}},Hb="__vector__",Wh="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:oN(r)?9007199254740991:aN(r)?10:11:we()}function Cr(r,e){if(r===e)return!0;const n=rs(r);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tu(r).isEqual(Tu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ts(o.timestampValue),p=ts(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),p=vt(u.doubleValue);return f===p?Yh(f)===Yh(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(f0(f)!==f0(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!Cr(f[m],p[m])))return!1;return!0}(r,e);default:return we()}}function wu(r,e){return(r.values||[]).find(n=>Cr(n,e))!==void 0}function Eo(r,e){if(r===e)return 0;const n=rs(r),s=rs(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=vt(u.integerValue||u.doubleValue),m=vt(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return p0(r.timestampValue,e.timestampValue);case 4:return p0(Tu(r),Tu(e));case 5:return Am(r.stringValue,e.stringValue);case 6:return function(u,f){const p=ns(u),m=ns(f);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=xe(p[g],m[g]);if(E!==0)return E}return xe(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=xe(vt(u.latitude),vt(f.latitude));return p!==0?p:xe(vt(u.longitude),vt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return m0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,m,g,E;const w=u.fields||{},S=f.fields||{},O=(p=w[Wh])===null||p===void 0?void 0:p.arrayValue,M=(m=S[Wh])===null||m===void 0?void 0:m.arrayValue,F=xe(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:m0(O,M)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===gh.mapValue&&f===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(f===gh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let w=0;w<m.length&&w<E.length;++w){const S=Am(m[w],E[w]);if(S!==0)return S;const O=Eo(p[m[w]],g[E[w]]);if(O!==0)return O}return xe(m.length,E.length)}(r.mapValue,e.mapValue);default:throw we()}}function p0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=ts(r),s=ts(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function m0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function To(r){return Rm(r)}function Rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ns(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Rm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Rm(n.fields[f])}`;return o+"}"}(r.mapValue):we()}function Dh(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(r);return e?16+Dh(e):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Dh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,f)=>{o+=u.length+Dh(f)}),o}(r.mapValue);default:throw we()}}function g0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Im(r){return!!r&&"integerValue"in r}function vg(r){return!!r&&"arrayValue"in r}function y0(r){return!!r&&"nullValue"in r}function v0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oh(r){return!!r&&"mapValue"in r}function aN(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bb])===null||n===void 0?void 0:n.stringValue)===Hb}function hu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return us(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=hu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function oN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=hu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){us(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(hu(this.value))}}function Fb(r){const e=[];return us(r.fields,(n,s)=>{const o=new Yt([n]);if(Oh(s)){const u=Fb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.position=e,this.inclusive=n}}function _0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function E0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Cr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{}class At extends Gb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cN(e,n,s):n==="array-contains"?new dN(e,s):n==="in"?new pN(e,s):n==="not-in"?new mN(e,s):n==="array-contains-any"?new gN(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hN(e,s):new fN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eo(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends Gb{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new nr(e,n)}matches(e){return $b(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $b(r){return r.op==="and"}function Kb(r){return uN(r)&&$b(r)}function uN(r){for(const e of r.filters)if(e instanceof nr)return!1;return!0}function Cm(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+To(r.value);if(Kb(r))return r.filters.map(e=>Cm(e)).join(",");{const e=r.filters.map(n=>Cm(n)).join(",");return`${r.op}(${e})`}}function Qb(r,e){return r instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Cr(s.value,o.value)}(r,e):r instanceof nr?function(s,o){return o instanceof nr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&Qb(f,o.filters[p]),!0):!1}(r,e):void we()}function Yb(r){return r instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(r):r instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(Yb).join(" ,")+"}"}(r):"Filter"}class cN extends At{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class hN extends At{constructor(e,n){super(e,"in",n),this.keys=Xb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fN extends At{constructor(e,n){super(e,"not-in",n),this.keys=Xb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xb(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class dN extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vg(n)&&wu(n.arrayValue,this.value)}}class pN extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class mN extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wu(this.value.arrayValue,n)}}class gN extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>wu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function T0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new yN(r,e,n,s,o,u,f)}function _g(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),_f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>To(s)).join(",")),e.le=n}return e.le}function Eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!lN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Qb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!E0(r.startAt,e.startAt)&&E0(r.endAt,e.endAt)}function Dm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vN(r,e,n,s,o,u,f,p){return new ku(r,e,n,s,o,u,f,p)}function Tg(r){return new ku(r)}function b0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Wb(r){return r.collectionGroup!==null}function fu(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Mt(Yt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Zh(u,s))}),n.has(Yt.keyField().canonicalString())||e.he.push(new Zh(Yt.keyField(),s))}return e.he}function Rr(r){const e=Ae(r);return e.Pe||(e.Pe=_N(e,fu(r))),e.Pe}function _N(r,e){if(r.limitType==="F")return T0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Zh(o.field,u)});const n=r.endAt?new Jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Jh(r.startAt.position,r.startAt.inclusive):null;return T0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Om(r,e){const n=r.filters.concat([e]);return new ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Nm(r,e,n){return new ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Tf(r,e){return Eg(Rr(r),Rr(e))&&r.limitType===e.limitType}function Jb(r){return`${_g(Rr(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Yb(o)).join(", ")}]`),_f(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>To(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(Rr(r))}; limitType=${r.limitType})`}function bf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of fu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=_0(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,fu(s),o)||s.endAt&&!function(f,p,m){const g=_0(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,fu(s),o))}(r,e)}function EN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Zb(r){return(e,n)=>{let s=!1;for(const o of fu(r)){const u=TN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TN(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Eo(m,g):we()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new ht(ye.comparator);function fi(){return bN}const ew=new ht(ye.comparator);function au(...r){let e=ew;for(const n of r)e=e.insert(n.key,n);return e}function tw(r){let e=ew;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Qs(){return du()}function nw(){return du()}function du(){return new aa(r=>r.toString(),(r,e)=>r.isEqual(e))}const wN=new ht(ye.comparator),SN=new Mt(ye.comparator);function Le(...r){let e=SN;for(const n of r)e=e.add(n);return e}const AN=new Mt(xe);function RN(){return AN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function rw(r){return{integerValue:""+r}}function IN(r,e){return eN(e)?rw(e):bg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this._=void 0}}function CN(r,e,n){return r instanceof ef?function(o,u){const f={fields:{[zb]:{stringValue:Ub},[qb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yg(u)&&(u=Ef(u)),u&&(f.fields[jb]=u),{mapValue:f}}(n,e):r instanceof bo?sw(r,e):r instanceof wo?aw(r,e):function(o,u){const f=iw(o,u),p=w0(f)+w0(o.Ie);return Im(f)&&Im(o.Ie)?rw(p):bg(o.serializer,p)}(r,e)}function DN(r,e,n){return r instanceof bo?sw(r,e):r instanceof wo?aw(r,e):n}function iw(r,e){return r instanceof tf?function(s){return Im(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ef extends wf{}class bo extends wf{constructor(e){super(),this.elements=e}}function sw(r,e){const n=ow(e);for(const s of r.elements)n.some(o=>Cr(o,s))||n.push(s);return{arrayValue:{values:n}}}class wo extends wf{constructor(e){super(),this.elements=e}}function aw(r,e){let n=ow(e);for(const s of r.elements)n=n.filter(o=>!Cr(o,s));return{arrayValue:{values:n}}}class tf extends wf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function w0(r){return vt(r.integerValue||r.doubleValue)}function ow(r){return vg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,n){this.field=e,this.transform=n}}function ON(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof bo&&o instanceof bo||s instanceof wo&&o instanceof wo?_o(s.elements,o.elements,Cr):s instanceof tf&&o instanceof tf?Cr(s.Ie,o.Ie):s instanceof ef&&o instanceof ef}(r.transform,e.transform)}class NN{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sf{}function uw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hw(r.key,Zn.none()):new Vu(r.key,r.data,Zn.none());{const n=r.data,s=gn.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new cs(r.key,s,new Cn(o.toArray()),Zn.none())}}function xN(r,e,n){r instanceof Vu?function(o,u,f){const p=o.value.clone(),m=A0(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof cs?function(o,u,f){if(!Nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=A0(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(cw(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function pu(r,e,n,s){return r instanceof Vu?function(u,f,p,m){if(!Nh(u.precondition,f))return p;const g=u.value.clone(),E=R0(u.fieldTransforms,m,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof cs?function(u,f,p,m){if(!Nh(u.precondition,f))return p;const g=R0(u.fieldTransforms,m,f),E=f.data;return E.setAll(cw(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,p){return Nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function MN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=iw(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function S0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,(u,f)=>ON(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Vu extends Sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cw(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function A0(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,DN(f,p,n[o]))}return s}function R0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,CN(u,f,e))}return s}class hw extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kN extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nw();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=uw(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,s)=>S0(n,s))&&_o(this.baseMutations,e.baseMutations,(n,s)=>S0(n,s))}}class wg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return wN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new wg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,qe;function UN(r){switch(r){case ne.OK:return we();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we()}}function fw(r){if(r===void 0)return hi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case wt.OK:return ne.OK;case wt.CANCELLED:return ne.CANCELLED;case wt.UNKNOWN:return ne.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ne.INTERNAL;case wt.UNAVAILABLE:return ne.UNAVAILABLE;case wt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case wt.NOT_FOUND:return ne.NOT_FOUND;case wt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case wt.ABORTED:return ne.ABORTED;case wt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case wt.DATA_LOSS:return ne.DATA_LOSS;default:return we()}}(qe=wt||(wt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Ji([4294967295,4294967295],0);function I0(r){const e=Mb().encode(r),n=new Rb;return n.update(e),new Uint8Array(n.digest())}function C0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ji([n,s],0),new Ji([o,u],0)]}class Sg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ji.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Ji.fromNumber(s)));return o.compare(zN)===1&&(o=new Ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=I0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const n=I0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Af(Se.min(),o,new ht(xe),fi(),Le())}}class Pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class dw{constructor(e,n){this.targetId=e,this.ge=n}}class pw{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class D0{constructor(){this.pe=0,this.ye=O0(),this.we=Xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Pu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=O0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=fi(),this.$e=yh(),this.Ue=yh(),this.Ke=new ht(xe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Dm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,rn.newNoDocument(f,Se.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const p=this.tt(e),m=p?this.nt(p,e,f):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ns(s).toUint8Array()}catch(m){if(m instanceof Lb)return vo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Sg(f,o,u)}catch(m){return vo(m instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const p=this.Xe(f);if(p){if(u.current&&Dm(p.target)){const m=new ye(p.target.path);this._t(m).has(f)||this.ut(f,m)||this.ze(f,m,rn.newNoDocument(m,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Le();this.Ue.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Af(e,n,this.Ke,this.Qe,s);return this.Qe=fi(),this.$e=yh(),this.Ue=yh(),this.Ke=new ht(xe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new D0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Mt(xe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Mt(xe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new D0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function yh(){return new ht(ye.comparator)}function O0(){return new ht(ye.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},BN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HN={and:"AND",or:"OR"};class FN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(r,e){return r.useProto3Json||_f(e)?e:{value:e}}function nf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GN(r,e){return nf(r,e.toTimestamp())}function Ir(r){return Ke(!!r),Se.fromTimestamp(function(n){const s=ts(n);return new xt(s.seconds,s.nanos)}(r))}function Ag(r,e){return Mm(r,e).canonicalString()}function Mm(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function gw(r){const e=it.fromString(r);return Ke(Tw(e)),e}function km(r,e){return Ag(r.databaseId,e.path)}function rm(r,e){const n=gw(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(vw(n))}function yw(r,e){return Ag(r.databaseId,e)}function $N(r){const e=gw(r);return e.length===4?it.emptyPath():vw(e)}function Vm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vw(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function N0(r,e,n){return{name:km(r,e),fields:n.value.mapValue.fields}}function KN(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string"),Xt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Xt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const E=g.code===void 0?ne.UNKNOWN:fw(g.code);return new fe(E,g.message||"")}(f);n=new pw(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rm(r,s.document.name),u=Ir(s.document.updateTime),f=s.document.createTime?Ir(s.document.createTime):Se.min(),p=new gn({mapValue:{fields:s.document.fields}}),m=rn.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new xh(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rm(r,s.document),u=s.readTime?Ir(s.readTime):Se.min(),f=rn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new xh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rm(r,s.document),u=s.removedTargetIds||[];n=new xh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new LN(o,u),p=s.targetId;n=new dw(p,f)}}return n}function QN(r,e){let n;if(e instanceof Vu)n={update:N0(r,e.key,e.value)};else if(e instanceof hw)n={delete:km(r,e.key)};else if(e instanceof cs)n={update:N0(r,e.key,e.data),updateMask:rx(e.fieldMask)};else{if(!(e instanceof kN))return we();n={verify:km(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof ef)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof bo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof wo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof tf)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:GN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),n}function YN(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Ir(o.updateTime):Ir(u);return f.isEqual(Se.min())&&(f=Ir(u)),new NN(f,o.transformResults||[])}(n,e))):[]}function XN(r,e){return{documents:[yw(r,e.path)]}}function WN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yw(r,o);const u=function(g){if(g.length!==0)return Ew(nr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:oo(S.field),direction:ex(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=xm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function JN(r){let e=$N(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=_w(w);return S instanceof nr&&Kb(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(M){return new Zh(lo(M.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(n.orderBy));let p=null;n.limit&&(p=function(w){let S;return S=typeof w=="object"?w.value:w,_f(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(w){const S=!!w.before,O=w.values||[];return new Jh(O,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,O=w.values||[];return new Jh(O,S)}(n.endAt)),vN(e,o,f,u,p,"F",m,g)}function ZN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _w(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(n){return At.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(s=>_w(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(r):we()}function ex(r){return qN[r]}function tx(r){return BN[r]}function nx(r){return HN[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Yt.fromServerFormat(r.fieldPath)}function Ew(r){return r instanceof At?function(n){if(n.op==="=="){if(v0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:tx(n.op),value:n.value}}}(r):r instanceof nr?function(n){const s=n.getFilters().map(o=>Ew(o));return s.length===1?s[0]:{compositeFilter:{op:nx(n.op),filters:s}}}(r):we()}function rx(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,s,o,u=Se.min(),f=Se.min(),p=Xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.Tt=e}}function sx(r){const e=JN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.Tn=new ox}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(es.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class ox{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bw=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(bw,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new So(0)}static Kn(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="LruGarbageCollector",lx=1048576;function k0([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class ux{constructor(e){this.Hn=e,this.buffer=new Mt(k0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();k0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(M0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?he(M0,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.er(3e5)})}}class hx{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(vf.ae);const s=new ux(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(x0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,p,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,p=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),so()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function fx(r,e){return new hx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&pu(s.mutation,o,Cn.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=au();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=fi();const f=du(),p=function(){return du()}();return n.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),pu(E.mutation,g,E.mutation.getFieldMask(),xt.now())):f.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return p.set(g,new px(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),p))}recalculateAndSaveOverlays(e,n){const s=du();let o=new ht((f,p)=>f-p),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let E=s.get(m)||Cn.empty();E=p.applyToLocalView(g,E),s.set(m,E);const w=(o.get(p.batchId)||Le()).add(m);o=o.insert(p.batchId,w)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,w=nw();E.forEach(S=>{if(!u.has(S)){const O=uw(n.get(S),s.get(S));O!==null&&w.set(S,O),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Qs());let p=Eu,m=u;return f.next(g=>ee.forEach(g,(E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{m=m.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Le())).next(E=>({batchId:p,changes:tw(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=au();return this.indexManager.getCollectionParents(e,u).next(p=>ee.forEach(p,m=>{const g=function(w,S){return new ku(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,rn.newInvalidDocument(E)))});let p=au();return f.forEach((m,g)=>{const E=u.get(m);E!==void 0&&pu(E.mutation,g,Cn.empty(),xt.now()),bf(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ir(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:sx(o.bundledQuery),readTime:Ir(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.overlays=new ht(ye.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new ye(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Qs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return ee.resolve(p)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new PN(n,s));let u=this.Rr.get(n);u===void 0&&(u=Le(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Vr=new Mt(jt.mr),this.gr=new Mt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new it([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new it([])),s=new jt(n,e),o=new jt(n,e+1);let u=Le();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||xe(e.Cr,n.Cr)}static pr(e,n){return xe(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(jt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new VN(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new jt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?gg:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);u.push(p)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(xe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{s=s.add(p.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ye(u),0);let p=new Mt(xe);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Cr)),!0)},f),ee.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.kr=e,this.docs=function(){return new ht(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=fi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fi();const f=n.path,p=new ye(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||XO(YO(E),s)<=0||(o.has(E.key)||bf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Tx(this)}getSize(e){return ee.resolve(this.size)}}class Tx extends dx{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.persistence=e,this.Qr=new aa(n=>_g(n),Eg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Rg,this.targetCount=0,this.Kr=So.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new So(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new vf(0),this.zr=!1,this.zr=!0,this.jr=new vx,this.referenceDelegate=e(this),this.Hr=new bx(this),this.indexManager=new ax,this.remoteDocumentCache=function(o){return new Ex(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new ix(n),this.Yr=new gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new _x(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new wx(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class wx extends JO{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.ti=new Rg,this.ni=null}static ri(e){return new Ig(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class rf{constructor(e,n){this.persistence=e,this.oi=new aa(s=>tN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fx(this,n)}static ri(e,n){return new rf(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(p=>{p||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return iI()?8:ZO(sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Sx;return this._s(e,n,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,f,p.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(so()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(so()<=Pe.DEBUG&&he("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(so()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):ee.resolve())}rs(e,n){if(b0(n))return ee.resolve(null);let s=Rr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),s=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(n,p);return this.ls(n,g,f,m.readTime)?this.rs(e,Nm(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,s,o){return b0(n)||o.isEqual(Se.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(so()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.hs(e,f,n,QO(o,Eu)).next(p=>p))})}cs(e,n){let s=new Mt(Zb(e));return n.forEach((o,u)=>{bf(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return so()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ns.getDocumentsMatchingQuery(e,n,es.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",Rx=3e8;class Ix{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ht(xe),this.Is=new aa(u=>_g(u),Eg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Cx(r,e,n,s){return new Ix(r,e,n,s)}async function Sw(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:p}))})})}function Dx(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const w=g.batch,S=w.keys();let O=ee.resolve();return S.forEach(M=>{O=O.next(()=>E.getEntry(m,M)).next(F=>{const q=g.docVersions.get(M);Ke(q!==null),F.version.compareTo(q)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),E.addEntry(F)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Le();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Aw(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Ox(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;p.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(w,O),function(F,q,K){return F.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=Rx?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,O,E)&&p.push(n.Hr.updateTargetData(u,O))});let m=fi(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(Nx(u,f,e.documentUpdates).next(E=>{m=E.Vs,g=E.fs})),!s.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return ee.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=o,u))}function Nx(r,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=fi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):he(Dg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Vs:f,fs:o}})}function xx(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Mx(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Qi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Pm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!zo(f))throw f;he(Dg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function V0(r,e,n){const s=Ae(r);let o=Se.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,E){const w=Ae(m),S=w.Is.get(E);return S!==void 0?ee.resolve(w.Ts.get(S)):w.Hr.getTargetData(g,E)}(s,f,Rr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Le())).next(p=>(kx(s,EN(e),p),{documents:p,gs:u})))}function kx(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class P0{constructor(){this.activeTargetIds=RN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vx{constructor(){this.ho=new P0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new P0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="ConnectivityMonitor";class U0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(L0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(L0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Lm(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",Lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ux{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Lm(),p=this.bo(e,n.toUriEncodedString());he(im,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,p,m,s).then(g=>(he(im,`Received RPC '${e}' ${f}: `,g),g),g=>{throw vo(im,`RPC '${e}' ${f} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=Lx[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class jx extends Ux{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Lm();return new Promise((f,p)=>{const m=new Ib;m.setWithCredentials(!0),m.listenOnce(Cb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ch.NO_ERROR:const E=m.getResponseJson();he(tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Ch.TIMEOUT:he(tn,`RPC '${e}' ${u} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const w=m.getStatus();if(he(tn,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const M=function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(O.status);p(new fe(M,O.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{he(tn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(tn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Lm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Nb(),p=Ob(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const w=f.createWebChannel(E,m);let S=!1,O=!1;const M=new zx({Fo:q=>{O?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(S||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),he(tn,`RPC '${e}' stream ${o} sending:`,q),w.send(q))},Mo:()=>w.close()}),F=(q,K,re)=>{q.listen(K,Q=>{try{re(Q)}catch(ue){setTimeout(()=>{throw ue},0)}})};return F(w,su.EventType.OPEN,()=>{O||(he(tn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),F(w,su.EventType.CLOSE,()=>{O||(O=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),F(w,su.EventType.ERROR,q=>{O||(O=!0,vo(tn,`RPC '${e}' stream ${o} transport errored:`,q),M.Uo(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),F(w,su.EventType.MESSAGE,q=>{var K;if(!O){const re=q.data[0];Ke(!!re);const Q=re,ue=(Q==null?void 0:Q.error)||((K=Q[0])===null||K===void 0?void 0:K.error);if(ue){he(tn,`RPC '${e}' stream ${o} received error:`,ue);const le=ue.status;let ce=function(R){const x=wt[R];if(x!==void 0)return fw(x)}(le),C=ue.message;ce===void 0&&(ce=ne.INTERNAL,C="Unknown error status: "+le+" with message "+ue.message),O=!0,M.Uo(new fe(ce,C)),w.close()}else he(tn,`RPC '${e}' stream ${o} received:`,re),M.Ko(re)}}),F(p,Db.STAT_EVENT,q=>{q.stat===Sm.PROXY?he(tn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Sm.NOPROXY&&he(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(r){return new FN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="PersistentStream";class Iw{constructor(e,n,s,o,u,f,p,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Rw(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(z0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qx extends Iw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=KN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ir(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=Dm(m)?{documents:XN(u,m)}:{query:WN(u,m).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=mw(u,f.resumeToken);const g=xm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){p.readTime=nf(u,f.snapshotVersion.toTimestamp());const g=xm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=ZN(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.I_(n)}}class Bx extends Iw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=YN(e.writeResults,e.commitTime),s=Ir(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Vm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>QN(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{}class Fx extends Hx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Mm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,Mm(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Gx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(hi(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class $x{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{oa(this)&&(he(na,"Restarting streams for network reachability change."),await async function(m){const g=Ae(m);g.W_.add(4),await Lu(g),g.j_.set("Unknown"),g.W_.delete(4),await If(g)}(this))})}),this.j_=new Gx(s,o)}}async function If(r){if(oa(r))for(const e of r.G_)await e(!0)}async function Lu(r){for(const e of r.G_)await e(!1)}function Cw(r,e){const n=Ae(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Mg(n)?xg(n):jo(n).c_()&&Ng(n,e))}function Og(r,e){const n=Ae(r),s=jo(n);n.K_.delete(e),s.c_()&&Dw(n,e),n.K_.size===0&&(s.c_()?s.P_():oa(n)&&n.j_.set("Unknown"))}function Ng(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(r).y_(e)}function Dw(r,e){r.H_.Ne(e),jo(r).w_(e)}function xg(r){r.H_=new jN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),jo(r).start(),r.j_.B_()}function Mg(r){return oa(r)&&!jo(r).u_()&&r.K_.size>0}function oa(r){return Ae(r).W_.size===0}function Ow(r){r.H_=void 0}async function Kx(r){r.j_.set("Online")}async function Qx(r){r.K_.forEach((e,n)=>{Ng(r,e)})}async function Yx(r,e){Ow(r),Mg(r)?(r.j_.q_(e),xg(r)):r.j_.set("Unknown")}async function Xx(r,e,n){if(r.j_.set("Online"),e instanceof pw&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.K_.delete(p),o.H_.removeTarget(p))}(r,e)}catch(s){he(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sf(r,s)}else if(e instanceof xh?r.H_.We(e):e instanceof dw?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await Aw(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.H_.ot(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const E=u.K_.get(m);if(!E)return;u.K_.set(m,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),Dw(u,m);const w=new Qi(E.target,m,g,E.sequenceNumber);Ng(u,w)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){he(na,"Failed to raise snapshot:",s),await sf(r,s)}}async function sf(r,e,n){if(!zo(e))throw e;r.W_.add(1),await Lu(r),r.j_.set("Offline"),n||(n=()=>Aw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(na,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await If(r)})}function Nw(r,e){return e().catch(n=>sf(r,n,e))}async function Cf(r){const e=Ae(r),n=is(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:gg;for(;Wx(e);)try{const o=await xx(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,Jx(e,o)}catch(o){await sf(e,o)}xw(e)&&Mw(e)}function Wx(r){return oa(r)&&r.U_.length<10}function Jx(r,e){r.U_.push(e);const n=is(r);n.c_()&&n.S_&&n.b_(e.mutations)}function xw(r){return oa(r)&&!is(r).u_()&&r.U_.length>0}function Mw(r){is(r).start()}async function Zx(r){is(r).C_()}async function eM(r){const e=is(r);for(const n of r.U_)e.b_(n.mutations)}async function tM(r,e,n){const s=r.U_.shift(),o=wg.from(s,e,n);await Nw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Cf(r)}async function nM(r,e){e&&is(r).S_&&await async function(s,o){if(function(f){return UN(f)&&f!==ne.ABORTED}(o.code)){const u=s.U_.shift();is(s).h_(),await Nw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Cf(s)}}(r,e),xw(r)&&Mw(r)}async function j0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),he(na,"RemoteStore received new credentials");const s=oa(n);n.W_.add(3),await Lu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await If(n)}async function rM(r,e){const n=Ae(r);e?(n.W_.delete(2),await If(n)):e||(n.W_.add(2),await Lu(n),n.j_.set("Unknown"))}function jo(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new qx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:Kx.bind(null,r),No:Qx.bind(null,r),Lo:Yx.bind(null,r),p_:Xx.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Mg(r)?xg(r):r.j_.set("Unknown")):(await r.J_.stop(),Ow(r))})),r.J_}function is(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new Bx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Zx.bind(null,r),Lo:nM.bind(null,r),D_:eM.bind(null,r),v_:tM.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Cf(r)):(await r.Y_.stop(),r.U_.length>0&&(he(na,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new kg(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(r,e){if(hi("AsyncQueue",`${e}: ${r}`),zo(r))return new fe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=au(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.Z_=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ao{constructor(e,n,s,o,u,f,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Ao(e,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class sM{constructor(){this.queries=B0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=B0(),u.forEach((f,p)=>{for(const m of p.ta)m.onError(s)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function B0(){return new aa(r=>Jb(r),Tf)}async function kw(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new iM,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Vg(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Pg(n)}async function Vw(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aM(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&Pg(n)}function oM(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Pg(r){r.ia.forEach(e=>{e.next()})}var Um,H0;(H0=Um||(Um={}))._a="default",H0.Cache="cache";class Pw{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.key=e}}class Uw{constructor(e){this.key=e}}class lM{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=Zb(e),this.wa=new mo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new q0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),O=bf(this.query,w)?w:null,M=!!S&&this.mutatedKeys.has(S.key),F=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let q=!1;S&&O?S.data.isEqual(O.data)?M!==F&&(s.track({type:3,doc:O}),q=!0):this.va(S,O)||(s.track({type:2,doc:O}),q=!0,(m&&this.ya(O,m)>0||g&&this.ya(O,g)<0)&&(p=!0)):!S&&O?(s.track({type:0,doc:O}),q=!0):S&&!O&&(s.track({type:1,doc:S}),q=!0,(m||g)&&(p=!0)),q&&(O?(f=f.add(O),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(O,M){const F=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return F(O)-F(M)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,f.length!==0||g?{snapshot:new Ao(this.query,e.wa,u,f,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new q0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Uw(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Lw(s))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ao.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Lg="SyncEngine";class uM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cM{constructor(e){this.key=e,this.Ba=!1}}class hM{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new aa(p=>Jb(p),Tf),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ye.comparator),this.Ua=new Map,this.Ka=new Rg,this.Wa={},this.Ga=new Map,this.za=So.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fM(r,e,n=!0){const s=Fw(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await zw(s,e,n,!0),o}async function dM(r,e){const n=Fw(r);await zw(n,e,!0,!1)}async function zw(r,e,n,s){const o=await Mx(r.localStore,Rr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await pM(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Cw(r.remoteStore,o),p}async function pM(r,e,n,s,o){r.Ha=(w,S,O)=>async function(F,q,K,re){let Q=q.view.ba(K);Q.ls&&(Q=await V0(F.localStore,q.query,!1).then(({documents:C})=>q.view.ba(C,Q)));const ue=re&&re.targetChanges.get(q.targetId),le=re&&re.targetMismatches.get(q.targetId)!=null,ce=q.view.applyChanges(Q,F.isPrimaryClient,ue,le);return G0(F,q.targetId,ce.Ma),ce.snapshot}(r,w,S,O);const u=await V0(r.localStore,e,!0),f=new lM(e,u.gs),p=f.ba(u.documents),m=Pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);G0(r,n,g.Ma);const E=new uM(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function mM(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Tf(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Og(s.remoteStore,o.targetId),zm(s,o.targetId)}).catch(Uo)):(zm(s,o.targetId),await Pm(s.localStore,o.targetId,!0))}async function gM(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Og(n.remoteStore,s.targetId))}async function yM(r,e,n){const s=SM(r);try{const o=await function(f,p){const m=Ae(f),g=xt.now(),E=p.reduce((O,M)=>O.add(M.key),Le());let w,S;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=fi(),F=Le();return m.ds.getEntries(O,E).next(q=>{M=q,M.forEach((K,re)=>{re.isValidDocument()||(F=F.add(K))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,M)).next(q=>{w=q;const K=[];for(const re of p){const Q=MN(re,w.get(re.key).overlayedDocument);Q!=null&&K.push(new cs(re.key,Q,Fb(Q.value.mapValue),Zn.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,K,p)}).next(q=>{S=q;const K=q.applyToLocalDocumentSet(w,F);return m.documentOverlayCache.saveOverlays(O,q.batchId,K)})}).then(()=>({batchId:S.batchId,changes:tw(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Wa[f.currentUser.toKey()];g||(g=new ht(xe)),g=g.insert(p,m),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Uu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=Vg(o,"Failed to persist write");n.reject(u)}}async function jw(r,e){const n=Ae(r);try{const s=await Ox(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await Uu(n,s,e)}catch(s){await Uo(s)}}function F0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Ae(f);m.onlineState=p;let g=!1;m.queries.forEach((E,w)=>{for(const S of w.ta)S.sa(p)&&(g=!0)}),g&&Pg(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vM(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ht(ye.comparator);f=f.insert(u,rn.newNoDocument(u,Se.min()));const p=Le().add(u),m=new Af(Se.min(),new Map,new ht(xe),f,p);await jw(s,m),s.$a=s.$a.remove(u),s.Ua.delete(e),Ug(s)}else await Pm(s.localStore,e,!1).then(()=>zm(s,e,n)).catch(Uo)}async function _M(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await Dx(n.localStore,e);Bw(n,s,null),qw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(n,o)}catch(o){await Uo(o)}}async function EM(r,e,n){const s=Ae(r);try{const o=await function(f,p){const m=Ae(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(w=>(Ke(w!==null),E=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,e);Bw(s,e,n),qw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uu(s,o)}catch(o){await Uo(o)}}function qw(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function Bw(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||Hw(r,s)})}function Hw(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Og(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Ug(r))}function G0(r,e,n){for(const s of n)s instanceof Lw?(r.Ka.addReference(s.key,e),TM(r,s)):s instanceof Uw?(he(Lg,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||Hw(r,s.key)):we()}function TM(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(he(Lg,"New document in limbo: "+n),r.Qa.add(s),Ug(r))}function Ug(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(it.fromString(e)),s=r.za.next();r.Ua.set(s,new cM(n)),r.$a=r.$a.insert(n,s),Cw(r.remoteStore,new Qi(Rr(Tg(n.path)),s,"TargetPurposeLimboResolution",vf.ae))}}async function Uu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,m)=>{f.push(s.Ha(m,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Cg.Yi(m.targetId,g);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(m,g){const E=Ae(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(g,S=>ee.forEach(S.Hi,O=>E.persistence.referenceDelegate.addReference(w,S.targetId,O)).next(()=>ee.forEach(S.Ji,O=>E.persistence.referenceDelegate.removeReference(w,S.targetId,O)))))}catch(w){if(!zo(w))throw w;he(Dg,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const O=E.Ts.get(S),M=O.snapshotVersion,F=O.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(S,F)}}}(s.localStore,u))}async function bM(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){he(Lg,"User change. New user:",e.toKey());const s=await Sw(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(p=>{p.forEach(m=>{m.reject(new fe(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(n,s.Rs)}}function wM(r,e){const n=Ae(r),s=n.Ua.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=n.qa.get(e);if(!u)return o;for(const f of u){const p=n.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function Fw(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vM.bind(null,e),e.La.p_=aM.bind(null,e.eventManager),e.La.Ja=oM.bind(null,e.eventManager),e}function SM(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_M.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EM.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Cx(this.persistence,new Ax,e.initialUser,this.serializer)}Xa(e){return new ww(Ig.ri,this.serializer)}Za(e){return new Vx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class AM extends af{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof rf);const s=this.persistence.referenceDelegate.garbageCollector;return new cx(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new ww(s=>rf.ri(s,n),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>F0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bM.bind(null,this.syncEngine),await rM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sM}()}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),s=function(u){return new jx(u)}(e.databaseInfo);return function(u,f,p,m){return new Fx(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new $x(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>F0(this.syncEngine,n,0),function(){return U0.D()?new U0:new Px}())}createSyncEngine(e,n){return function(o,u,f,p,m,g,E){const w=new hM(o,u,f,p,m,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);he(na,"RemoteStore shutting down."),u.W_.add(5),await Lu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class RM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=kb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function am(r,e){r.asyncQueue.verifyOperationInProgress(),he(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Sw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await IM(r);he(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>j0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>j0(e.remoteStore,o)),r._onlineComponents=e}async function IM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ss,"Using user provided OfflineComponentProvider");try{await am(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await am(r,new af)}}else he(ss,"Using default OfflineComponentProvider"),await am(r,new AM(void 0));return r._offlineComponents}async function $w(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ss,"Using user provided OnlineComponentProvider"),await $0(r,r._uninitializedComponentsProvider._online)):(he(ss,"Using default OnlineComponentProvider"),await $0(r,new jm))),r._onlineComponents}function CM(r){return $w(r).then(e=>e.syncEngine)}async function Kw(r){const e=await $w(r),n=e.eventManager;return n.onListen=fM.bind(null,e.syncEngine),n.onUnlisten=mM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gM.bind(null,e.syncEngine),n}function DM(r,e,n={}){const s=new ai;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new Gw({next:S=>{E.su(),f.enqueueAndForget(()=>Vw(u,w));const O=S.docs.has(p);!O&&S.fromCache?g.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&m&&m.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new Pw(Tg(p.path),E,{includeMetadataChanges:!0,Ta:!0});return kw(u,w)}(await Kw(r),r.asyncQueue,e,n,s)),s.promise}function OM(r,e,n={}){const s=new ai;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new Gw({next:S=>{E.su(),f.enqueueAndForget(()=>Vw(u,w)),S.fromCache&&m.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new Pw(p,E,{includeMetadataChanges:!0,Ta:!0});return kw(u,w)}(await Kw(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function NM(r,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Q0(r){if(!ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y0(r){if(ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Df(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function Dr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(r);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firestore.googleapis.com",X0=!0;class W0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xw,this.ssl=X0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:X0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lx)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zO;switch(s.type){case"firstParty":return new HO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=K0.get(n);s&&(he("ComponentProvider","Removing Datastore"),K0.delete(n),s.terminate())}(this),Promise.resolve()}}function xM(r,e,n,s={}){var o;const u=(r=Dr(r,Of))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==Xw&&u.host!==p&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!li(m,f)&&(r._setSettings(m),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=nn.MOCK_USER;else{g=W1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(w)}r._authCredentials=new jO(new xb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Zi extends qo{constructor(e,n,s){super(e,n,Tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ye(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function ra(r,e,...n){if(r=Bt(r),Yw("collection","path",e),r instanceof Of){const s=it.fromString(e,...n);return Y0(s),new Zi(r,null,s)}{if(!(r instanceof cn||r instanceof Zi))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Y0(s),new Zi(r.firestore,null,s)}}function zu(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=kb.newId()),Yw("doc","path",e),r instanceof Of){const s=it.fromString(e,...n);return Q0(s),new cn(r,null,new ye(s))}{if(!(r instanceof cn||r instanceof Zi))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Q0(s),new cn(r.firestore,r instanceof Zi?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Rw(this,"async_queue_retry"),this.Su=()=>{const s=sm();s&&he(J0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ai;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!zo(e))throw e;he(J0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw hi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=kg.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Bo extends Of{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function MM(r,e){const n=typeof r=="object"?r:HT(),s=typeof r=="string"?r:Xh,o=sg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Y1("firestore");u&&xM(o,...u)}return o}function zg(r){if(r._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kM(r),r._firestoreClient}function kM(r){var e,n,s;const o=r._freezeSettings(),u=function(p,m,g,E){return new iN(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Qw(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new RM(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Xt.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=/^__.*__$/;class PM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class Ww{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Jw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class xf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return of(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Jw(this.Lu)&&VM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class LM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rf(e)}ju(e,n,s,o=!1){return new xf({Lu:e,methodName:n,zu:s,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(r){const e=r._freezeSettings(),n=Rf(r._databaseId);return new LM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Zw(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Fg("Data must be an object, but it was:",f,s);const p=tS(s,f);let m,g;if(u.merge)m=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=qm(e,w,n);if(!f.contains(S))throw new fe(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);rS(E,S)||E.push(S)}m=new Cn(E),g=f.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=f.fieldTransforms;return new PM(new gn(p),m,g)}class kf extends ju{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kf}}function eS(r,e,n){return new xf({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bg extends ju{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=eS(this,e,!0),s=this.Hu.map(u=>la(u,n)),o=new bo(s);return new lw(e.path,o)}isEqual(e){return e instanceof Bg&&li(this.Hu,e.Hu)}}class Hg extends ju{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=eS(this,e,!0),s=this.Hu.map(u=>la(u,n)),o=new wo(s);return new lw(e.path,o)}isEqual(e){return e instanceof Hg&&li(this.Hu,e.Hu)}}function UM(r,e,n,s){const o=r.ju(1,e,n);Fg("Data must be an object, but it was:",o,s);const u=[],f=gn.empty();us(s,(m,g)=>{const E=Gg(e,m,n);g=Bt(g);const w=o.Uu(E);if(g instanceof kf)u.push(E);else{const S=la(g,w);S!=null&&(u.push(E),f.set(E,S))}});const p=new Cn(u);return new Ww(f,p,o.fieldTransforms)}function zM(r,e,n,s,o,u){const f=r.ju(1,e,n),p=[qm(e,s,n)],m=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(qm(e,u[S])),m.push(u[S+1]);const g=[],E=gn.empty();for(let S=p.length-1;S>=0;--S)if(!rS(g,p[S])){const O=p[S];let M=m[S];M=Bt(M);const F=f.Uu(O);if(M instanceof kf)g.push(O);else{const q=la(M,F);q!=null&&(g.push(O),E.set(O,q))}}const w=new Cn(g);return new Ww(E,w,f.fieldTransforms)}function jM(r,e,n,s=!1){return la(n,r.ju(s?4:3,e))}function la(r,e){if(nS(r=Bt(r)))return Fg("Unsupported field value:",e,r),tS(r,e);if(r instanceof ju)return function(s,o){if(!Jw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=la(p,o.Ku(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:nf(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nf(o.serializer,u)}}if(s instanceof jg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ro)return{bytesValue:mw(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qg)return function(f,p){return{mapValue:{fields:{[Bb]:{stringValue:Hb},[Wh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return bg(p.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Df(s)}`)}(r,e)}function tS(r,e){const n={};return Pb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(r,(s,o)=>{const u=la(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function nS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xt||r instanceof jg||r instanceof Ro||r instanceof cn||r instanceof ju||r instanceof qg)}function Fg(r,e,n){if(!nS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Df(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function qm(r,e,n){if((e=Bt(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return Gg(r,e);throw of("Field path arguments must be of type string or ",r,!1,void 0,n)}const qM=new RegExp("[~\\*/\\[\\]]");function Gg(r,e,n){if(e.search(qM)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Nf(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function of(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new fe(ne.INVALID_ARGUMENT,p+r+m)}function rS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BM extends iS{data(){return super.data()}}function $g(r,e){return typeof e=="string"?Gg(r,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class FM extends Kg{}function GM(r,e,...n){let s=[];e instanceof Kg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof Qg).length,p=u.filter(m=>m instanceof Vf).length;if(f>1||f>0&&p>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Vf extends FM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Vf(e,n,s)}_apply(e){const n=this._parse(e);return sS(e._query,n),new qo(e.firestore,e.converter,Om(e._query,n))}_parse(e){const n=Mf(e.firestore);return function(u,f,p,m,g,E,w){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tT(w,E);const M=[];for(const F of w)M.push(eT(m,u,F));S={arrayValue:{values:M}}}else S=eT(m,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tT(w,E),S=jM(p,f,w,E==="in"||E==="not-in");return At.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $M(r,e,n){const s=e,o=$g("where",r);return Vf._create(o,s,n)}class Qg extends Kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)sS(f,m),f=Om(f,m)}(e._query,n),new qo(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function eT(r,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wb(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return g0(r,new ye(s))}if(n instanceof cn)return g0(r,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function tT(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sS(r,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KM{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return us(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Wh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>vt(f.doubleValue));return new qg(u)}convertGeoPoint(e){return new jg(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=ts(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(Tw(s));const o=new bu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||hi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oS extends iS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($g("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mh extends oS{data(e={}){return super.data(e)}}class QM{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Mh(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new Mh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new lu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Mh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new lu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:YM(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(r){r=Dr(r,cn);const e=Dr(r.firestore,Bo);return DM(zg(e),r._key).then(n=>JM(e,r,n))}class lS extends KM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Su(r){r=Dr(r,qo);const e=Dr(r.firestore,Bo),n=zg(e),s=new lS(e);return HM(r._query),OM(n,r._query).then(o=>new QM(e,s,r,o))}function WM(r,e,n){r=Dr(r,cn);const s=Dr(r.firestore,Bo),o=aS(r.converter,e);return Xg(s,[Zw(Mf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function uS(r,e,n,...s){r=Dr(r,cn);const o=Dr(r.firestore,Bo),u=Mf(o);let f;return f=typeof(e=Bt(e))=="string"||e instanceof Nf?zM(u,"updateDoc",r._key,e,n,s):UM(u,"updateDoc",r._key,e),Xg(o,[f.toMutation(r._key,Zn.exists(!0))])}function Yg(r,e){const n=Dr(r.firestore,Bo),s=zu(r),o=aS(r.converter,e);return Xg(n,[Zw(Mf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function Xg(r,e){return function(s,o){const u=new ai;return s.asyncQueue.enqueueAndForget(async()=>yM(await CM(s),o,u)),u.promise}(zg(r),e)}function JM(r,e,n){const s=n.docs.get(e._key),o=new lS(r);return new oS(r,o,e._key,s,new lu(n.hasPendingWrites,n.fromCache),e.converter)}function ZM(...r){return new Bg("arrayUnion",r)}function e2(...r){return new Hg("arrayRemove",r)}(function(e,n=!0){(function(o){Lo=o})(Vo),yo(new Js("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Bo(new qO(s.getProvider("auth-internal")),new FO(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Wi(i0,s0,e),Wi(i0,s0,"esm2017")})();const t2={apiKey:"AIzaSyDRde6jcpO2_KcPfg17Pheimg-uf_3HZV4",authDomain:"job-helper-web.firebaseapp.com",projectId:"job-helper-web",storageBucket:"job-helper-web.firebasestorage.app",messagingSenderId:"1092160284282",appId:"1:1092160284282:web:1e99970408c8bc6e20bdc3",measurementId:"G-K2Z3TBFRTQ"},cS=BT(t2),_h=VO(cS),rr=MM(cS),hS=G.createContext(),Ho=()=>G.useContext(hS),n2=({children:r})=>{const[e,n]=G.useState(null),[s,o]=G.useState(!0),u=(g,E)=>_D(_h,g,E),f=(g,E)=>ED(_h,g,E),p=()=>SD(_h);G.useEffect(()=>wD(_h,E=>{n(E),o(!1)}),[]);const m={currentUser:e,register:u,login:f,logout:p};return J.jsx(hS.Provider,{value:m,children:!s&&r})};var rt="-ms-",mu="-moz-",$e="-webkit-",fS="comm",Pf="rule",Wg="decl",r2="@import",dS="@keyframes",i2="@layer",pS=Math.abs,Jg=String.fromCharCode,Bm=Object.assign;function s2(r,e){return qt(r,0)^45?(((e<<2^qt(r,0))<<2^qt(r,1))<<2^qt(r,2))<<2^qt(r,3):0}function mS(r){return r.trim()}function ti(r,e){return(r=e.exec(r))?r[0]:r}function De(r,e,n){return r.replace(e,n)}function kh(r,e,n){return r.indexOf(e,n)}function qt(r,e){return r.charCodeAt(e)|0}function Io(r,e,n){return r.slice(e,n)}function wr(r){return r.length}function gS(r){return r.length}function uu(r,e){return e.push(r),r}function a2(r,e){return r.map(e).join("")}function nT(r,e){return r.filter(function(n){return!ti(n,e)})}var Lf=1,Co=1,yS=0,Gn=0,St=0,Fo="";function Uf(r,e,n,s,o,u,f,p){return{value:r,root:e,parent:n,type:s,props:o,children:u,line:Lf,column:Co,length:f,return:"",siblings:p}}function Hi(r,e){return Bm(Uf("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},e)}function to(r){for(;r.root;)r=Hi(r.root,{children:[r]});uu(r,r.siblings)}function o2(){return St}function l2(){return St=Gn>0?qt(Fo,--Gn):0,Co--,St===10&&(Co=1,Lf--),St}function er(){return St=Gn<yS?qt(Fo,Gn++):0,Co++,St===10&&(Co=1,Lf++),St}function Xs(){return qt(Fo,Gn)}function Vh(){return Gn}function zf(r,e){return Io(Fo,r,e)}function Hm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function u2(r){return Lf=Co=1,yS=wr(Fo=r),Gn=0,[]}function c2(r){return Fo="",r}function om(r){return mS(zf(Gn-1,Fm(r===91?r+2:r===40?r+1:r)))}function h2(r){for(;(St=Xs())&&St<33;)er();return Hm(r)>2||Hm(St)>3?"":" "}function f2(r,e){for(;--e&&er()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return zf(r,Vh()+(e<6&&Xs()==32&&er()==32))}function Fm(r){for(;er();)switch(St){case r:return Gn;case 34:case 39:r!==34&&r!==39&&Fm(St);break;case 40:r===41&&Fm(r);break;case 92:er();break}return Gn}function d2(r,e){for(;er()&&r+St!==57;)if(r+St===84&&Xs()===47)break;return"/*"+zf(e,Gn-1)+"*"+Jg(r===47?r:er())}function p2(r){for(;!Hm(Xs());)er();return zf(r,Gn)}function m2(r){return c2(Ph("",null,null,null,[""],r=u2(r),0,[0],r))}function Ph(r,e,n,s,o,u,f,p,m){for(var g=0,E=0,w=f,S=0,O=0,M=0,F=1,q=1,K=1,re=0,Q="",ue=o,le=u,ce=s,C=Q;q;)switch(M=re,re=er()){case 40:if(M!=108&&qt(C,w-1)==58){kh(C+=De(om(re),"&","&\f"),"&\f",pS(g?p[g-1]:0))!=-1&&(K=-1);break}case 34:case 39:case 91:C+=om(re);break;case 9:case 10:case 13:case 32:C+=h2(M);break;case 92:C+=f2(Vh()-1,7);continue;case 47:switch(Xs()){case 42:case 47:uu(g2(d2(er(),Vh()),e,n,m),m);break;default:C+="/"}break;case 123*F:p[g++]=wr(C)*K;case 125*F:case 59:case 0:switch(re){case 0:case 125:q=0;case 59+E:K==-1&&(C=De(C,/\f/g,"")),O>0&&wr(C)-w&&uu(O>32?iT(C+";",s,n,w-1,m):iT(De(C," ","")+";",s,n,w-2,m),m);break;case 59:C+=";";default:if(uu(ce=rT(C,e,n,g,E,o,p,Q,ue=[],le=[],w,u),u),re===123)if(E===0)Ph(C,e,ce,ce,ue,u,w,p,le);else switch(S===99&&qt(C,3)===110?100:S){case 100:case 108:case 109:case 115:Ph(r,ce,ce,s&&uu(rT(r,ce,ce,0,0,o,p,Q,o,ue=[],w,le),le),o,le,w,p,s?ue:le);break;default:Ph(C,ce,ce,ce,[""],le,0,p,le)}}g=E=O=0,F=K=1,Q=C="",w=f;break;case 58:w=1+wr(C),O=M;default:if(F<1){if(re==123)--F;else if(re==125&&F++==0&&l2()==125)continue}switch(C+=Jg(re),re*F){case 38:K=E>0?1:(C+="\f",-1);break;case 44:p[g++]=(wr(C)-1)*K,K=1;break;case 64:Xs()===45&&(C+=om(er())),S=Xs(),E=w=wr(Q=C+=p2(Vh())),re++;break;case 45:M===45&&wr(C)==2&&(F=0)}}return u}function rT(r,e,n,s,o,u,f,p,m,g,E,w){for(var S=o-1,O=o===0?u:[""],M=gS(O),F=0,q=0,K=0;F<s;++F)for(var re=0,Q=Io(r,S+1,S=pS(q=f[F])),ue=r;re<M;++re)(ue=mS(q>0?O[re]+" "+Q:De(Q,/&\f/g,O[re])))&&(m[K++]=ue);return Uf(r,e,n,o===0?Pf:p,m,g,E,w)}function g2(r,e,n,s){return Uf(r,e,n,fS,Jg(o2()),Io(r,2,-2),0,s)}function iT(r,e,n,s,o){return Uf(r,e,n,Wg,Io(r,0,s),Io(r,s+1,-1),s,o)}function vS(r,e,n){switch(s2(r,e)){case 5103:return $e+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $e+r+r;case 4789:return mu+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $e+r+mu+r+rt+r+r;case 5936:switch(qt(r,e+11)){case 114:return $e+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $e+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $e+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $e+r+rt+r+r;case 6165:return $e+r+rt+"flex-"+r+r;case 5187:return $e+r+De(r,/(\w+).+(:[^]+)/,$e+"box-$1$2"+rt+"flex-$1$2")+r;case 5443:return $e+r+rt+"flex-item-"+De(r,/flex-|-self/g,"")+(ti(r,/flex-|baseline/)?"":rt+"grid-row-"+De(r,/flex-|-self/g,""))+r;case 4675:return $e+r+rt+"flex-line-pack"+De(r,/align-content|flex-|-self/g,"")+r;case 5548:return $e+r+rt+De(r,"shrink","negative")+r;case 5292:return $e+r+rt+De(r,"basis","preferred-size")+r;case 6060:return $e+"box-"+De(r,"-grow","")+$e+r+rt+De(r,"grow","positive")+r;case 4554:return $e+De(r,/([^-])(transform)/g,"$1"+$e+"$2")+r;case 6187:return De(De(De(r,/(zoom-|grab)/,$e+"$1"),/(image-set)/,$e+"$1"),r,"")+r;case 5495:case 3959:return De(r,/(image-set\([^]*)/,$e+"$1$`$1");case 4968:return De(De(r,/(.+:)(flex-)?(.*)/,$e+"box-pack:$3"+rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$e+r+r;case 4200:if(!ti(r,/flex-|baseline/))return rt+"grid-column-align"+Io(r,e)+r;break;case 2592:case 3360:return rt+De(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return e=o,ti(s.props,/grid-\w+-end/)})?~kh(r+(n=n[e].value),"span",0)?r:rt+De(r,"-start","")+r+rt+"grid-row-span:"+(~kh(n,"span",0)?ti(n,/\d+/):+ti(n,/\d+/)-+ti(r,/\d+/))+";":rt+De(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return ti(s.props,/grid-\w+-start/)})?r:rt+De(De(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return De(r,/(.+)-inline(.+)/,$e+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wr(r)-1-e>6)switch(qt(r,e+1)){case 109:if(qt(r,e+4)!==45)break;case 102:return De(r,/(.+:)(.+)-([^]+)/,"$1"+$e+"$2-$3$1"+mu+(qt(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~kh(r,"stretch",0)?vS(De(r,"stretch","fill-available"),e,n)+r:r}break;case 5152:case 5920:return De(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return rt+o+":"+u+g+(f?rt+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(qt(r,e+6)===121)return De(r,":",":"+$e)+r;break;case 6444:switch(qt(r,qt(r,14)===45?18:11)){case 120:return De(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$e+(qt(r,14)===45?"inline-":"")+"box$3$1"+$e+"$2$3$1"+rt+"$2box$3")+r;case 100:return De(r,":",":"+rt)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return De(r,"scroll-","scroll-snap-")+r}return r}function lf(r,e){for(var n="",s=0;s<r.length;s++)n+=e(r[s],s,r,e)||"";return n}function y2(r,e,n,s){switch(r.type){case i2:if(r.children.length)break;case r2:case Wg:return r.return=r.return||r.value;case fS:return"";case dS:return r.return=r.value+"{"+lf(r.children,s)+"}";case Pf:if(!wr(r.value=r.props.join(",")))return""}return wr(n=lf(r.children,s))?r.return=r.value+"{"+n+"}":""}function v2(r){var e=gS(r);return function(n,s,o,u){for(var f="",p=0;p<e;p++)f+=r[p](n,s,o,u)||"";return f}}function _2(r){return function(e){e.root||(e=e.return)&&r(e)}}function E2(r,e,n,s){if(r.length>-1&&!r.return)switch(r.type){case Wg:r.return=vS(r.value,r.length,n);return;case dS:return lf([Hi(r,{value:De(r.value,"@","@"+$e)})],s);case Pf:if(r.length)return a2(n=r.props,function(o){switch(ti(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":to(Hi(r,{props:[De(o,/:(read-\w+)/,":"+mu+"$1")]})),to(Hi(r,{props:[o]})),Bm(r,{props:nT(n,s)});break;case"::placeholder":to(Hi(r,{props:[De(o,/:(plac\w+)/,":"+$e+"input-$1")]})),to(Hi(r,{props:[De(o,/:(plac\w+)/,":"+mu+"$1")]})),to(Hi(r,{props:[De(o,/:(plac\w+)/,rt+"input-$1")]})),to(Hi(r,{props:[o]})),Bm(r,{props:nT(n,s)});break}return""})}}var T2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},In={},Do=typeof process<"u"&&In!==void 0&&(In.REACT_APP_SC_ATTR||In.SC_ATTR)||"data-styled",_S="active",ES="data-styled-version",jf="6.1.17",Zg=`/*!sc*/
`,uf=typeof window<"u"&&"HTMLElement"in window,b2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==""?In.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&In.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.SC_DISABLE_SPEEDY!==void 0&&In.SC_DISABLE_SPEEDY!==""&&In.SC_DISABLE_SPEEDY!=="false"&&In.SC_DISABLE_SPEEDY),qf=Object.freeze([]),Oo=Object.freeze({});function w2(r,e,n){return n===void 0&&(n=Oo),r.theme!==n.theme&&r.theme||e||n.theme}var TS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),S2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,A2=/(^-|-$)/g;function sT(r){return r.replace(S2,"-").replace(A2,"")}var R2=/(a)(d)/gi,Eh=52,aT=function(r){return String.fromCharCode(r+(r>25?39:97))};function Gm(r){var e,n="";for(e=Math.abs(r);e>Eh;e=e/Eh|0)n=aT(e%Eh)+n;return(aT(e%Eh)+n).replace(R2,"$1-$2")}var lm,bS=5381,co=function(r,e){for(var n=e.length;n;)r=33*r^e.charCodeAt(--n);return r},wS=function(r){return co(bS,r)};function I2(r){return Gm(wS(r)>>>0)}function C2(r){return r.displayName||r.name||"Component"}function um(r){return typeof r=="string"&&!0}var SS=typeof Symbol=="function"&&Symbol.for,AS=SS?Symbol.for("react.memo"):60115,D2=SS?Symbol.for("react.forward_ref"):60112,O2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},N2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},x2=((lm={})[D2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lm[AS]=RS,lm);function oT(r){return("type"in(e=r)&&e.type.$$typeof)===AS?RS:"$$typeof"in r?x2[r.$$typeof]:O2;var e}var M2=Object.defineProperty,k2=Object.getOwnPropertyNames,lT=Object.getOwnPropertySymbols,V2=Object.getOwnPropertyDescriptor,P2=Object.getPrototypeOf,uT=Object.prototype;function IS(r,e,n){if(typeof e!="string"){if(uT){var s=P2(e);s&&s!==uT&&IS(r,s,n)}var o=k2(e);lT&&(o=o.concat(lT(e)));for(var u=oT(r),f=oT(e),p=0;p<o.length;++p){var m=o[p];if(!(m in N2||n&&n[m]||f&&m in f||u&&m in u)){var g=V2(e,m);try{M2(r,m,g)}catch{}}}}return r}function No(r){return typeof r=="function"}function ey(r){return typeof r=="object"&&"styledComponentId"in r}function Ys(r,e){return r&&e?"".concat(r," ").concat(e):r||e||""}function cT(r,e){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function Au(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function $m(r,e,n){if(n===void 0&&(n=!1),!n&&!Au(r)&&!Array.isArray(r))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)r[s]=$m(r[s],e[s]);else if(Au(e))for(var s in e)r[s]=$m(r[s],e[s]);return r}function ty(r,e){Object.defineProperty(r,"toString",{value:e})}function qu(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var L2=function(){function r(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return r.prototype.indexOfGroup=function(e){for(var n=0,s=0;s<e;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;e>=u;)if((u<<=1)<0)throw qu(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(e+1),m=(f=0,n.length);f<m;f++)this.tag.insertRule(p,n[f])&&(this.groupSizes[e]++,p++)},r.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],s=this.indexOfGroup(e),o=s+n;this.groupSizes[e]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(Zg);return n},r}(),Lh=new Map,cf=new Map,Uh=1,Th=function(r){if(Lh.has(r))return Lh.get(r);for(;cf.has(Uh);)Uh++;var e=Uh++;return Lh.set(r,e),cf.set(e,r),e},U2=function(r,e){Uh=e+1,Lh.set(r,e),cf.set(e,r)},z2="style[".concat(Do,"][").concat(ES,'="').concat(jf,'"]'),j2=new RegExp("^".concat(Do,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),q2=function(r,e,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(e,s)},B2=function(r,e){for(var n,s=((n=e.textContent)!==null&&n!==void 0?n:"").split(Zg),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(j2);if(m){var g=0|parseInt(m[1],10),E=m[2];g!==0&&(U2(E,g),q2(r,E,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},hT=function(r){for(var e=document.querySelectorAll(z2),n=0,s=e.length;n<s;n++){var o=e[n];o&&o.getAttribute(Do)!==_S&&(B2(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function H2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var CS=function(r){var e=document.head,n=r||e,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(Do,"]")));return m[m.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(Do,_S),s.setAttribute(ES,jf);var f=H2();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},F2=function(){function r(e){this.element=CS(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw qu(17)}(this.element),this.length=0}return r.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},r.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},r}(),G2=function(){function r(e){this.element=CS(e),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},r.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},r}(),$2=function(){function r(e){this.rules=[],this.length=0}return r.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},r.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},r.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},r}(),fT=uf,K2={isServer:!uf,useCSSOMInjection:!b2},DS=function(){function r(e,n,s){e===void 0&&(e=Oo),n===void 0&&(n={});var o=this;this.options=yn(yn({},K2),e),this.gs=n,this.names=new Map(s),this.server=!!e.isServer,!this.server&&uf&&fT&&(fT=!1,hT(this)),ty(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(w){var S=function(K){return cf.get(K)}(w);if(S===void 0)return"continue";var O=u.names.get(S),M=f.getGroup(w);if(O===void 0||!O.size||M.length===0)return"continue";var F="".concat(Do,".g").concat(w,'[id="').concat(S,'"]'),q="";O!==void 0&&O.forEach(function(K){K.length>0&&(q+="".concat(K,","))}),m+="".concat(M).concat(F,'{content:"').concat(q,'"}').concat(Zg)},E=0;E<p;E++)g(E);return m}(o)})}return r.registerId=function(e){return Th(e)},r.prototype.rehydrate=function(){!this.server&&uf&&hT(this)},r.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new r(yn(yn({},this.options),e),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new $2(o):s?new F2(o):new G2(o)}(this.options),new L2(e)));var e},r.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},r.prototype.registerName=function(e,n){if(Th(e),this.names.has(e))this.names.get(e).add(n);else{var s=new Set;s.add(n),this.names.set(e,s)}},r.prototype.insertRules=function(e,n,s){this.registerName(e,n),this.getTag().insertRules(Th(e),s)},r.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},r.prototype.clearRules=function(e){this.getTag().clearGroup(Th(e)),this.clearNames(e)},r.prototype.clearTag=function(){this.tag=void 0},r}(),Q2=/&/g,Y2=/^\s*\/\/.*$/gm;function OS(r,e){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=OS(n.children,e)),n})}function X2(r){var e,n,s,o=Oo,u=o.options,f=u===void 0?Oo:u,p=o.plugins,m=p===void 0?qf:p,g=function(S,O,M){return M.startsWith(n)&&M.endsWith(n)&&M.replaceAll(n,"").length>0?".".concat(e):S},E=m.slice();E.push(function(S){S.type===Pf&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(Q2,n).replace(s,g))}),f.prefix&&E.push(E2),E.push(y2);var w=function(S,O,M,F){O===void 0&&(O=""),M===void 0&&(M=""),F===void 0&&(F="&"),e=F,n=O,s=new RegExp("\\".concat(n,"\\b"),"g");var q=S.replace(Y2,""),K=m2(M||O?"".concat(M," ").concat(O," { ").concat(q," }"):q);f.namespace&&(K=OS(K,f.namespace));var re=[];return lf(K,v2(E.concat(_2(function(Q){return re.push(Q)})))),re};return w.hash=m.length?m.reduce(function(S,O){return O.name||qu(15),co(S,O.name)},bS).toString():"",w}var W2=new DS,Km=X2(),NS=go.createContext({shouldForwardProp:void 0,styleSheet:W2,stylis:Km});NS.Consumer;go.createContext(void 0);function dT(){return G.useContext(NS)}var J2=function(){function r(e,n){var s=this;this.inject=function(o,u){u===void 0&&(u=Km);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,ty(this,function(){throw qu(12,String(s.name))})}return r.prototype.getName=function(e){return e===void 0&&(e=Km),this.name+e.hash},r}(),Z2=function(r){return r>="A"&&r<="Z"};function pT(r){for(var e="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;Z2(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var xS=function(r){return r==null||r===!1||r===""},MS=function(r){var e,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!xS(u)&&(Array.isArray(u)&&u.isCss||No(u)?s.push("".concat(pT(o),":"),u,";"):Au(u)?s.push.apply(s,Bh(Bh(["".concat(o," {")],MS(u),!1),["}"],!1)):s.push("".concat(pT(o),": ").concat((e=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in T2||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function Ws(r,e,n,s){if(xS(r))return[];if(ey(r))return[".".concat(r.styledComponentId)];if(No(r)){if(!No(u=r)||u.prototype&&u.prototype.isReactComponent||!e)return[r];var o=r(e);return Ws(o,e,n,s)}var u;return r instanceof J2?n?(r.inject(n,s),[r.getName(s)]):[r]:Au(r)?MS(r):Array.isArray(r)?Array.prototype.concat.apply(qf,r.map(function(f){return Ws(f,e,n,s)})):[r.toString()]}function ek(r){for(var e=0;e<r.length;e+=1){var n=r[e];if(No(n)&&!ey(n))return!1}return!0}var tk=wS(jf),nk=function(){function r(e,n,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&ek(e),this.componentId=n,this.baseHash=co(tk,n),this.baseStyle=s,DS.registerId(n)}return r.prototype.generateAndInjectStyles=function(e,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Ys(o,this.staticRulesId);else{var u=cT(Ws(this.rules,e,n,s)),f=Gm(co(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}o=Ys(o,f),this.staticRulesId=f}else{for(var m=co(this.baseHash,s.hash),g="",E=0;E<this.rules.length;E++){var w=this.rules[E];if(typeof w=="string")g+=w;else if(w){var S=cT(Ws(w,e,n,s));m=co(m,S+E),g+=S}}if(g){var O=Gm(m>>>0);n.hasNameForId(this.componentId,O)||n.insertRules(this.componentId,O,s(g,".".concat(O),void 0,this.componentId)),o=Ys(o,O)}}return o},r}(),kS=go.createContext(void 0);kS.Consumer;var cm={};function rk(r,e,n){var s=ey(r),o=r,u=!um(r),f=e.attrs,p=f===void 0?qf:f,m=e.componentId,g=m===void 0?function(ue,le){var ce=typeof ue!="string"?"sc":sT(ue);cm[ce]=(cm[ce]||0)+1;var C="".concat(ce,"-").concat(I2(jf+ce+cm[ce]));return le?"".concat(le,"-").concat(C):C}(e.displayName,e.parentComponentId):m,E=e.displayName,w=E===void 0?function(ue){return um(ue)?"styled.".concat(ue):"Styled(".concat(C2(ue),")")}(r):E,S=e.displayName&&e.componentId?"".concat(sT(e.displayName),"-").concat(e.componentId):e.componentId||g,O=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,M=e.shouldForwardProp;if(s&&o.shouldForwardProp){var F=o.shouldForwardProp;if(e.shouldForwardProp){var q=e.shouldForwardProp;M=function(ue,le){return F(ue,le)&&q(ue,le)}}else M=F}var K=new nk(n,S,s?o.componentStyle:void 0);function re(ue,le){return function(ce,C,A){var R=ce.attrs,x=ce.componentStyle,V=ce.defaultProps,L=ce.foldedComponentIds,D=ce.styledComponentId,Rt=ce.target,st=go.useContext(kS),Y=dT(),oe=ce.shouldForwardProp||Y.shouldForwardProp,pe=w2(C,st,V)||Oo,Ie=function(Re,ve,ut){for(var Be,kt=yn(yn({},ve),{className:void 0,theme:ut}),Dn=0;Dn<Re.length;Dn+=1){var hn=No(Be=Re[Dn])?Be(kt):Be;for(var Wt in hn)kt[Wt]=Wt==="className"?Ys(kt[Wt],hn[Wt]):Wt==="style"?yn(yn({},kt[Wt]),hn[Wt]):hn[Wt]}return ve.className&&(kt.className=Ys(kt.className,ve.className)),kt}(R,C,pe),N=Ie.as||Rt,te={};for(var se in Ie)Ie[se]===void 0||se[0]==="$"||se==="as"||se==="theme"&&Ie.theme===pe||(se==="forwardedAs"?te.as=Ie.forwardedAs:oe&&!oe(se,N)||(te[se]=Ie[se]));var ie=function(Re,ve){var ut=dT(),Be=Re.generateAndInjectStyles(ve,ut.styleSheet,ut.stylis);return Be}(x,Ie),me=Ys(L,D);return ie&&(me+=" "+ie),Ie.className&&(me+=" "+Ie.className),te[um(N)&&!TS.has(N)?"class":"className"]=me,A&&(te.ref=A),G.createElement(N,te)}(Q,ue,le)}re.displayName=w;var Q=go.forwardRef(re);return Q.attrs=O,Q.componentStyle=K,Q.displayName=w,Q.shouldForwardProp=M,Q.foldedComponentIds=s?Ys(o.foldedComponentIds,o.styledComponentId):"",Q.styledComponentId=S,Q.target=s?o.target:r,Object.defineProperty(Q,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ue){this._foldedDefaultProps=s?function(le){for(var ce=[],C=1;C<arguments.length;C++)ce[C-1]=arguments[C];for(var A=0,R=ce;A<R.length;A++)$m(le,R[A],!0);return le}({},o.defaultProps,ue):ue}}),ty(Q,function(){return".".concat(Q.styledComponentId)}),u&&IS(Q,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Q}function mT(r,e){for(var n=[r[0]],s=0,o=e.length;s<o;s+=1)n.push(e[s],r[s+1]);return n}var gT=function(r){return Object.assign(r,{isCss:!0})};function ik(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(No(r)||Au(r))return gT(Ws(mT(qf,Bh([r],e,!0))));var s=r;return e.length===0&&s.length===1&&typeof s[0]=="string"?Ws(s):gT(Ws(mT(s,e)))}function Qm(r,e,n){if(n===void 0&&(n=Oo),!e)throw qu(1,e);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(e,n,ik.apply(void 0,Bh([o],u,!1)))};return s.attrs=function(o){return Qm(r,e,yn(yn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Qm(r,e,yn(yn({},n),o))},s}var VS=function(r){return Qm(rk,r)},Oe=VS;TS.forEach(function(r){Oe[r]=VS(r)});const sk=Oe.header`
  background-color: var(--primary);
  color: white;
  padding: 1rem;
  text-align: center;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,ak=()=>J.jsxs(sk,{children:[J.jsx("h1",{children:"FirstJob"}),J.jsx("p",{children:"Find your first job - No experience required"})]}),ok=Oe.footer`
  background-color: var(--dark);
  color: white;
  text-align: center;
  padding: 2rem;
  margin-top: 2rem;
`,lk=()=>J.jsxs(ok,{children:[J.jsx("p",{children:"© 2025 FirstJob - Helping beginners start their careers"}),J.jsx("p",{children:"Contact: info@firstjob.example.com"})]}),uk=Oe.nav`
  background-color: white;
  padding: 1rem;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,ck=Oe.ul`
  display: flex;
  justify-content: space-between;
  align-items: center;
  list-style: none;
  padding: 0;
  margin: 0;
`,hk=Oe.div`
  display: flex;
  gap: 1.5rem;
`,fk=Oe.div`
  display: flex;
  gap: 1rem;
`,no=Oe.li`
  padding: 0;
`,ro=Oe(df)`
  text-decoration: none;
  color: var(--text-primary);
  font-weight: 500;
  transition: color 0.2s;

  &:hover {
    color: var(--primary);
  }
`,dk=()=>{const{currentUser:r}=Ho();return J.jsx(uk,{children:J.jsxs(ck,{children:[J.jsxs(hk,{children:[J.jsx(no,{children:J.jsx(ro,{to:"/",children:"Home"})}),J.jsx(no,{children:J.jsx(ro,{to:"/jobs",children:"Browse Jobs"})}),J.jsx(no,{children:J.jsx(ro,{to:"/interview/customer-service",children:"Practice Interviews"})})]}),J.jsx(fk,{children:r?J.jsx(no,{children:J.jsx(ro,{to:"/profile",children:"My Profile"})}):J.jsxs(J.Fragment,{children:[J.jsx(no,{children:J.jsx(ro,{to:"/login",children:"Login"})}),J.jsx(no,{children:J.jsx(ro,{to:"/register",children:"Register"})})]})})]})})},pk=async()=>{try{const r=await Su(ra(rr,"jobs"));if(r.empty){await mk();const n=await Su(ra(rr,"jobs")),s=[];return n.forEach(o=>{s.push({id:o.id,...o.data()})}),s}const e=[];return r.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(r){return console.error("Error getting jobs:",r),[]}},mk=async()=>{const r=ra(rr,"jobs"),e=[{title:"Customer Service Representative",company:"ServiceFirst Inc.",jobType:"customer-service",description:"Entry-level position helping customers with inquiries and resolving issues.",tags:["Entry Level","No Experience Required","Customer Service"],location:"Remote"},{title:"Junior Web Developer",company:"TechStart Solutions",jobType:"web-developer",description:"Learn and grow as a web developer in a supportive team environment.",tags:["Entry Level","Web Development","HTML/CSS/JS"],location:"San Francisco, CA"},{title:"Sales Associate",company:"RetailPlus",jobType:"sales",description:"Help customers find products that meet their needs while learning sales techniques.",tags:["Entry Level","Retail","Sales"],location:"Various Locations"},{title:"Administrative Assistant",company:"OfficeWorks Corp",jobType:"admin",description:"Support office operations and learn essential administrative skills.",tags:["Entry Level","Office Work","Organization"],location:"Chicago, IL"}];for(const n of e)await Yg(r,n);console.log("Sample jobs created successfully")},gk=async r=>{try{const e=zu(rr,"users",r),n=await XM(e);return n.exists()?{id:n.id,...n.data()}:(console.log("No such user!"),null)}catch(e){return console.error("Error getting user profile:",e),null}},yk=async(r,e)=>{try{const n=zu(rr,"users",r);return await uS(n,{savedJobs:ZM(e)}),!0}catch(n){return console.error("Error saving job:",n),!1}},vk=async(r,e)=>{try{const n=zu(rr,"users",r);return await uS(n,{savedJobs:e2(e)}),!0}catch(n){return console.error("Error removing job:",n),!1}},_k=Oe.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  padding: 2rem;
`,Ek=Oe.div`
  background-color: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;
  
  &:hover {
    transform: translateY(-5px);
  }
`,Tk=Oe.h3`
  margin-top: 0;
  margin-bottom: 0.5rem;
  color: var(--primary);
`,bk=Oe.h4`
  margin-top: 0;
  margin-bottom: 1rem;
  color: var(--text-secondary);
`,wk=Oe.p`
  color: var(--text-primary);
  margin-bottom: 1.5rem;
`,Sk=Oe.div`
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
`,Ak=Oe.span`
  background-color: var(--background-secondary);
  padding: 0.3rem 0.8rem;
  border-radius: 20px;
  font-size: 0.8rem;
  color: var(--text-secondary);
`,Rk=Oe.div`
  display: flex;
  gap: 1rem;
`,Ik=Oe(df)`
  background-color: var(--primary);
  color: white;
  text-decoration: none;
  padding: 0.8rem 1rem;
  border-radius: 4px;
  font-weight: 500;
  text-align: center;
  flex: 1;
  transition: background-color 0.2s;
  
  &:hover {
    background-color: #0056b3;
  }
`,Ck=Oe.button`
  background-color: white;
  color: var(--primary);
  border: 1px solid var(--primary);
  padding: 0.8rem 1rem;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
  flex: 1;
  transition: background-color 0.2s;
  
  &:hover {
    background-color: #f0f0f0;
  }
`,Dk=()=>{const[r,e]=G.useState([]),[n,s]=G.useState(!0),[o,u]=G.useState(null),{currentUser:f}=Ho();G.useEffect(()=>{(async()=>{try{s(!0);const g=await pk();e(g),u(null)}catch(g){console.error("Error fetching jobs:",g),u("Failed to load jobs. Please try again later.")}finally{s(!1)}})()},[]);const p=async m=>{if(!f){alert("Please login to save jobs");return}try{const g=await yk(f.uid,m);alert(g?"Job saved successfully":"Failed to save job")}catch(g){console.error("Error saving job:",g),alert("Failed to save job")}};return n?J.jsx("div",{children:"Loading jobs..."}):o?J.jsx("div",{children:o}):J.jsx(_k,{children:r.length>0?r.map(m=>J.jsxs(Ek,{children:[J.jsx(Tk,{children:m.title}),J.jsx(bk,{children:m.company}),J.jsx(wk,{children:m.description}),J.jsx(Sk,{children:m.tags&&m.tags.map((g,E)=>J.jsx(Ak,{children:g},E))}),J.jsxs(Rk,{children:[J.jsx(Ik,{to:`/interview/${m.jobType}`,children:"Practice Interview"}),J.jsx(Ck,{onClick:()=>p(m),children:"Save Job"})]})]},m.id)):J.jsx("p",{children:"No jobs found. Please check back later."})})},Ok=Oe.div`
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,Nk=Oe.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,yT=Oe.input`
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`,xk=Oe.button`
  padding: 0.8rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }
`,Mk=Oe.div`
  color: red;
  margin-top: 1rem;
`,kk=()=>{const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),{login:f}=Ho(),p=ko(),m=async g=>{g.preventDefault(),u("");try{await f(r,n),p("/")}catch(E){u("Failed to sign in. Please check your credentials."),console.error(E)}};return J.jsxs(Ok,{children:[J.jsx("h2",{children:"Login"}),o&&J.jsx(Mk,{children:o}),J.jsxs(Nk,{onSubmit:m,children:[J.jsx(yT,{type:"email",placeholder:"Email",value:r,onChange:g=>e(g.target.value),required:!0}),J.jsx(yT,{type:"password",placeholder:"Password",value:n,onChange:g=>s(g.target.value),required:!0}),J.jsx(xk,{type:"submit",children:"Login"})]}),J.jsxs("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Don't have an account? ",J.jsx("a",{href:"/register",children:"Register"})]})]})},Vk=Oe.div`
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,Pk=Oe.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,hm=Oe.input`
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`,Lk=Oe.button`
  padding: 0.8rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }
`,Uk=Oe.div`
  color: red;
  margin-top: 1rem;
`,zk=()=>{const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,p]=G.useState(""),{register:m}=Ho(),g=ko(),E=async w=>{w.preventDefault(),p("");try{const{user:S}=await m(r,n);await WM(zu(rr,"users",S.uid),{name:o,email:r,createdAt:new Date().toISOString(),savedJobs:[]}),g("/")}catch(S){p("Failed to create an account. "+S.message),console.error(S)}};return J.jsxs(Vk,{children:[J.jsx("h2",{children:"Register"}),f&&J.jsx(Uk,{children:f}),J.jsxs(Pk,{onSubmit:E,children:[J.jsx(hm,{type:"text",placeholder:"Full Name",value:o,onChange:w=>u(w.target.value),required:!0}),J.jsx(hm,{type:"email",placeholder:"Email",value:r,onChange:w=>e(w.target.value),required:!0}),J.jsx(hm,{type:"password",placeholder:"Password",value:n,onChange:w=>s(w.target.value),required:!0}),J.jsx(Lk,{type:"submit",children:"Register"})]}),J.jsxs("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Already have an account? ",J.jsx("a",{href:"/login",children:"Login"})]})]})},jk=Oe.div`
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,vT=Oe.div`
  margin-bottom: 2rem;
`,qk=Oe.ul`
  list-style: none;
  padding: 0;
`,Bk=Oe.li`
  margin-bottom: 1rem;
  padding: 1rem;
  background-color: var(--background-secondary);
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Hk=Oe.button`
  background-color: var(--danger);
  color: white;
  border: none;
  padding: 0.5rem;
  border-radius: 4px;
  cursor: pointer;
`,Fk=Oe.button`
  background-color: var(--danger);
  color: white;
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 4px;
  cursor: pointer;
  margin-top: 2rem;
`,Gk=()=>{var w;const{currentUser:r,logout:e}=Ho(),[n,s]=G.useState(null),[o,u]=G.useState(!0),[f,p]=G.useState(null),m=ko();G.useEffect(()=>{(async()=>{if(!r){u(!1);return}try{u(!0);const O=await gk(r.uid);s(O),p(null)}catch(O){console.error("Error fetching user profile:",O),p("Failed to load profile data.")}finally{u(!1)}})()},[r]);const g=async S=>{try{await vk(r.uid,S),s({...n,savedJobs:n.savedJobs.filter(O=>O.id!==S.id)})}catch(O){console.error("Error removing job:",O)}},E=async()=>{try{await e(),m("/login")}catch(S){console.error("Error logging out:",S)}};return o?J.jsx("div",{children:"Loading profile..."}):f?J.jsx("div",{children:f}):r?J.jsxs(jk,{children:[J.jsx("h2",{children:"My Profile"}),J.jsxs(vT,{children:[J.jsx("h3",{children:"Account Information"}),J.jsxs("p",{children:[J.jsx("strong",{children:"Name:"})," ",(n==null?void 0:n.name)||"Not provided"]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Email:"})," ",r.email]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Member since:"})," ",n!=null&&n.createdAt?new Date(n.createdAt).toLocaleDateString():"Recently"]})]}),J.jsxs(vT,{children:[J.jsx("h3",{children:"Saved Jobs"}),((w=n==null?void 0:n.savedJobs)==null?void 0:w.length)>0?J.jsx(qk,{children:n.savedJobs.map((S,O)=>J.jsxs(Bk,{children:[J.jsxs("div",{children:[J.jsx("strong",{children:S.title})," at ",S.company]}),J.jsx(Hk,{onClick:()=>g(S),children:"Remove"})]},O))}):J.jsx("p",{children:"You haven't saved any jobs yet."})]}),J.jsx(Fk,{onClick:E,children:"Logout"})]}):(m("/login"),null)},$k=async r=>{try{const e=GM(ra(rr,"interviews"),$M("jobType","==",r)),n=await Su(e);if(n.empty){await Kk(r);const o=await Su(e);if(o.empty)return null;const u=o.docs[0];return{id:u.id,...u.data()}}const s=n.docs[0];return{id:s.id,...s.data()}}catch(e){return console.error(`Error getting interview questions for ${r}:`,e),null}},Kk=async r=>{const e=ra(rr,"interviews");let n={jobType:r,title:"Sample Interview",description:"Practice these common interview questions",questions:[]};const s=[{question:"Tell me about yourself.",tips:["Keep it professional and relevant to the job","Highlight key experiences and strengths","Be concise - aim for 1-2 minutes"]},{question:"Why are you interested in this position?",tips:["Research the company beforehand","Connect the job to your career goals","Show enthusiasm for the specific role"]},{question:"What are your strengths and weaknesses?",tips:["Choose strengths relevant to the job","For weaknesses, show how you're working to improve","Be honest but strategic"]}];switch(r){case"customer-service":n.title="Customer Service Interview",n.description="Practice these common customer service interview questions",n.questions=[...s,{question:"How would you handle an angry customer?",tips:["Stay calm and listen actively","Show empathy and understanding","Focus on finding a solution"]},{question:"Describe a time you went above and beyond for a customer.",tips:["Use the STAR method (Situation, Task, Action, Result)","Highlight positive outcomes","Show your commitment to customer satisfaction"]}];break;case"web-developer":n.title="Web Developer Interview",n.description="Practice these common web development interview questions",n.questions=[...s,{question:"Explain the difference between HTML, CSS, and JavaScript.",tips:["Be clear about each language's purpose","Use simple analogies if possible","Mention how they work together"]},{question:"How do you approach responsive design?",tips:["Mention mobile-first approach","Talk about CSS media queries","Discuss frameworks you've used (if any)"]}];break;default:n.questions=s}await Yg(e,n),console.log(`Sample interview for ${r} created successfully`)},Qk=Oe.div`
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,Yk=Oe.div`
  margin-bottom: 2rem;
`,Xk=Oe.div`
  margin-bottom: 2rem;
  padding: 1rem;
  background-color: var(--background-secondary);
  border-radius: 8px;
`,Wk=Oe.div`
  display: flex;
  justify-content: space-between;
  margin-top: 2rem;
`,fm=Oe.button`
  padding: 0.8rem 1.5rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  
  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`,Jk=()=>{const{jobType:r}=$R(),e=ko(),[n,s]=G.useState(null),[o,u]=G.useState(0),[f,p]=G.useState(!0),[m,g]=G.useState(null);G.useEffect(()=>{(async()=>{try{p(!0);const F=await $k(r);F?(s(F),g(null)):g(`No interview questions found for ${r} jobs.`)}catch(F){console.error("Error fetching interview data:",F),g("Failed to load interview questions. Please try again later.")}finally{p(!1)}})()},[r]);const E=()=>{o<n.questions.length-1&&u(o+1)},w=()=>{o>0&&u(o-1)},S=()=>{e("/")};if(f)return J.jsx("div",{children:"Loading interview questions..."});if(m)return J.jsx("div",{children:m});if(!n||!n.questions||n.questions.length===0)return J.jsx("div",{children:"No interview questions available."});const O=n.questions[o];return J.jsxs(Qk,{children:[J.jsxs(Yk,{children:[J.jsx("h2",{children:n.title}),J.jsx("p",{children:n.description})]}),J.jsxs(Xk,{children:[J.jsxs("h3",{children:["Question ",o+1," of ",n.questions.length]}),J.jsx("p",{children:O.question}),J.jsx("h4",{style:{marginTop:"1rem"},children:"Tips:"}),J.jsx("ul",{children:O.tips&&O.tips.map((M,F)=>J.jsx("li",{children:M},F))})]}),J.jsxs(Wk,{children:[J.jsx(fm,{onClick:w,disabled:o===0,children:"Previous"}),o<n.questions.length-1?J.jsx(fm,{onClick:E,children:"Next"}):J.jsx(fm,{onClick:S,children:"Finish"})]})]})},Zk=({children:r})=>{const{currentUser:e}=Ho();return e?r:J.jsx(a1,{to:"/login"})};function eV(){return J.jsx(N1,{children:J.jsx(n2,{children:J.jsxs("div",{className:"app",children:[J.jsx(ak,{}),J.jsx(dk,{}),J.jsx("main",{className:"main-content",children:J.jsxs(l1,{children:[J.jsx(io,{path:"/",element:J.jsx(Dk,{})}),J.jsx(io,{path:"/login",element:J.jsx(kk,{})}),J.jsx(io,{path:"/register",element:J.jsx(zk,{})}),J.jsx(io,{path:"/profile",element:J.jsx(Zk,{children:J.jsx(Gk,{})})}),J.jsx(io,{path:"/interview/:jobType",element:J.jsx(Jk,{})})]})}),J.jsx(lk,{})]})})})}const tV={"customer-service":{title:"Customer Service Representative Interview",description:"Practice answering common questions for a customer service position.",questions:[{question:"Tell me about a time you had to deal with a difficult situation and how you handled it.",goodFeedback:"Great answer! You showed problem-solving skills and empathy in your response. Customer service is about finding solutions while maintaining a positive attitude.",badFeedback:"Try to include specific examples of how you've handled conflicts or difficult situations. Even if you don't have work experience, you can draw from school, volunteer work, or personal interactions."},{question:"How would you handle an angry customer?",goodFeedback:"Excellent! You demonstrated patience and a focus on resolution. Listening to the customer and maintaining a calm demeanor are key skills for this role.",badFeedback:"Consider emphasizing active listening skills and empathy more in your answer. Remember the goal is to de-escalate the situation and find a solution for the customer."},{question:"What does good customer service mean to you?",goodFeedback:"Well done! Your definition of customer service aligns with what we're looking for - going above and beyond to ensure customer satisfaction.",badFeedback:"Try to be more specific about what actions constitute good customer service. Examples can help illustrate your understanding of customer needs."}]},"web-developer":{title:"Junior Web Developer Interview",description:"Practice answering technical and situational questions for a web development role.",questions:[{question:"What interests you about web development?",goodFeedback:"Great answer! Your enthusiasm for technology and problem-solving comes through clearly. This shows us you have the right motivation for the role.",badFeedback:"Try to be more specific about what aspects of web development excite you. Mentioning any personal projects or coding exercises you've done would strengthen your answer."},{question:"How comfortable are you with HTML, CSS, and JavaScript?",goodFeedback:"Good response! You've honestly assessed your knowledge level and shown a willingness to learn, which is exactly what we look for in entry-level positions.",badFeedback:"It's okay to be a beginner, but try to highlight any specific exposure you have had to these technologies, even if it's just from online courses or self-learning."},{question:"How do you approach learning new technologies?",goodFeedback:"Excellent answer! Your structured approach to learning shows us you can quickly adapt to new technologies, which is essential in this field.",badFeedback:"Consider mentioning specific strategies you use to learn, such as online courses, practice projects, or coding challenges. This shows your commitment to growth."}]},sales:{title:"Sales Associate Interview",description:"Practice answering sales-focused questions for a retail position.",questions:[{question:"Why do you want to work in sales?",goodFeedback:"Great answer! Your enthusiasm for customer interaction and helping people find solutions aligns perfectly with sales work.",badFeedback:"Try to emphasize your interest in the customer experience more. Sales is about understanding customer needs and connecting them with the right solutions."},{question:"How would you approach a customer who seems undecided?",goodFeedback:"Excellent! Your approach of asking open-ended questions and identifying needs shows you understand the consultative sales process.",badFeedback:"Consider focusing more on asking questions to understand the customer's needs rather than immediately pitching products. The best sales approach starts with listening."},{question:"How do you handle rejection?",goodFeedback:"Well done! Your positive attitude toward rejection and seeing it as a learning opportunity is exactly what we look for in sales associates.",badFeedback:"Remember that rejection is a normal part of sales. Try to emphasize resilience and how you would learn from each rejection to improve your approach."}]},admin:{title:"Administrative Assistant Interview",description:"Practice answering questions related to organizational and support skills.",questions:[{question:"How do you prioritize multiple tasks when everything seems urgent?",goodFeedback:"Great answer! Your systematic approach to prioritization shows strong organizational skills essential for administrative work.",badFeedback:"Try to include more specific methods for prioritizing tasks, such as urgency/importance matrices or communication with stakeholders to clarify deadlines."},{question:"What experience do you have with Microsoft Office or Google Workspace?",goodFeedback:"Excellent! Your familiarity with these tools, even from academic or personal use, transfers well to professional settings.",badFeedback:"Even without professional experience, you can highlight your comfort level with these tools from school or personal projects. Be specific about which applications you know best."},{question:"How do you maintain confidentiality when handling sensitive information?",goodFeedback:"Well done! Your understanding of confidentiality principles shows maturity and professionalism needed for this role.",badFeedback:"Consider emphasizing the importance of trust and discretion more in your answer. Administrative roles often require handling confidential information."}]},"data-entry":{title:"Data Entry Specialist Interview",description:"Practice answering questions about accuracy, attention to detail, and efficiency.",questions:[{question:"How do you ensure accuracy in repetitive tasks?",goodFeedback:"Great answer! Your methods for maintaining focus and checking your work demonstrate the attention to detail needed for data entry.",badFeedback:"Try to mention specific techniques you use to maintain accuracy, such as double-checking entries, taking breaks to stay fresh, or creating a distraction-free environment."},{question:"How comfortable are you with typing and data entry speed?",goodFeedback:"Good response! Your focus on balancing speed with accuracy shows you understand the key requirements of data entry work.",badFeedback:"It's helpful to mention any typing speed you know (in WPM) or your comfort level with keyboard use. Also emphasize your willingness to improve speed while maintaining accuracy."},{question:"How do you handle monotonous or repetitive tasks?",goodFeedback:"Excellent! Your strategies for maintaining focus and finding satisfaction in detail-oriented work align perfectly with data entry roles.",badFeedback:"Consider sharing specific techniques you use to stay engaged during repetitive tasks, such as setting small goals or finding satisfaction in maintaining quality work."}]},"social-media":{title:"Social Media Assistant Interview",description:"Practice answering questions about social media knowledge, content creation, and online trends.",questions:[{question:"Which social media platforms are you most familiar with?",goodFeedback:"Great answer! Your knowledge of multiple platforms and their different strengths shows you're ready to adapt to various social media strategies.",badFeedback:"Try to be more specific about how you use each platform and what types of content work best on each. Personal experience with social media can translate to professional skills."},{question:"How do you stay updated on social media trends?",goodFeedback:"Excellent! Your proactive approach to following industry trends shows initiative and genuine interest in the field.",badFeedback:"Consider mentioning specific resources you follow to stay updated, such as industry blogs, thought leaders, or competitor accounts. This demonstrates your commitment to the field."},{question:"What makes content engaging on social media?",goodFeedback:"Well done! Your understanding of engagement factors shows you have insight into what resonates with audiences online.",badFeedback:"Try to include more specific elements that make content engaging, such as visuals, storytelling, or emotional connections. Examples from your personal experience can strengthen your answer."}]}},nV=async()=>{try{if(!(await Su(ra(rr,"interviews"))).empty){console.log("Interview data already exists in Firestore");return}const e=ra(rr,"interviews");for(const[n,s]of Object.entries(tV))await Yg(e,{jobType:n,title:s.title,description:s.description,questions:s.questions});console.log("Interview data imported successfully")}catch(r){console.error("Error importing interview data:",r)}};nV();gR.createRoot(document.getElementById("root")).render(J.jsx(go.StrictMode,{children:J.jsx(eV,{})}));
