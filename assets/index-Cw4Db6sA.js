(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ET(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zp={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function uR(){if(c0)return Wl;c0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=e,Wl.jsx=n,Wl.jsxs=n,Wl}var h0;function cR(){return h0||(h0=1,zp.exports=uR()),zp.exports}var Y=cR(),jp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function hR(){if(f0)return De;f0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function z(x,ee,se){this.props=x,this.context=ee,this.refs=G,this.updater=se||O}z.prototype.isReactComponent={},z.prototype.setState=function(x,ee){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ee,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=z.prototype;function W(x,ee,se){this.props=x,this.context=ee,this.refs=G,this.updater=se||O}var K=W.prototype=new $;K.constructor=W,k(K,z.prototype),K.isPureReactComponent=!0;var ue=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function C(x,ee,se,ie,ge,Ae){return se=Ae.ref,{$$typeof:r,type:x,key:ee,ref:se!==void 0?se:null,props:Ae}}function A(x,ee){return C(x.type,ee,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function N(x){var ee={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return ee[se]})}var V=/\/+/g;function P(x,ee){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):ee.toString(36)}function I(){}function rt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(I,I):(x.status="pending",x.then(function(ee){x.status==="pending"&&(x.status="fulfilled",x.value=ee)},function(ee){x.status==="pending"&&(x.status="rejected",x.reason=ee)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function We(x,ee,se,ie,ge){var Ae=typeof x;(Ae==="undefined"||Ae==="boolean")&&(x=null);var ye=!1;if(x===null)ye=!0;else switch(Ae){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(x.$$typeof){case r:case e:ye=!0;break;case E:return ye=x._init,We(ye(x._payload),ee,se,ie,ge)}}if(ye)return ge=ge(x),ye=ie===""?"."+P(x,0):ie,ue(ge)?(se="",ye!=null&&(se=ye.replace(V,"$&/")+"/"),We(ge,ee,se,"",function(Mt){return Mt})):ge!=null&&(R(ge)&&(ge=A(ge,se+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+ye)),ee.push(ge)),1;ye=0;var Je=ie===""?".":ie+":";if(ue(x))for(var Be=0;Be<x.length;Be++)ie=x[Be],Ae=Je+P(ie,Be),ye+=We(ie,ee,se,Ae,ge);else if(Be=S(x),typeof Be=="function")for(x=Be.call(x),Be=0;!(ie=x.next()).done;)ie=ie.value,Ae=Je+P(ie,Be++),ye+=We(ie,ee,se,Ae,ge);else if(Ae==="object"){if(typeof x.then=="function")return We(rt(x),ee,se,ie,ge);throw ee=String(x),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ye}function X(x,ee,se){if(x==null)return x;var ie=[],ge=0;return We(x,ie,"","",function(Ae){return ee.call(se,Ae,ge++)}),ie}function oe(x){if(x._status===-1){var ee=x._result;ee=ee(),ee.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=ee)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ce(){}return De.Children={map:X,forEach:function(x,ee,se){X(x,function(){ee.apply(this,arguments)},se)},count:function(x){var ee=0;return X(x,function(){ee++}),ee},toArray:function(x){return X(x,function(ee){return ee})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},De.Component=z,De.Fragment=n,De.Profiler=o,De.PureComponent=W,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,De.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ae.H.useMemoCache(x)}},De.cache=function(x){return function(){return x.apply(null,arguments)}},De.cloneElement=function(x,ee,se){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ie=k({},x.props),ge=x.key,Ae=void 0;if(ee!=null)for(ye in ee.ref!==void 0&&(Ae=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!ce.call(ee,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ee.ref===void 0||(ie[ye]=ee[ye]);var ye=arguments.length-2;if(ye===1)ie.children=se;else if(1<ye){for(var Je=Array(ye),Be=0;Be<ye;Be++)Je[Be]=arguments[Be+2];ie.children=Je}return C(x.type,ge,void 0,void 0,Ae,ie)},De.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},De.createElement=function(x,ee,se){var ie,ge={},Ae=null;if(ee!=null)for(ie in ee.key!==void 0&&(Ae=""+ee.key),ee)ce.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=ee[ie]);var ye=arguments.length-2;if(ye===1)ge.children=se;else if(1<ye){for(var Je=Array(ye),Be=0;Be<ye;Be++)Je[Be]=arguments[Be+2];ge.children=Je}if(x&&x.defaultProps)for(ie in ye=x.defaultProps,ye)ge[ie]===void 0&&(ge[ie]=ye[ie]);return C(x,Ae,void 0,void 0,null,ge)},De.createRef=function(){return{current:null}},De.forwardRef=function(x){return{$$typeof:p,render:x}},De.isValidElement=R,De.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:oe}},De.memo=function(x,ee){return{$$typeof:g,type:x,compare:ee===void 0?null:ee}},De.startTransition=function(x){var ee=ae.T,se={};ae.T=se;try{var ie=x(),ge=ae.S;ge!==null&&ge(se,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ce,me)}catch(Ae){me(Ae)}finally{ae.T=ee}},De.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},De.use=function(x){return ae.H.use(x)},De.useActionState=function(x,ee,se){return ae.H.useActionState(x,ee,se)},De.useCallback=function(x,ee){return ae.H.useCallback(x,ee)},De.useContext=function(x){return ae.H.useContext(x)},De.useDebugValue=function(){},De.useDeferredValue=function(x,ee){return ae.H.useDeferredValue(x,ee)},De.useEffect=function(x,ee,se){var ie=ae.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(x,ee)},De.useId=function(){return ae.H.useId()},De.useImperativeHandle=function(x,ee,se){return ae.H.useImperativeHandle(x,ee,se)},De.useInsertionEffect=function(x,ee){return ae.H.useInsertionEffect(x,ee)},De.useLayoutEffect=function(x,ee){return ae.H.useLayoutEffect(x,ee)},De.useMemo=function(x,ee){return ae.H.useMemo(x,ee)},De.useOptimistic=function(x,ee){return ae.H.useOptimistic(x,ee)},De.useReducer=function(x,ee,se){return ae.H.useReducer(x,ee,se)},De.useRef=function(x){return ae.H.useRef(x)},De.useState=function(x){return ae.H.useState(x)},De.useSyncExternalStore=function(x,ee,se){return ae.H.useSyncExternalStore(x,ee,se)},De.useTransition=function(){return ae.H.useTransition()},De.version="19.1.0",De}var d0;function Qm(){return d0||(d0=1,jp.exports=hR()),jp.exports}var F=Qm();const fo=ET(F);var qp={exports:{}},Jl={},Bp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function fR(){return p0||(p0=1,function(r){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var Ce=me-1>>>1,x=X[Ce];if(0<o(x,oe))X[Ce]=oe,X[me]=x,me=Ce;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var Ce=0,x=X.length,ee=x>>>1;Ce<ee;){var se=2*(Ce+1)-1,ie=X[se],ge=se+1,Ae=X[ge];if(0>o(ie,me))ge<x&&0>o(Ae,ie)?(X[Ce]=Ae,X[ge]=me,Ce=ge):(X[Ce]=ie,X[se]=me,Ce=se);else if(ge<x&&0>o(Ae,me))X[Ce]=Ae,X[ge]=me,Ce=ge;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],E=1,w=null,S=3,O=!1,k=!1,G=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function ae(X){if(G=!1,ue(X),!k)if(n(m)!==null)k=!0,ce||(ce=!0,P());else{var oe=n(g);oe!==null&&We(ae,oe.startTime-X)}}var ce=!1,C=-1,A=5,R=-1;function N(){return z?!0:!(r.unstable_now()-R<A)}function V(){if(z=!1,ce){var X=r.unstable_now();R=X;var oe=!0;try{e:{k=!1,G&&(G=!1,W(C),C=-1),O=!0;var me=S;try{t:{for(ue(X),w=n(m);w!==null&&!(w.expirationTime>X&&N());){var Ce=w.callback;if(typeof Ce=="function"){w.callback=null,S=w.priorityLevel;var x=Ce(w.expirationTime<=X);if(X=r.unstable_now(),typeof x=="function"){w.callback=x,ue(X),oe=!0;break t}w===n(m)&&s(m),ue(X)}else s(m);w=n(m)}if(w!==null)oe=!0;else{var ee=n(g);ee!==null&&We(ae,ee.startTime-X),oe=!1}}break e}finally{w=null,S=me,O=!1}oe=void 0}}finally{oe?P():ce=!1}}}var P;if(typeof K=="function")P=function(){K(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=V,P=function(){rt.postMessage(null)}}else P=function(){$(V,0)};function We(X,oe){C=$(function(){X(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(X){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var me=S;S=oe;try{return X()}finally{S=me}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=S;S=X;try{return oe()}finally{S=me}},r.unstable_scheduleCallback=function(X,oe,me){var Ce=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ce+me:Ce):me=Ce,X){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,X={id:E++,callback:oe,priorityLevel:X,startTime:me,expirationTime:x,sortIndex:-1},me>Ce?(X.sortIndex=me,e(g,X),n(m)===null&&X===n(g)&&(G?(W(C),C=-1):G=!0,We(ae,me-Ce))):(X.sortIndex=x,e(m,X),k||O||(k=!0,ce||(ce=!0,P()))),X},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(X){var oe=S;return function(){var me=S;S=oe;try{return X.apply(this,arguments)}finally{S=me}}}}(Hp)),Hp}var m0;function dR(){return m0||(m0=1,Bp.exports=fR()),Bp.exports}var Fp={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function pR(){if(g0)return en;g0=1;var r=Qm();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},en.flushSync=function(m){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=E,s.d.f()}},en.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},en.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},en.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,w=p(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:O}):E==="script"&&s.d.X(m,{crossOrigin:w,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},en.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},en.requestFormReset=function(m){s.d.r(m)},en.unstable_batchedUpdates=function(m,g){return m(g)},en.useFormState=function(m,g,E){return f.H.useFormState(m,g,E)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.1.0",en}var y0;function mR(){if(y0)return Fp.exports;y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fp.exports=pR(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function gR(){if(v0)return Jl;v0=1;var r=dR(),e=Qm(),n=mR();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case z:return"Profiler";case G:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case K:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var We=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ce=[],x=-1;function ee(t){return{current:t}}function se(t){0>x||(t.current=Ce[x],Ce[x]=null,x--)}function ie(t,i){x++,Ce[x]=t.current,t.current=i}var ge=ee(null),Ae=ee(null),ye=ee(null),Je=ee(null);function Be(t,i){switch(ie(ye,i),ie(Ae,t),ie(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?U_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=U_(i),t=z_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(ge),ie(ge,t)}function Mt(){se(ge),se(Ae),se(ye)}function Dn(t){t.memoizedState!==null&&ie(Je,t);var i=ge.current,a=z_(i,t.type);i!==a&&(ie(Ae,t),ie(ge,a))}function hn(t){Ae.current===t&&(se(ge),se(Ae)),Je.current===t&&(se(Je),$l._currentValue=me)}var Wt=Object.prototype.hasOwnProperty,hs=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,Ho=r.unstable_shouldYield,zu=r.unstable_requestPaint,xn=r.unstable_now,zf=r.unstable_getCurrentPriorityLevel,Fo=r.unstable_ImmediatePriority,la=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,jf=r.unstable_LowPriority,ua=r.unstable_IdlePriority,Go=r.log,ju=r.unstable_setDisableYieldValue,dt=null,Qe=null;function vn(t){if(typeof Go=="function"&&ju(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(dt,t)}catch{}}var Jt=Math.clz32?Math.clz32:ps,qu=Math.log,qf=Math.LN2;function ps(t){return t>>>=0,t===0?32:31-(qu(t)/qf|0)|0}var ms=256,gs=4194304;function $n(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ca(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=$n(l):(_&=T,_!==0?h=$n(_):a||(a=T&~t,a!==0&&(h=$n(a))))):(T=l&~d,T!==0?h=$n(T):_!==0?h=$n(_):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ys(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $o(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var t=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),t}function Qo(){var t=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),t}function Dr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yo(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-Jt(a),te=1<<J;T[J]=0,D[J]=-1;var B=q[J];if(B!==null)for(q[J]=null,J=0;J<B.length;J++){var H=B[J];H!==null&&(H.lane&=-536870913)}a&=~te}l!==0&&sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Jt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Jt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function di(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pi(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:i0(t.type))}function Bu(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var lt=Math.random().toString(36).slice(2),It="__reactFiber$"+lt,Et="__reactProps$"+lt,On="__reactContainer$"+lt,Wo="__reactEvents$"+lt,Bf="__reactListeners$"+lt,mi="__reactHandles$"+lt,Hu="__reactResources$"+lt,vs="__reactMarker$"+lt;function gi(t){delete t[It],delete t[Et],delete t[Wo],delete t[Bf],delete t[mi]}function Or(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[On]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=H_(t);t!==null;){if(a=t[It])return a;t=H_(t)}return i}t=a,a=t.parentNode}return null}function ar(t){if(t=t[It]||t[On]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function or(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function an(t){var i=t[Hu];return i||(i=t[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(t){t[vs]=!0}var Jo=new Set,fa={};function Kn(t,i){Nr(t,i),Nr(t+"Capture",i)}function Nr(t,i){for(fa[t]=i,t=0;t<i.length;t++)Jo.add(i[t])}var Fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},_s={};function $u(t){return Wt.call(_s,t)?!0:Wt.call(Gu,t)?!1:Fu.test(t)?_s[t]=!0:(Gu[t]=!0,!1)}function yi(t,i,a){if($u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function lr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ht(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Es,Ku;function kr(t){if(Es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Es=i&&i[1]||"",Ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+Ku}var da=!1;function pa(t,i){if(!t||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(H){var B=H}Reflect.construct(t,[],te)}else{try{te.call()}catch(H){B=H}t.call(te.prototype)}}else{try{throw Error()}catch(H){B=H}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),q=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kr(a):""}function Zo(t){switch(t.tag){case 26:case 27:case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return kr("Activity");default:return""}}function ma(t){try{var i="";do i+=Zo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function el(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Hf(t){var i=el(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ga(t){t._valueTracker||(t._valueTracker=Hf(t))}function tl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=el(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ff=/[\n"\\]/g;function Tt(t){return t.replace(Ff,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?vi(t,_,on(i)):a!=null?vi(t,_,on(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+on(T):t.removeAttribute("name")}function bs(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function vi(t,i,a){i==="number"&&Ts(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ze(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function ws(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(We(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Nn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ss.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Qu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Qu(t,d,i[d])}function rl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return $f.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vr=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pr=null,Lr=null;function il(t){var i=ar(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(_n(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));_n(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&tl(l)}break e;case"textarea":Ze(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Mr(t,!!a.multiple,i,!1)}}}var ur=!1;function Yu(t,i,a){if(ur)return t(i,a);ur=!0;try{var l=t(i);return l}finally{if(ur=!1,(Pr!==null||Lr!==null)&&(Bc(),Pr&&(i=Pr,t=Lr,Lr=Pr=null,il(i),t)))for(i=0;i<t.length;i++)il(t[i])}}function As(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Qn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Mn=!1}var cr=null,_i=null,Ur=null;function sl(){if(Ur)return Ur;var t,i=_i,a=i.length,l,h="value"in cr?cr.value:cr.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ur=h.slice(t,1<l?1-l:void 0)}function hr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function fr(){return!0}function al(){return!1}function Vt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fr:al,this.isPropagationStopped=al,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Vt(Ge),Is=E({},Ge,{view:0,detail:0}),Xu=Vt(Is),_a,Ea,dr,Cs=E({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dr&&(dr&&t.type==="mousemove"?(_a=t.screenX-dr.screenX,Ea=t.screenY-dr.screenY):Ea=_a=0,dr=t),_a)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Vn=Vt(Cs),Wu=E({},Cs,{dataTransfer:0}),Kf=Vt(Wu),Ds=E({},Is,{relatedTarget:0}),Ta=Vt(Ds),ol=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=Vt(ol),Ju=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=Vt(Ju),Qf=E({},Ge,{data:0}),ll=Vt(Qf),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ec[t])?!!i[t]:!1}function Os(){return ul}var tc=E({},Is,{key:function(t){if(t.key){var i=xs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sa=Vt(tc),nc=E({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Vt(nc),zr=E({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),rc=Vt(zr),ic=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),sc=Vt(ic),ac=E({},Cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=Vt(ac),ln=E({},Ge,{newState:0,oldState:0}),oc=Vt(ln),lc=[9,13,27,32],pr=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var y=Qn&&"TextEvent"in window&&!c,v=Qn&&(!pr||c&&8<c&&11>=c),b=" ",U=!1;function Q(t,i){switch(t){case"keyup":return lc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Ct(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return t=i.data,t===b&&U?null:t;default:return null}}function ze(t,i){if(Ue)return t==="compositionend"||!pr&&Q(t,i)?(t=sl(),Ur=_i=cr=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Pt[t.type]:i==="textarea"}function jr(t,i,a,l){Pr?Lr?Lr.push(l):Lr=[l]:Pr=l,i=Qc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ft=null,mr=null;function hl(t){k_(t,0)}function uc(t){var i=or(t);if(tl(i))return t}function ey(t,i){if(t==="change")return i}var ty=!1;if(Qn){var Yf;if(Qn){var Xf="oninput"in document;if(!Xf){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Xf=typeof ny.oninput=="function"}Yf=Xf}else Yf=!1;ty=Yf&&(!document.documentMode||9<document.documentMode)}function ry(){Ft&&(Ft.detachEvent("onpropertychange",iy),mr=Ft=null)}function iy(t){if(t.propertyName==="value"&&uc(mr)){var i=[];jr(i,mr,t,kn(t)),Yu(hl,i)}}function zS(t,i,a){t==="focusin"?(ry(),Ft=i,mr=a,Ft.attachEvent("onpropertychange",iy)):t==="focusout"&&ry()}function jS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uc(mr)}function qS(t,i){if(t==="click")return uc(i)}function BS(t,i){if(t==="input"||t==="change")return uc(i)}function HS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:HS;function fl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ay(t,i){var a=sy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sy(a)}}function oy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?oy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ly(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ts(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ts(t.document)}return i}function Wf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var FS=Qn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Jf=null,dl=null,Zf=!1;function uy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zf||Ra==null||Ra!==Ts(l)||(l=Ra,"selectionStart"in l&&Wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Qc(Jf,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function Ns(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},ed={},cy={};Qn&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ks(t){if(ed[t])return ed[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in cy)return ed[t]=i[a];return t}var hy=ks("animationend"),fy=ks("animationiteration"),dy=ks("animationstart"),GS=ks("transitionrun"),$S=ks("transitionstart"),KS=ks("transitioncancel"),py=ks("transitionend"),my=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function Yn(t,i){my.set(t,i),Kn(i,[t])}var gy=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=gy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ma(i)},gy.set(t,i),i)}return{value:t,source:i,stack:ma(i)}}var Ln=[],Ca=0,nd=0;function cc(){for(var t=Ca,i=nd=Ca=0;i<t;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&yy(a,h,d)}}function hc(t,i,a,l){Ln[Ca++]=t,Ln[Ca++]=i,Ln[Ca++]=a,Ln[Ca++]=l,nd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rd(t,i,a,l){return hc(t,i,a,l),fc(t)}function Da(t,i){return hc(t,null,null,i),fc(t)}function yy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Jt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function fc(t){if(50<Ul)throw Ul=0,up=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var xa={};function QS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new QS(t,i,a,l)}function id(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function dc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")id(t)&&(_=1);else if(typeof t=="string")_=XA(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Tn(31,a,i,h),t.elementType=R,t.lanes=d,t;case k:return Ms(a.children,h,d,i);case G:_=8,h|=24;break;case z:return t=Tn(12,a,i,h|2),t.elementType=z,t.lanes=d,t;case ae:return t=Tn(13,a,i,h),t.elementType=ae,t.lanes=d,t;case ce:return t=Tn(19,a,i,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case K:_=10;break e;case W:_=9;break e;case ue:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ms(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function sd(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function ad(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Oa=[],Na=0,pc=null,mc=0,Un=[],zn=0,Vs=null,Br=1,Hr="";function Ps(t,i){Oa[Na++]=mc,Oa[Na++]=pc,pc=t,mc=i}function _y(t,i,a){Un[zn++]=Br,Un[zn++]=Hr,Un[zn++]=Vs,Vs=t;var l=Br;t=Hr;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Br=1<<32-Jt(i)+h|a<<h|l,Hr=d+t}else Br=1<<d|a<<h|l,Hr=t}function od(t){t.return!==null&&(Ps(t,1),_y(t,1,0))}function ld(t){for(;t===pc;)pc=Oa[--Na],Oa[Na]=null,mc=Oa[--Na],Oa[Na]=null;for(;t===Vs;)Vs=Un[--zn],Un[zn]=null,Hr=Un[--zn],Un[zn]=null,Br=Un[--zn],Un[zn]=null}var un=null,pt=null,Fe=!1,Ls=null,gr=!1,ud=Error(s(519));function Us(t){var i=Error(s(418,""));throw gl(Pn(i,t)),ud}function Ey(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Et]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<jl.length;a++)Ve(jl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),bs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ga(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),ws(i,l.value,l.defaultValue,l.children),ga(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||L_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Yc),i=!0):i=!1,i||Us(t)}function Ty(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:un=un.return}}function pl(t){if(t!==un)return!1;if(!Fe)return Ty(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ap(t.type,t.memoizedProps)),a=!a),a&&pt&&Us(t),Ty(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){pt=Wn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}pt=null}}else i===27?(i=pt,Vi(t.type)?(t=Dp,Dp=null,pt=t):pt=i):pt=un?Wn(t.stateNode.nextSibling):null;return!0}function ml(){pt=un=null,Fe=!1}function by(){var t=Ls;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ls=null),t}function gl(t){Ls===null?Ls=[t]:Ls.push(t)}var cd=ee(null),zs=null,Fr=null;function Ei(t,i,a){ie(cd,i._currentValue),i._currentValue=a}function Gr(t){t._currentValue=cd.current,se(cd)}function hd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function fd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),hd(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),hd(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function yl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}h=h.return}t!==null&&fd(i,t,a,l),i.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){zs=t,Fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return wy(zs,t)}function yc(t,i){return zs===null&&js(t),wy(t,i)}function wy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fr===null){if(t===null)throw Error(s(308));Fr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fr=Fr.next=i;return a}var YS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},XS=r.unstable_scheduleCallback,WS=r.unstable_NormalPriority,xt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new YS,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&XS(WS,function(){t.controller.abort()})}var _l=null,pd=0,ka=0,Ma=null;function JS(t,i){if(_l===null){var a=_l=[];pd=0,ka=gp(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pd++,i.then(Sy,Sy),i}function Sy(){if(--pd===0&&_l!==null){Ma!==null&&(Ma.status="fulfilled");var t=_l;_l=null,ka=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ZS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ay=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&JS(t,i),Ay!==null&&Ay(t,i)};var qs=ee(null);function md(){var t=qs.current;return t!==null?t:st.pooledCache}function vc(t,i){i===null?ie(qs,qs.current):ie(qs,i.pool)}function Ry(){var t=md();return t===null?null:{parent:xt._currentValue,pool:t}}var El=Error(s(460)),Iy=Error(s(474)),_c=Error(s(542)),gd={then:function(){}};function Cy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ec(){}function Dy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ec,Ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Oy(t),t;default:if(typeof i.status=="string")i.then(Ec,Ec);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Oy(t),t}throw Tl=i,El}}var Tl=null;function xy(){if(Tl===null)throw Error(s(459));var t=Tl;return Tl=null,t}function Oy(t){if(t===El||t===_c)throw Error(s(483))}var Ti=!1;function yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=fc(t),yy(t,null,a),i}return hc(t,l,i,a),fc(t)}function bl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}function _d(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ed=!1;function wl(){if(Ed){var t=Ma;if(t!==null)throw t}}function Sl(t,i,a,l){Ed=!1;var h=t.updateQueue;Ti=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,q=D.next;D.next=null,_===null?d=q:_.next=q,_=D;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=D))}if(d!==null){var te=h.baseState;_=0,J=q=D=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(je&B)===B:(l&B)===B){B!==0&&B===ka&&(Ed=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,Ee=T;B=i;var nt=a;switch(Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){te=we.call(nt,te,B);break e}te=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,B=typeof we=="function"?we.call(nt,te,B):we,B==null)break e;te=E({},te,B);break e;case 2:Ti=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=H,D=te):J=J.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);J===null&&(D=te),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Oi|=_,t.lanes=_,t.memoizedState=te}}function Ny(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ky(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ny(a[t],i)}var Va=ee(null),Tc=ee(0);function My(t,i){t=Jr,ie(Tc,t),ie(Va,i),Jr=t|i.baseLanes}function Td(){ie(Tc,Jr),ie(Va,Va.current)}function bd(){Jr=Tc.current,se(Va),se(Tc)}var Si=0,Oe=null,et=null,bt=null,bc=!1,Pa=!1,Bs=!1,wc=0,Al=0,La=null,eA=0;function yt(){throw Error(s(321))}function wd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Sd(t,i,a,l,h,d){return Si=d,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?yv:vv,Bs=!1,d=a(l,h),Bs=!1,Pa&&(d=Py(i,a,l,h)),Vy(t),d}function Vy(t){X.H=Dc;var i=et!==null&&et.next!==null;if(Si=0,bt=et=Oe=null,bc=!1,Al=0,La=null,i)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&gc(t)&&(Lt=!0))}function Py(t,i,a,l){Oe=t;var h=0;do{if(Pa&&(La=null),Al=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,bt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=oA,d=i(a,l)}while(Pa);return d}function tA(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Rl(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Oe.flags|=1024),i}function Ad(){var t=wc!==0;return wc=0,t}function Rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Id(t){if(bc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}bc=!1}Si=0,bt=et=Oe=null,Pa=!1,Al=wc=0,La=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Oe.memoizedState=bt=t:bt=bt.next=t,bt}function wt(){if(et===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=bt===null?Oe.memoizedState:bt.next;if(i!==null)bt=i,et=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},bt===null?Oe.memoizedState=bt=t:bt=bt.next=t}return bt}function Cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var i=Al;return Al+=1,La===null&&(La=[]),t=Dy(La,t,i),i=Oe,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?yv:vv),t}function Sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===K)return Zt(t)}throw Error(s(438,String(t)))}function Dd(t){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cd(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function $r(t,i){return typeof i=="function"?i(t):i}function Ac(t){var i=wt();return xd(i,et,t)}function xd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,q=i,J=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(je&te)===te:(Si&te)===te){var B=q.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===ka&&(J=!0);else if((Si&B)===B){q=q.next,B===ka&&(J=!0);continue}else te={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=te,_=d):D=D.next=te,Oe.lanes|=B,Oi|=B;te=q.action,Bs&&a(d,te),d=q.hasEagerState?q.eagerState:a(d,te)}else B={lane:te,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=B,_=d):D=D.next=B,Oe.lanes|=te,Oi|=te;q=q.next}while(q!==null&&q!==i);if(D===null?_=d:D.next=T,!En(d,t.memoizedState)&&(Lt=!0,J&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Od(t){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(Lt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ly(t,i,a){var l=Oe,h=wt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((et||h).memoizedState,a);_&&(h.memoizedState=a,Lt=!0),h=h.queue;var T=jy.bind(null,l,h,t);if(Il(2048,8,T,[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,Rc(),zy.bind(null,l,h,a,i),null),st===null)throw Error(s(349));d||(Si&124)!==0||Uy(l,i,a)}return a}function Uy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=Cd(),Oe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function zy(t,i,a,l){i.value=a,i.getSnapshot=l,qy(i)&&By(t)}function jy(t,i,a){return a(function(){qy(i)&&By(t)})}function qy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function By(t){var i=Da(t,2);i!==null&&Rn(i,t,2)}function Nd(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),Bs){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:t},i}function Hy(t,i,a,l){return t.baseState=a,xd(t,et,typeof l=="function"?l:$r)}function nA(t,i,a,l,h){if(Cc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Fy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Fy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var T=a(h,l),D=X.S;D!==null&&D(_,T),Gy(t,i,T)}catch(q){kd(t,i,q)}finally{X.T=d}}else try{d=a(h,l),Gy(t,i,d)}catch(q){kd(t,i,q)}}function Gy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$y(t,i,l)},function(l){return kd(t,i,l)}):$y(t,i,a)}function $y(t,i,a){i.status="fulfilled",i.value=a,Ky(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Fy(t,a)))}function kd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ky(i),i=i.next;while(i!==l)}t.action=null}function Ky(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Qy(t,i){return i}function Yy(t,i){if(Fe){var a=st.formState;if(a!==null){e:{var l=Oe;if(Fe){if(pt){t:{for(var h=pt,d=gr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pt=Wn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:i},a.queue=l,a=pv.bind(null,Oe,l),l.dispatch=a,l=Nd(!1),d=Ud.bind(null,Oe,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=nA.bind(null,Oe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Xy(t){var i=wt();return Wy(i,et,t)}function Wy(t,i,a){if(i=xd(t,i,Qy)[0],t=Ac($r)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Rl(i)}catch(_){throw _===El?_c:_}else l=i;i=wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,Ua(9,Rc(),rA.bind(null,h,a),null)),[l,d,t]}function rA(t,i){t.action=i}function Jy(t){var i=wt(),a=et;if(a!==null)return Wy(i,a,t);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=Cd(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Rc(){return{destroy:void 0,resource:void 0}}function Zy(){return wt().memoizedState}function Ic(t,i,a,l){var h=fn();l=l===void 0?null:l,Oe.flags|=t,h.memoizedState=Ua(1|i,Rc(),a,l)}function Il(t,i,a,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&wd(l,et.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Oe.flags|=t,h.memoizedState=Ua(1|i,d,a,l))}function ev(t,i){Ic(8390656,8,t,i)}function tv(t,i){Il(2048,8,t,i)}function nv(t,i){return Il(4,2,t,i)}function rv(t,i){return Il(4,4,t,i)}function iv(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function sv(t,i,a){a=a!=null?a.concat([t]):null,Il(4,4,iv.bind(null,i,t),a)}function Md(){}function av(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&wd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ov(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&wd(i,l[1]))return l[0];if(l=t(),Bs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function Vd(t,i,a){return a===void 0||(Si&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=c_(),Oe.lanes|=t,Oi|=t,a)}function lv(t,i,a,l){return En(a,i)?a:Va.current!==null?(t=Vd(t,a,l),En(t,i)||(Lt=!0),t):(Si&42)===0?(Lt=!0,t.memoizedState=a):(t=c_(),Oe.lanes|=t,Oi|=t,i)}function uv(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,Ud(t,!1,i,a);try{var D=h(),q=X.S;if(q!==null&&q(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=ZS(D,l);Cl(t,i,J,An(t))}else Cl(t,i,l,An(t))}catch(te){Cl(t,i,{then:function(){},status:"rejected",reason:te},An())}finally{oe.p=d,X.T=_}}function iA(){}function Pd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=cv(t).queue;uv(t,h,i,me,a===null?iA:function(){return hv(t),a(l)})}function cv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function hv(t){var i=cv(t).next.queue;Cl(t,i,{},An())}function Ld(){return Zt($l)}function fv(){return wt().memoizedState}function dv(){return wt().memoizedState}function sA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=bi(a);var l=wi(i,t,a);l!==null&&(Rn(l,i,a),bl(l,i,a)),i={cache:dd()},t.payload=i;return}i=i.return}}function aA(t,i,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(t)?mv(i,a):(a=rd(t,i,a,l),a!==null&&(Rn(a,t,l),gv(a,i,l)))}function pv(t,i,a){var l=An();Cl(t,i,a,l)}function Cl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(t))mv(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,_))return hc(t,i,h,0),st===null&&cc(),!1}catch{}finally{}if(a=rd(t,i,h,l),a!==null)return Rn(a,t,l),gv(a,i,l),!0}return!1}function Ud(t,i,a,l){if(l={lane:2,revertLane:gp(),action:l,hasEagerState:!1,eagerState:null,next:null},Cc(t)){if(i)throw Error(s(479))}else i=rd(t,a,l,2),i!==null&&Rn(i,t,2)}function Cc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function mv(t,i){Pa=bc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function gv(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xo(t,a)}}var Dc={readContext:Zt,use:Sc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},yv={readContext:Zt,use:Sc,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:ev,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,iv.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ic(4194308,4,t,i)},useInsertionEffect:function(t,i){Ic(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(Bs){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(Bs){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=aA.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Nd(t);var i=t.queue,a=pv.bind(null,Oe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Md,useDeferredValue:function(t,i){var a=fn();return Vd(a,t,i)},useTransition:function(){var t=Nd(!1);return t=uv.bind(null,Oe,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Oe,h=fn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(je&124)!==0||Uy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ev(jy.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,Rc(),zy.bind(null,l,d,a,i),null),a},useId:function(){var t=fn(),i=st.identifierPrefix;if(Fe){var a=Hr,l=Br;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=wc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=eA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Ld,useFormState:Yy,useActionState:Yy,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ud.bind(null,Oe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Dd,useCacheRefresh:function(){return fn().memoizedState=sA.bind(null,Oe)}},vv={readContext:Zt,use:Sc,useCallback:av,useContext:Zt,useEffect:tv,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:ov,useReducer:Ac,useRef:Zy,useState:function(){return Ac($r)},useDebugValue:Md,useDeferredValue:function(t,i){var a=wt();return lv(a,et.memoizedState,t,i)},useTransition:function(){var t=Ac($r)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:Ld,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,i){var a=wt();return Hy(a,et,t,i)},useMemoCache:Dd,useCacheRefresh:dv},oA={readContext:Zt,use:Sc,useCallback:av,useContext:Zt,useEffect:tv,useImperativeHandle:sv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:ov,useReducer:Od,useRef:Zy,useState:function(){return Od($r)},useDebugValue:Md,useDeferredValue:function(t,i){var a=wt();return et===null?Vd(a,t,i):lv(a,et.memoizedState,t,i)},useTransition:function(){var t=Od($r)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:Ly,useId:fv,useHostTransitionStatus:Ld,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,i){var a=wt();return et!==null?Hy(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:dv},za=null,Dl=0;function xc(t){var i=Dl;return Dl+=1,za===null&&(za=[]),Dy(za,t,i)}function xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Oc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function _v(t){var i=t._init;return i(t._payload)}function Ev(t){function i(L,M){if(t){var j=L.deletions;j===null?(L.deletions=[M],L.flags|=16):j.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=qr(L,M),L.index=0,L.sibling=null,L}function d(L,M,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<M?(L.flags|=67108866,M):j):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,j,Z){return M===null||M.tag!==6?(M=sd(j,L.mode,Z),M.return=L,M):(M=h(M,j),M.return=L,M)}function D(L,M,j,Z){var de=j.type;return de===k?J(L,M,j.props.children,Z,j.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&_v(de)===M.type)?(M=h(M,j.props),xl(M,j),M.return=L,M):(M=dc(j.type,j.key,j.props,null,L.mode,Z),xl(M,j),M.return=L,M)}function q(L,M,j,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=ad(j,L.mode,Z),M.return=L,M):(M=h(M,j.children||[]),M.return=L,M)}function J(L,M,j,Z,de){return M===null||M.tag!==7?(M=Ms(j,L.mode,Z,de),M.return=L,M):(M=h(M,j),M.return=L,M)}function te(L,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=sd(""+M,L.mode,j),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return j=dc(M.type,M.key,M.props,null,L.mode,j),xl(j,M),j.return=L,j;case O:return M=ad(M,L.mode,j),M.return=L,M;case A:var Z=M._init;return M=Z(M._payload),te(L,M,j)}if(We(M)||P(M))return M=Ms(M,L.mode,j,null),M.return=L,M;if(typeof M.then=="function")return te(L,xc(M),j);if(M.$$typeof===K)return te(L,yc(L,M),j);Oc(L,M)}return null}function B(L,M,j,Z){var de=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:T(L,M,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===de?D(L,M,j,Z):null;case O:return j.key===de?q(L,M,j,Z):null;case A:return de=j._init,j=de(j._payload),B(L,M,j,Z)}if(We(j)||P(j))return de!==null?null:J(L,M,j,Z,null);if(typeof j.then=="function")return B(L,M,xc(j),Z);if(j.$$typeof===K)return B(L,M,yc(L,j),Z);Oc(L,j)}return null}function H(L,M,j,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(j)||null,T(M,L,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return L=L.get(Z.key===null?j:Z.key)||null,D(M,L,Z,de);case O:return L=L.get(Z.key===null?j:Z.key)||null,q(M,L,Z,de);case A:var ke=Z._init;return Z=ke(Z._payload),H(L,M,j,Z,de)}if(We(Z)||P(Z))return L=L.get(j)||null,J(M,L,Z,de,null);if(typeof Z.then=="function")return H(L,M,j,xc(Z),de);if(Z.$$typeof===K)return H(L,M,j,yc(M,Z),de);Oc(M,Z)}return null}function we(L,M,j,Z){for(var de=null,ke=null,ve=M,Te=M=0,zt=null;ve!==null&&Te<j.length;Te++){ve.index>Te?(zt=ve,ve=null):zt=ve.sibling;var He=B(L,ve,j[Te],Z);if(He===null){ve===null&&(ve=zt);break}t&&ve&&He.alternate===null&&i(L,ve),M=d(He,M,Te),ke===null?de=He:ke.sibling=He,ke=He,ve=zt}if(Te===j.length)return a(L,ve),Fe&&Ps(L,Te),de;if(ve===null){for(;Te<j.length;Te++)ve=te(L,j[Te],Z),ve!==null&&(M=d(ve,M,Te),ke===null?de=ve:ke.sibling=ve,ke=ve);return Fe&&Ps(L,Te),de}for(ve=l(ve);Te<j.length;Te++)zt=H(ve,L,Te,j[Te],Z),zt!==null&&(t&&zt.alternate!==null&&ve.delete(zt.key===null?Te:zt.key),M=d(zt,M,Te),ke===null?de=zt:ke.sibling=zt,ke=zt);return t&&ve.forEach(function(ji){return i(L,ji)}),Fe&&Ps(L,Te),de}function Ee(L,M,j,Z){if(j==null)throw Error(s(151));for(var de=null,ke=null,ve=M,Te=M=0,zt=null,He=j.next();ve!==null&&!He.done;Te++,He=j.next()){ve.index>Te?(zt=ve,ve=null):zt=ve.sibling;var ji=B(L,ve,He.value,Z);if(ji===null){ve===null&&(ve=zt);break}t&&ve&&ji.alternate===null&&i(L,ve),M=d(ji,M,Te),ke===null?de=ji:ke.sibling=ji,ke=ji,ve=zt}if(He.done)return a(L,ve),Fe&&Ps(L,Te),de;if(ve===null){for(;!He.done;Te++,He=j.next())He=te(L,He.value,Z),He!==null&&(M=d(He,M,Te),ke===null?de=He:ke.sibling=He,ke=He);return Fe&&Ps(L,Te),de}for(ve=l(ve);!He.done;Te++,He=j.next())He=H(ve,L,Te,He.value,Z),He!==null&&(t&&He.alternate!==null&&ve.delete(He.key===null?Te:He.key),M=d(He,M,Te),ke===null?de=He:ke.sibling=He,ke=He);return t&&ve.forEach(function(lR){return i(L,lR)}),Fe&&Ps(L,Te),de}function nt(L,M,j,Z){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var de=j.key;M!==null;){if(M.key===de){if(de=j.type,de===k){if(M.tag===7){a(L,M.sibling),Z=h(M,j.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&_v(de)===M.type){a(L,M.sibling),Z=h(M,j.props),xl(Z,j),Z.return=L,L=Z;break e}a(L,M);break}else i(L,M);M=M.sibling}j.type===k?(Z=Ms(j.props.children,L.mode,Z,j.key),Z.return=L,L=Z):(Z=dc(j.type,j.key,j.props,null,L.mode,Z),xl(Z,j),Z.return=L,L=Z)}return _(L);case O:e:{for(de=j.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(L,M.sibling),Z=h(M,j.children||[]),Z.return=L,L=Z;break e}else{a(L,M);break}else i(L,M);M=M.sibling}Z=ad(j,L.mode,Z),Z.return=L,L=Z}return _(L);case A:return de=j._init,j=de(j._payload),nt(L,M,j,Z)}if(We(j))return we(L,M,j,Z);if(P(j)){if(de=P(j),typeof de!="function")throw Error(s(150));return j=de.call(j),Ee(L,M,j,Z)}if(typeof j.then=="function")return nt(L,M,xc(j),Z);if(j.$$typeof===K)return nt(L,M,yc(L,j),Z);Oc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(L,M.sibling),Z=h(M,j),Z.return=L,L=Z):(a(L,M),Z=sd(j,L.mode,Z),Z.return=L,L=Z),_(L)):a(L,M)}return function(L,M,j,Z){try{Dl=0;var de=nt(L,M,j,Z);return za=null,de}catch(ve){if(ve===El||ve===_c)throw ve;var ke=Tn(29,ve,null,L.mode);return ke.lanes=Z,ke.return=L,ke}finally{}}}var ja=Ev(!0),Tv=Ev(!1),jn=ee(null),yr=null;function Ai(t){var i=t.alternate;ie(Ot,Ot.current&1),ie(jn,t),yr===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(yr=t)}function bv(t){if(t.tag===22){if(ie(Ot,Ot.current),ie(jn,t),yr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(yr=t)}}else Ri()}function Ri(){ie(Ot,Ot.current),ie(jn,jn.current)}function Kr(t){se(jn),yr===t&&(yr=null),se(Ot)}var Ot=ee(0);function Nc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function zd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=bi(l);h.payload=i,a!=null&&(h.callback=a),i=wi(t,h,l),i!==null&&(Rn(i,t,l),bl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=bi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=wi(t,h,l),i!==null&&(Rn(i,t,l),bl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=bi(a);l.tag=2,i!=null&&(l.callback=i),i=wi(t,l,a),i!==null&&(Rn(i,t,a),bl(i,t,a))}};function wv(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!fl(a,l)||!fl(h,d):!0}function Sv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&jd.enqueueReplaceState(i,i.state,null)}function Hs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var kc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Av(t){kc(t)}function Rv(t){console.error(t)}function Iv(t){kc(t)}function Mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Cv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qd(t,i,a){return a=bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Mc(t,i)},a}function Dv(t){return t=bi(t),t.tag=3,t}function xv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Cv(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Cv(i,a,l),typeof h!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function lA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&yl(i,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 13:return yr===null?hp():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===gd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),dp(t,l,h)),!1;case 22:return a.flags|=65536,l===gd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),dp(t,l,h)),!1}throw Error(s(435,a.tag))}return dp(t,l,h),hp(),!1}if(Fe)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ud&&(t=Error(s(422),{cause:l}),gl(Pn(t,a)))):(l!==ud&&(i=Error(s(423),{cause:l}),gl(Pn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=qd(t.stateNode,l,h),_d(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),Ll===null?Ll=[d]:Ll.push(d),mt!==4&&(mt=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=qd(a.stateNode,l,t),_d(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ni===null||!Ni.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dv(h),xv(h,t,a,l),_d(a,h),!1}a=a.return}while(a!==null);return!1}var Ov=Error(s(461)),Lt=!1;function Gt(t,i,a,l){i.child=t===null?Tv(i,null,a,l):ja(i,t.child,a,l)}function Nv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return js(i),l=Sd(t,i,a,_,d,h),T=Ad(),t!==null&&!Lt?(Rd(t,i,h),Qr(t,i,h)):(Fe&&T&&od(i),i.flags|=1,Gt(t,i,l,h),i.child)}function kv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!id(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Mv(t,i,d,l,h)):(t=dc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Yd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(_,l)&&t.ref===i.ref)return Qr(t,i,h)}return i.flags|=1,t=qr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Mv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===i.ref)if(Lt=!1,i.pendingProps=l=d,Yd(t,h))(t.flags&131072)!==0&&(Lt=!0);else return i.lanes=t.lanes,Qr(t,i,h)}return Bd(t,i,a,l,h)}function Vv(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Pv(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&vc(i,d!==null?d.cachePool:null),d!==null?My(i,d):Td(),bv(i);else return i.lanes=i.childLanes=536870912,Pv(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(vc(i,d.cachePool),My(i,d),Ri(),i.memoizedState=null):(t!==null&&vc(i,null),Td(),Ri());return Gt(t,i,h,a),i.child}function Pv(t,i,a,l){var h=md();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&vc(i,null),Td(),bv(i),t!==null&&yl(t,i,l,!0),null}function Vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Bd(t,i,a,l,h){return js(i),a=Sd(t,i,a,l,void 0,h),l=Ad(),t!==null&&!Lt?(Rd(t,i,h),Qr(t,i,h)):(Fe&&l&&od(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Lv(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=Py(i,l,a,h),Vy(t),l=Ad(),t!==null&&!Lt?(Rd(t,i,d),Qr(t,i,d)):(Fe&&l&&od(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Uv(t,i,a,l,h){if(js(i),i.stateNode===null){var d=xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Zt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Zt(_):xa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&jd.enqueueReplaceState(d,d.state,null),Sl(i,l,d,h),wl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Hs(a,T);d.props=D;var q=d.context,J=a.contextType;_=xa,typeof J=="object"&&J!==null&&(_=Zt(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==_)&&Sv(i,d,l,_),Ti=!1;var B=i.memoizedState;d.state=B,Sl(i,l,d,h),wl(),q=i.memoizedState,T||B!==q||Ti?(typeof te=="function"&&(zd(i,a,te,l),q=i.memoizedState),(D=Ti||wv(i,a,D,l,B,q,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,vd(t,i),_=i.memoizedProps,J=Hs(a,_),d.props=J,te=i.pendingProps,B=d.context,q=a.contextType,D=xa,typeof q=="object"&&q!==null&&(D=Zt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||B!==D)&&Sv(i,d,l,D),Ti=!1,B=i.memoizedState,d.state=B,Sl(i,l,d,h),wl();var H=i.memoizedState;_!==te||B!==H||Ti||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof T=="function"&&(zd(i,a,T,l),H=i.memoizedState),(J=Ti||wv(i,a,J,l,B,H,D)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ja(i,t.child,null,h),i.child=ja(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Qr(t,i,h),t}function zv(t,i,a,l){return ml(),i.flags|=256,Gt(t,i,a,l),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(t){return{baseLanes:t,cachePool:Ry()}}function Gd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=qn),t}function jv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Ai(i):Ri(),Fe){var T=pt,D;if(D=T){e:{for(D=T,T=gr;D.nodeType!==8;){if(!T){T=null;break e}if(D=Wn(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(i.memoizedState={dehydrated:T,treeContext:Vs!==null?{id:Br,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},D=Tn(18,null,null,0),D.stateNode=T,D.return=i,i.child=D,un=i,pt=null,D=!0):D=!1}D||Us(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Cp(T)?i.lanes=32:i.lanes=536870912,null;Kr(i)}return T=l.children,l=l.fallback,h?(Ri(),h=i.mode,T=Pc({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Fd(a),h.childLanes=Gd(t,_,a),i.memoizedState=Hd,l):(Ai(i),$d(i,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Ai(i),i.flags&=-257,i=Kd(t,i,a)):i.memoizedState!==null?(Ri(),i.child=t.child,i.flags|=128,i=null):(Ri(),h=l.fallback,T=i.mode,l=Pc({mode:"visible",children:l.children},T),h=Ms(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ja(i,t.child,null,a),l=i.child,l.memoizedState=Fd(a),l.childLanes=Gd(t,_,a),i.memoizedState=Hd,i=h);else if(Ai(i),Cp(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,gl({value:l,source:null,stack:null}),i=Kd(t,i,a)}else if(Lt||yl(t,i,a,!1),_=(a&t.childLanes)!==0,Lt||_){if(_=st,_!==null&&(l=a&-a,l=(l&42)!==0?1:di(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Da(t,l),Rn(_,t,l),Ov;T.data==="$?"||hp(),i=Kd(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,pt=Wn(T.nextSibling),un=i,Fe=!0,Ls=null,gr=!1,t!==null&&(Un[zn++]=Br,Un[zn++]=Hr,Un[zn++]=Vs,Br=t.id,Hr=t.overflow,Vs=i),i=$d(i,l.children),i.flags|=4096);return i}return h?(Ri(),h=l.fallback,T=i.mode,D=t.child,q=D.sibling,l=qr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?h=qr(q,h):(h=Ms(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Fd(a):(D=T.cachePool,D!==null?(q=xt._currentValue,D=D.parent!==q?{parent:q,pool:q}:D):D=Ry(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=Gd(t,_,a),i.memoizedState=Hd,l):(Ai(i),a=t.child,t=a.sibling,a=qr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function $d(t,i){return i=Pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Pc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Kd(t,i,a){return ja(i,t.child,null,a),t=$d(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function qv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),hd(t.return,i,a)}function Qd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Bv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Gt(t,i,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qv(t,a,i);else if(t.tag===19)qv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Ot,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Nc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Qd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Qd(i,!0,a,null,d);break;case"together":Qd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Oi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(yl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Yd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function uA(t,i,a){switch(i.tag){case 3:Be(i,i.stateNode.containerInfo),Ei(i,xt,t.memoizedState.cache),ml();break;case 27:case 5:Dn(i);break;case 4:Be(i,i.stateNode.containerInfo);break;case 10:Ei(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ai(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jv(t,i,a):(Ai(i),t=Qr(t,i,a),t!==null?t.sibling:null);Ai(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(yl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Bv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ot,Ot.current),l)break;return null;case 22:case 23:return i.lanes=0,Vv(t,i,a);case 24:Ei(i,xt,t.memoizedState.cache)}return Qr(t,i,a)}function Hv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Yd(t,a)&&(i.flags&128)===0)return Lt=!1,uA(t,i,a);Lt=(t.flags&131072)!==0}else Lt=!1,Fe&&(i.flags&1048576)!==0&&_y(i,mc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")id(l)?(t=Hs(l,t),i.tag=1,i=Uv(null,i,l,t,a)):(i.tag=0,i=Bd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=Nv(null,i,l,t,a);break e}else if(h===C){i.tag=14,i=kv(null,i,l,t,a);break e}}throw i=rt(l)||l,Error(s(306,i,""))}}return i;case 0:return Bd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Hs(l,i.pendingProps),Uv(t,i,l,h,a);case 3:e:{if(Be(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,vd(t,i),Sl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ei(i,xt,l),l!==d.cache&&fd(i,[xt],a,!0),wl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=zv(t,i,l,a);break e}else if(l!==h){h=Pn(Error(s(424)),i),gl(h),i=zv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=Wn(t.firstChild),un=i,Fe=!0,Ls=null,gr=!0,a=Tv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ml(),l===h){i=Qr(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Vc(t,i),t===null?(a=K_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Xc(ye.current).createElement(a),l[It]=i,l[Et]=t,Kt(l,a,t),gt(l),i.stateNode=l):i.memoizedState=K_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Dn(i),t===null&&Fe&&(l=i.stateNode=F_(i.type,i.pendingProps,ye.current),un=i,gr=!0,h=pt,Vi(i.type)?(Dp=h,pt=Wn(l.firstChild)):pt=h),Gt(t,i,i.pendingProps.children,a),Vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=pt)&&(l=LA(l,i.type,i.pendingProps,gr),l!==null?(i.stateNode=l,un=i,pt=Wn(l.firstChild),gr=!1,h=!0):h=!1),h||Us(i)),Dn(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Ap(h,d)?l=null:_!==null&&Ap(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Sd(t,i,tA,null,null,a),$l._currentValue=h),Vc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=pt)&&(a=UA(a,i.pendingProps,gr),a!==null?(i.stateNode=a,un=i,pt=null,t=!0):t=!1),t||Us(i)),null;case 13:return jv(t,i,a);case 4:return Be(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ja(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Nv(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ei(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Zt(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return kv(t,i,i.type,i.pendingProps,a);case 15:return Mv(t,i,i.type,i.pendingProps,a);case 19:return Bv(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Pc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=qr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Vv(t,i,a);case 24:return js(i),l=Zt(xt),t===null?(h=md(),h===null&&(h=st,d=dd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},yd(i),Ei(i,xt,h)):((t.lanes&a)!==0&&(vd(t,i),Sl(i,null,null,a),wl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ei(i,xt,l)):(l=d.cache,Ei(i,xt,l),l!==h.cache&&fd(i,[xt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yr(t){t.flags|=4}function Fv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!J_(i)){if(i=jn.current,i!==null&&((je&4194048)===je?yr!==null:(je&62914560)!==je&&(je&536870912)===0||i!==yr))throw Tl=gd,Iy;t.flags|=8192}}function Lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Qo():536870912,t.lanes|=i,Fa|=i)}function Ol(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function cA(t,i,a){var l=i.pendingProps;switch(ld(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gr(xt),Mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pl(i)?Yr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,by())),ht(i),null;case 26:return a=i.memoizedState,t===null?(Yr(i),a!==null?(ht(i),Fv(i,a)):(ht(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Yr(i),ht(i),Fv(i,a)):(ht(i),i.flags&=-16777217):(t.memoizedProps!==l&&Yr(i),ht(i),i.flags&=-16777217),null;case 27:hn(i),a=ye.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}t=ge.current,pl(i)?Ey(i):(t=F_(h,l,a),i.stateNode=t,Yr(i))}return ht(i),null;case 5:if(hn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}if(t=ge.current,pl(i))Ey(i);else{switch(h=Xc(ye.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Yr(i)}}return ht(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Yr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ye.current,pl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L_(t.nodeValue,a)),t||Us(i)}else t=Xc(t).createTextNode(l),t[It]=i,i.stateNode=t}return ht(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else ml(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=by(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Kr(i),i):(Kr(i),null)}if(Kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Lc(i,i.updateQueue),ht(i),null;case 4:return Mt(),t===null&&Ep(i.stateNode.containerInfo),ht(i),null;case 10:return Gr(i.type),ht(i),null;case 19:if(se(Ot),h=i.memoizedState,h===null)return ht(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ol(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Nc(t),d!==null){for(i.flags|=128,Ol(h,!1),t=d.updateQueue,i.updateQueue=t,Lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)vy(a,t),a=a.sibling;return ie(Ot,Ot.current&1|2),i.child}t=t.sibling}h.tail!==null&&xn()>jc&&(i.flags|=128,l=!0,Ol(h,!1),i.lanes=4194304)}else{if(!l)if(t=Nc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Lc(i,t),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ht(i),null}else 2*xn()-h.renderingStartTime>jc&&a!==536870912&&(i.flags|=128,l=!0,Ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=xn(),i.sibling=null,t=Ot.current,ie(Ot,l?t&1|2:t&1),i):(ht(i),null);case 22:case 23:return Kr(i),bd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&Lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&se(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gr(xt),ht(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function hA(t,i){switch(ld(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gr(xt),Mt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return hn(i),null;case 13:if(Kr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ml()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(Ot),null;case 4:return Mt(),null;case 10:return Gr(i.type),null;case 22:case 23:return Kr(i),bd(),t!==null&&se(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gr(xt),null;case 25:return null;default:return null}}function Gv(t,i){switch(ld(i),i.tag){case 3:Gr(xt),Mt();break;case 26:case 27:case 5:hn(i);break;case 4:Mt();break;case 13:Kr(i);break;case 19:se(Ot);break;case 10:Gr(i.type);break;case 22:case 23:Kr(i),bd(),t!==null&&se(qs);break;case 24:Gr(xt)}}function Nl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){it(i,i.return,T)}}function Ii(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,q=T;try{q()}catch(J){it(h,D,J)}}}l=l.next}while(l!==d)}}catch(J){it(i,i.return,J)}}function $v(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ky(i,a)}catch(l){it(t,t.return,l)}}}function Kv(t,i,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,i,l)}}function kl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,i,h)}}function vr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function Qv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function Xd(t,i,a){try{var l=t.stateNode;NA(l,t.type,a,i),l[Et]=i}catch(h){it(t,t.return,h)}}function Yv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yc));else if(l!==4&&(l===27&&Vi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Jd(t,i,a),t=t.sibling;t!==null;)Jd(t,i,a),t=t.sibling}function Uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uc(t,i,a),t=t.sibling;t!==null;)Uc(t,i,a),t=t.sibling}function Xv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[It]=t,i[Et]=a}catch(d){it(t,t.return,d)}}var Xr=!1,vt=!1,Zd=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function fA(t,i){if(t=t.containerInfo,wp=nh,t=ly(t),Wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,q=0,J=0,te=t,B=null;t:for(;;){for(var H;te!==a||h!==0&&te.nodeType!==3||(T=_+h),te!==d||l!==0&&te.nodeType!==3||(D=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(H=te.firstChild)!==null;)B=te,te=H;for(;;){if(te===t)break t;if(B===a&&++q===h&&(T=_),B===d&&++J===l&&(D=_),(H=te.nextSibling)!==null)break;te=B,B=te.parentNode}te=H}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sp={focusedElem:t,selectionRange:a},nh=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Hs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){it(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ip(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ip(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Jv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ci(t,a),l&4&&Nl(5,a);break;case 1:if(Ci(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){it(a,a.return,_)}else{var h=Hs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){it(a,a.return,_)}}l&64&&$v(a),l&512&&kl(a,a.return);break;case 3:if(Ci(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ky(t,i)}catch(_){it(a,a.return,_)}}break;case 27:i===null&&l&4&&Xv(a);case 26:case 5:Ci(t,a),i===null&&l&4&&Qv(a),l&512&&kl(a,a.return);break;case 12:Ci(t,a);break;case 13:Ci(t,a),l&4&&t_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TA.bind(null,a),zA(t,a))));break;case 22:if(l=a.memoizedState!==null||Xr,!l){i=i!==null&&i.memoizedState!==null||vt,h=Xr;var d=vt;Xr=l,(vt=i)&&!d?Di(t,a,(a.subtreeFlags&8772)!==0):Ci(t,a),Xr=h,vt=d}break;case 30:break;default:Ci(t,a)}}function Zv(t){var i=t.alternate;i!==null&&(t.alternate=null,Zv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&gi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,dn=!1;function Wr(t,i,a){for(a=a.child;a!==null;)e_(t,i,a),a=a.sibling}function e_(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:vt||vr(a,i),Wr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||vr(a,i);var l=ut,h=dn;Vi(a.type)&&(ut=a.stateNode,dn=!1),Wr(t,i,a),Bl(a.stateNode),ut=l,dn=h;break;case 5:vt||vr(a,i);case 6:if(l=ut,h=dn,ut=null,Wr(t,i,a),ut=l,dn=h,ut!==null)if(dn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){it(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){it(a,i,d)}break;case 18:ut!==null&&(dn?(t=ut,B_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xl(t)):B_(ut,a.stateNode));break;case 4:l=ut,h=dn,ut=a.stateNode.containerInfo,dn=!0,Wr(t,i,a),ut=l,dn=h;break;case 0:case 11:case 14:case 15:vt||Ii(2,a,i),vt||Ii(4,a,i),Wr(t,i,a);break;case 1:vt||(vr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kv(a,i,l)),Wr(t,i,a);break;case 21:Wr(t,i,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,Wr(t,i,a),vt=l;break;default:Wr(t,i,a)}}function t_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(a){it(i,i.return,a)}}function dA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Wv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Wv),i;default:throw Error(s(435,t.tag))}}function ep(t,i){var a=dA(t);i.forEach(function(l){var h=bA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function bn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Vi(T.type)){ut=T.stateNode,dn=!1;break e}break;case 5:ut=T.stateNode,dn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ut===null)throw Error(s(160));e_(d,_,h),ut=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)n_(i,t),i=i.sibling}var Xn=null;function n_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),wn(t),l&4&&(Ii(3,t,t.return),Nl(3,t),Ii(5,t,t.return));break;case 1:bn(i,t),wn(t),l&512&&(vt||a===null||vr(a,a.return)),l&64&&Xr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(bn(i,t),wn(t),l&512&&(vt||a===null||vr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vs]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[It]=t,gt(d),l=d;break e;case"link":var _=X_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=X_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,gt(d),l=d}t.stateNode=l}else W_(h,t.type,t.stateNode);else t.stateNode=Y_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?W_(h,t.type,t.stateNode):Y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(i,t),wn(t),l&512&&(vt||a===null||vr(a,a.return)),a!==null&&l&4&&Xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,t),wn(t),l&512&&(vt||a===null||vr(a,a.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(H){it(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Zd=!0);break;case 6:if(bn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){it(t,t.return,H)}}break;case 3:if(Zc=null,h=Xn,Xn=Wc(i.containerInfo),bn(i,t),Xn=h,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(i.containerInfo)}catch(H){it(t,t.return,H)}Zd&&(Zd=!1,r_(t));break;case 4:l=Xn,Xn=Wc(t.stateNode.containerInfo),bn(i,t),wn(t),Xn=l;break;case 12:bn(i,t),wn(t);break;case 13:bn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ap=xn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ep(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=Xr,J=vt;if(Xr=q||h,vt=J||D,bn(i,t),vt=J,Xr=q,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Xr||vt||Fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var te=D.memoizedProps.style,B=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){it(D,D.return,H)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(H){it(D,D.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ep(t,a))));break;case 19:bn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ep(t,l)));break;case 30:break;case 21:break;default:bn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Yv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Wd(t);Uc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Nn(_,""),a.flags&=-33);var T=Wd(t);Uc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,q=Wd(t);Jd(t,q,D);break;default:throw Error(s(161))}}catch(J){it(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ci(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jv(t,i.alternate,i),i=i.sibling}function Fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Fs(i);break;case 1:vr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Kv(i,i.return,a),Fs(i);break;case 27:Bl(i.stateNode);case 26:case 5:vr(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}t=t.sibling}}function Di(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Di(h,d,a),Nl(4,d);break;case 1:if(Di(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){it(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Ny(D[h],T)}catch(q){it(l,l.return,q)}}a&&_&64&&$v(d),kl(d,d.return);break;case 27:Xv(d);case 26:case 5:Di(h,d,a),a&&l===null&&_&4&&Qv(d),kl(d,d.return);break;case 12:Di(h,d,a);break;case 13:Di(h,d,a),a&&_&4&&t_(h,d);break;case 22:d.memoizedState===null&&Di(h,d,a),kl(d,d.return);break;case 30:break;default:Di(h,d,a)}i=i.sibling}}function tp(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vl(a))}function np(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t))}function _r(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i_(t,i,a,l),i=i.sibling}function i_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:_r(t,i,a,l),h&2048&&Nl(9,i);break;case 1:_r(t,i,a,l);break;case 3:_r(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t)));break;case 12:if(h&2048){_r(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){it(i,i.return,D)}}else _r(t,i,a,l);break;case 13:_r(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?_r(t,i,a,l):Ml(t,i):d._visibility&2?_r(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&tp(_,i);break;case 24:_r(t,i,a,l),h&2048&&np(i.alternate,i);break;default:_r(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,D=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,T,D,h),Nl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?qa(d,_,T,D,h):Ml(d,_):(J._visibility|=2,qa(d,_,T,D,h)),h&&q&2048&&tp(_.alternate,_);break;case 24:qa(d,_,T,D,h),h&&q&2048&&np(_.alternate,_);break;default:qa(d,_,T,D,h)}i=i.sibling}}function Ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Ml(a,l),h&2048&&tp(l.alternate,l);break;case 24:Ml(a,l),h&2048&&np(l.alternate,l);break;default:Ml(a,l)}i=i.sibling}}var Vl=8192;function Ba(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)s_(t),t=t.sibling}function s_(t){switch(t.tag){case 26:Ba(t),t.flags&Vl&&t.memoizedState!==null&&JA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var i=Xn;Xn=Wc(t.stateNode.containerInfo),Ba(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Vl,Vl=16777216,Ba(t),Vl=i):Ba(t));break;default:Ba(t)}}function a_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,l_(l,t)}a_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)o_(t),t=t.sibling}function o_(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Ii(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,zc(t)):Pl(t);break;default:Pl(t)}}function zc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,l_(l,t)}a_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),zc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,zc(i));break;default:zc(i)}t=t.sibling}}function l_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ii(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(Zv(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var pA={getCacheForType:function(t){var i=Zt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},mA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Me=null,je=0,Xe=0,Sn=null,xi=!1,Ha=!1,rp=!1,Jr=0,mt=0,Oi=0,Gs=0,ip=0,qn=0,Fa=0,Ll=null,pn=null,sp=!1,ap=0,jc=1/0,qc=null,Ni=null,$t=0,ki=null,Ga=null,$a=0,op=0,lp=null,u_=null,Ul=0,up=null;function An(){if((Ye&2)!==0&&je!==0)return je&-je;if(X.T!==null){var t=ka;return t!==0?t:gp()}return pi()}function c_(){qn===0&&(qn=(je&536870912)===0||Fe?Ko():536870912);var t=jn.current;return t!==null&&(t.flags|=32),qn}function Rn(t,i,a){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Mi(t,je,qn,!1)),xr(t,a),((Ye&2)===0||t!==st)&&(t===st&&((Ye&2)===0&&(Gs|=a),mt===4&&Mi(t,je,qn,!1)),Er(t))}function h_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ys(t,i),h=l?vA(t,i):fp(t,i,!0),d=l;do{if(h===0){Ha&&!l&&Mi(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!gA(a)){h=fp(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Ll;var D=T.current.memoizedState.isDehydrated;if(D&&(Ka(T,_).flags|=256),_=fp(T,_,!1),_!==2){if(rp&&!D){T.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Mi(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mi(l,i,qn,!xi);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ap+300-xn(),10<h)){if(Mi(l,i,qn,!xi),ca(l,0,!0)!==0)break e;l.timeoutHandle=j_(f_.bind(null,l,a,pn,qc,sp,i,qn,Gs,Fa,xi,d,2,-0,0),h);break e}f_(l,a,pn,qc,sp,i,qn,Gs,Fa,xi,d,0,-0,0)}}break}while(!0);Er(t)}function f_(t,i,a,l,h,d,_,T,D,q,J,te,B,H){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:WA},s_(i),te=ZA(),te!==null)){t.cancelPendingCommit=te(__.bind(null,t,i,d,a,l,h,_,T,D,J,1,B,H)),Mi(t,d,_,!q);return}__(t,i,d,a,l,h,_,T,D)}function gA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mi(t,i,a,l){i&=~ip,i&=~Gs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Jt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&sr(t,a,i)}function Bc(){return(Ye&6)===0?(zl(0),!1):!0}function cp(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,Fr=zs=null,Id(t),za=null,Dl=0,t=Me;for(;t!==null;)Gv(t.alternate,t),t=t.return;Me=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,MA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cp(),st=t,Me=a=qr(t.current,null),je=i,Xe=0,Sn=null,xi=!1,Ha=ys(t,i),rp=!1,Fa=qn=ip=Gs=Oi=mt=0,pn=Ll=null,sp=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Jt(l),d=1<<h;i|=t[h],l&=~d}return Jr=i,cc(),a}function d_(t,i){Oe=null,X.H=Dc,i===El||i===_c?(i=xy(),Xe=3):i===Iy?(i=xy(),Xe=4):Xe=i===Ov?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Me===null&&(mt=1,Mc(t,Pn(i,t.current)))}function p_(){var t=X.H;return X.H=Dc,t===null?Dc:t}function m_(){var t=X.A;return X.A=pA,t}function hp(){mt=4,xi||(je&4194048)!==je&&jn.current!==null||(Ha=!0),(Oi&134217727)===0&&(Gs&134217727)===0||st===null||Mi(st,je,qn,!1)}function fp(t,i,a){var l=Ye;Ye|=2;var h=p_(),d=m_();(st!==t||je!==i)&&(qc=null,Ka(t,i)),i=!1;var _=mt;e:do try{if(Xe!==0&&Me!==null){var T=Me,D=Sn;switch(Xe){case 8:cp(),_=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var q=Xe;if(Xe=0,Sn=null,Qa(t,T,D,q),a&&Ha){_=0;break e}break;default:q=Xe,Xe=0,Sn=null,Qa(t,T,D,q)}}yA(),_=mt;break}catch(J){d_(t,J)}while(!0);return i&&t.shellSuspendCounter++,Fr=zs=null,Ye=l,X.H=h,X.A=d,Me===null&&(st=null,je=0,cc()),_}function yA(){for(;Me!==null;)g_(Me)}function vA(t,i){var a=Ye;Ye|=2;var l=p_(),h=m_();st!==t||je!==i?(qc=null,jc=xn()+500,Ka(t,i)):Ha=ys(t,i);e:do try{if(Xe!==0&&Me!==null){i=Me;var d=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,Qa(t,i,d,1);break;case 2:case 9:if(Cy(d)){Xe=0,Sn=null,y_(i);break}i=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),Er(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Cy(d)?(Xe=0,Sn=null,y_(i)):(Xe=0,Sn=null,Qa(t,i,d,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var T=Me;if(!_||J_(_)){Xe=0,Sn=null;var D=T.sibling;if(D!==null)Me=D;else{var q=T.return;q!==null?(Me=q,Hc(q)):Me=null}break t}}Xe=0,Sn=null,Qa(t,i,d,5);break;case 6:Xe=0,Sn=null,Qa(t,i,d,6);break;case 8:cp(),mt=6;break e;default:throw Error(s(462))}}_A();break}catch(J){d_(t,J)}while(!0);return Fr=zs=null,X.H=l,X.A=h,Ye=a,Me!==null?0:(st=null,je=0,cc(),mt)}function _A(){for(;Me!==null&&!Ho();)g_(Me)}function g_(t){var i=Hv(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,i===null?Hc(t):Me=i}function y_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Lv(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Lv(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Id(i);default:Gv(a,i),i=Me=vy(i,Jr),i=Hv(a,i,Jr)}t.memoizedProps=t.pendingProps,i===null?Hc(t):Me=i}function Qa(t,i,a,l){Fr=zs=null,Id(i),za=null,Dl=0;var h=i.return;try{if(lA(t,h,i,a,je)){mt=1,Mc(t,Pn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;mt=1,Mc(t,Pn(a,t.current)),Me=null;return}i.flags&32768?(Fe||l===1?t=!0:Ha||(je&536870912)!==0?t=!1:(xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(i,t)):Hc(i)}function Hc(t){var i=t;do{if((i.flags&32768)!==0){v_(i,xi);return}t=i.return;var a=cA(i.alternate,i,Jr);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);mt===0&&(mt=5)}function v_(t,i){do{var a=hA(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);mt=6,Me=null}function __(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do Fc();while($t!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=nd,Yo(t,a,d,_,T,D),t===st&&(Me=st=null,je=0),Ga=i,ki=t,$a=a,op=d,lp=h,u_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wA(ds,function(){return S_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=oe.p,oe.p=2,_=Ye,Ye|=4;try{fA(t,i,a)}finally{Ye=_,oe.p=h,X.T=l}}$t=1,E_(),T_(),b_()}}function E_(){if($t===1){$t=0;var t=ki,i=Ga,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{n_(i,t);var d=Sp,_=ly(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&oy(T.ownerDocument.documentElement,T)){if(D!==null&&Wf(T)){var q=D.start,J=D.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var te=T.ownerDocument||document,B=te&&te.defaultView||window;if(B.getSelection){var H=B.getSelection(),we=T.textContent.length,Ee=Math.min(D.start,we),nt=D.end===void 0?Ee:Math.min(D.end,we);!H.extend&&Ee>nt&&(_=nt,nt=Ee,Ee=_);var L=ay(T,Ee),M=ay(T,nt);if(L&&M&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var j=te.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),Ee>nt?(H.addRange(j),H.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),H.addRange(j))}}}}for(te=[],H=T;H=H.parentNode;)H.nodeType===1&&te.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}nh=!!wp,Sp=wp=null}finally{Ye=h,oe.p=l,X.T=a}}t.current=i,$t=2}}function T_(){if($t===2){$t=0;var t=ki,i=Ga,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{Jv(t,i.alternate,i)}finally{Ye=h,oe.p=l,X.T=a}}$t=3}}function b_(){if($t===4||$t===3){$t=0,zu();var t=ki,i=Ga,a=$a,l=u_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,Ga=ki=null,w_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ni=null),ha(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=i,oe.p=h}}($a&3)!==0&&Fc(),Er(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===up?Ul++:(Ul=0,up=t):Ul=0,zl(0)}}function w_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,vl(i)))}function Fc(t){return E_(),T_(),b_(),S_()}function S_(){if($t!==5)return!1;var t=ki,i=op;op=0;var a=ha($a),l=X.T,h=oe.p;try{oe.p=32>a?32:a,X.T=null,a=lp,lp=null;var d=ki,_=$a;if($t=0,Ga=ki=null,$a=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,o_(d.current),i_(d,d.current,_,a),Ye=T,zl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{oe.p=h,X.T=l,w_(t,i)}}function A_(t,i,a){i=Pn(a,i),i=qd(t.stateNode,i,2),t=wi(t,i,2),t!==null&&(xr(t,2),Er(t))}function it(t,i,a){if(t.tag===3)A_(t,t,a);else for(;i!==null;){if(i.tag===3){A_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ni===null||!Ni.has(l))){t=Pn(a,t),a=Dv(2),l=wi(i,a,2),l!==null&&(xv(a,l,i,t),xr(l,2),Er(l));break}}i=i.return}}function dp(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new mA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(rp=!0,h.add(a),t=EA.bind(null,t,i,a),i.then(t,t))}function EA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(je&a)===a&&(mt===4||mt===3&&(je&62914560)===je&&300>xn()-ap?(Ye&2)===0&&Ka(t,0):ip|=a,Fa===je&&(Fa=0)),Er(t)}function R_(t,i){i===0&&(i=Qo()),t=Da(t,i),t!==null&&(xr(t,i),Er(t))}function TA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),R_(t,a)}function bA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),R_(t,a)}function wA(t,i){return hs(t,i)}var Gc=null,Ya=null,pp=!1,$c=!1,mp=!1,$s=0;function Er(t){t!==Ya&&t.next===null&&(Ya===null?Gc=Ya=t:Ya=Ya.next=t),$c=!0,pp||(pp=!0,AA())}function zl(t,i){if(!mp&&$c){mp=!0;do for(var a=!1,l=Gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,x_(l,d))}else d=je,d=ca(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ys(l,d)||(a=!0,x_(l,d));l=l.next}while(a);mp=!1}}function SA(){I_()}function I_(){$c=pp=!1;var t=0;$s!==0&&(kA()&&(t=$s),$s=0);for(var i=xn(),a=null,l=Gc;l!==null;){var h=l.next,d=C_(l,i);d===0?(l.next=null,a===null?Gc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&($c=!0)),l=h}zl(t)}function C_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Jt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=$o(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,a=je,a=ca(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ys(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fs(l),ha(a)){case 2:case 8:a=la;break;case 32:a=ds;break;case 268435456:a=ua;break;default:a=ds}return l=D_.bind(null,t),a=hs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fs(l),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fc()&&t.callbackNode!==a)return null;var l=je;return l=ca(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(h_(t,l,i),C_(t,xn()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function x_(t,i){if(Fc())return null;h_(t,i,!0)}function AA(){VA(function(){(Ye&6)!==0?hs(Fo,SA):I_()})}function gp(){return $s===0&&($s=Ko()),$s}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function N_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function RA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=O_((h[Et]||null).action),_=l.submitter;_&&(i=(i=_[Et]||null)?O_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new va("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var D=_?N_(h,_):new FormData(h);Pd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?N_(h,_):new FormData(h),Pd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var yp=0;yp<td.length;yp++){var vp=td[yp],IA=vp.toLowerCase(),CA=vp[0].toUpperCase()+vp.slice(1);Yn(IA,"on"+CA)}Yn(hy,"onAnimationEnd"),Yn(fy,"onAnimationIteration"),Yn(dy,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(GS,"onTransitionRun"),Yn($S,"onTransitionStart"),Yn(KS,"onTransitionCancel"),Yn(py,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function k_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,q=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){kc(J)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,q=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){kc(J)}h.currentTarget=null,d=D}}}}function Ve(t,i){var a=i[Wo];a===void 0&&(a=i[Wo]=new Set);var l=t+"__bubble";a.has(l)||(M_(i,t,2,!1),a.add(l))}function _p(t,i,a){var l=0;i&&(l|=4),M_(a,t,l,i)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Ep(t){if(!t[Kc]){t[Kc]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(DA.has(a)||_p(a,!1,t),_p(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Kc]||(i[Kc]=!0,_p("selectionchange",!1,i))}}function M_(t,i,a,l){switch(i0(i)){case 2:var h=nR;break;case 8:h=rR;break;default:h=Mp}a=h.bind(null,i,a,t),h=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Tp(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Or(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Yu(function(){var q=d,J=kn(a),te=[];e:{var B=my.get(t);if(B!==void 0){var H=va,we=t;switch(t){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":H=Sa;break;case"focusin":we="focus",H=Ta;break;case"focusout":we="blur",H=Ta;break;case"beforeblur":case"afterblur":H=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=rc;break;case hy:case fy:case dy:H=ba;break;case py:H=sc;break;case"scroll":case"scrollend":H=Xu;break;case"wheel":H=Aa;break;case"copy":case"cut":case"paste":H=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=cl;break;case"toggle":case"beforetoggle":H=oc}var Ee=(i&4)!==0,nt=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?B!==null?B+"Capture":null:B;Ee=[];for(var M=q,j;M!==null;){var Z=M;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||L===null||(Z=As(M,L),Z!=null&&Ee.push(ql(M,Z,j))),nt)break;M=M.return}0<Ee.length&&(B=new H(B,we,null,a,J),te.push({event:B,listeners:Ee}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Vr&&(we=a.relatedTarget||a.fromElement)&&(Or(we)||we[On]))break e;if((H||B)&&(B=J.window===J?J:(B=J.ownerDocument)?B.defaultView||B.parentWindow:window,H?(we=a.relatedTarget||a.toElement,H=q,we=we?Or(we):null,we!==null&&(nt=u(we),Ee=we.tag,we!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(we=null)):(H=null,we=q),H!==we)){if(Ee=Vn,Z="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=cl,Z="onPointerLeave",L="onPointerEnter",M="pointer"),nt=H==null?B:or(H),j=we==null?B:or(we),B=new Ee(Z,M+"leave",H,a,J),B.target=nt,B.relatedTarget=j,Z=null,Or(J)===q&&(Ee=new Ee(L,M+"enter",we,a,J),Ee.target=j,Ee.relatedTarget=nt,Z=Ee),nt=Z,H&&we)t:{for(Ee=H,L=we,M=0,j=Ee;j;j=Xa(j))M++;for(j=0,Z=L;Z;Z=Xa(Z))j++;for(;0<M-j;)Ee=Xa(Ee),M--;for(;0<j-M;)L=Xa(L),j--;for(;M--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=Xa(Ee),L=Xa(L)}Ee=null}else Ee=null;H!==null&&V_(te,B,H,Ee,!1),we!==null&&nt!==null&&V_(te,nt,we,Ee,!0)}}e:{if(B=q?or(q):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var de=ey;else if(Dt(B))if(ty)de=BS;else{de=jS;var ke=zS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?q&&rl(q.elementType)&&(de=ey):de=qS;if(de&&(de=de(t,q))){jr(te,de,a,J);break e}ke&&ke(t,B,q),t==="focusout"&&q&&B.type==="number"&&q.memoizedProps.value!=null&&vi(B,"number",B.value)}switch(ke=q?or(q):window,t){case"focusin":(Dt(ke)||ke.contentEditable==="true")&&(Ra=ke,Jf=q,dl=null);break;case"focusout":dl=Jf=Ra=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,uy(te,a,J);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":uy(te,a,J)}var ve;if(pr)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ue?Q(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(Ue||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ue&&(ve=sl()):(cr=J,_i="value"in cr?cr.value:cr.textContent,Ue=!0)),ke=Qc(q,Te),0<ke.length&&(Te=new ll(Te,t,null,a,J),te.push({event:Te,listeners:ke}),ve?Te.data=ve:(ve=le(a),ve!==null&&(Te.data=ve)))),(ve=y?Ct(t,a):ze(t,a))&&(Te=Qc(q,"onBeforeInput"),0<Te.length&&(ke=new ll("onBeforeInput","beforeinput",null,a,J),te.push({event:ke,listeners:Te}),ke.data=ve)),RA(te,t,q,a,J)}k_(te,i)})}function ql(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(t,a),h!=null&&l.unshift(ql(t,h,d)),h=As(t,i),h!=null&&l.push(ql(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function V_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,q=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||q===null||(D=q,h?(q=As(a,d),q!=null&&_.unshift(ql(a,q,D))):h||(q=As(a,d),q!=null&&_.push(ql(a,q,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var xA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(xA,`
`).replace(OA,"")}function L_(t,i){return i=P_(i),P_(t)===i}function Yc(){}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Nn(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(i!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),yi(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gf.get(a)||a,yi(t,a,l))}}function bp(t,i,a,l,h,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):yi(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,_,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=_=h=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:tt(t,i,l,J,a,null)}}bs(t,d,T,D,q,_,h,!1),ga(t);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:tt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Mr(t,!!l,i,!1):a!=null&&Mr(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:tt(t,i,_,T,a,null)}ws(t,l,h,d),ga(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,i,D,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Ve(jl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,q,l,a,null)}return;default:if(rl(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&bp(t,i,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,i,T,l,a,null))}function NA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,q=null,J=null;for(H in a){var te=a[H];if(a.hasOwnProperty(H)&&te!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(H)||tt(t,i,H,null,l,te)}}for(var B in l){var H=l[B];if(te=a[B],l.hasOwnProperty(B)&&(H!=null||te!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":q=H;break;case"defaultChecked":J=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==te&&tt(t,i,B,H,l,te)}}_n(t,_,T,D,q,J,d,h);return;case"select":H=_=T=B=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&tt(t,i,h,d,l,D)}i=T,a=_,l=H,B!=null?Mr(t,!!a,B,!1):!!l!=!!a&&(i!=null?Mr(t,!!a,i,!0):Mr(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,_,h,l,d)}Ze(t,B,H);return;case"option":for(var we in a)if(B=a[we],a.hasOwnProperty(we)&&B!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:tt(t,i,we,null,l,B)}for(D in l)if(B=l[D],H=a[D],l.hasOwnProperty(D)&&B!==H&&(B!=null||H!=null))switch(D){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:tt(t,i,D,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)B=a[Ee],a.hasOwnProperty(Ee)&&B!=null&&!l.hasOwnProperty(Ee)&&tt(t,i,Ee,null,l,B);for(q in l)if(B=l[q],H=a[q],l.hasOwnProperty(q)&&B!==H&&(B!=null||H!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:tt(t,i,q,B,l,H)}return;default:if(rl(i)){for(var nt in a)B=a[nt],a.hasOwnProperty(nt)&&B!==void 0&&!l.hasOwnProperty(nt)&&bp(t,i,nt,void 0,l,B);for(J in l)B=l[J],H=a[J],!l.hasOwnProperty(J)||B===H||B===void 0&&H===void 0||bp(t,i,J,B,l,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&tt(t,i,L,null,l,B);for(te in l)B=l[te],H=a[te],!l.hasOwnProperty(te)||B===H||B==null&&H==null||tt(t,i,te,B,l,H)}var wp=null,Sp=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function U_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ap(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rp=null;function kA(){var t=window.event;return t&&t.type==="popstate"?t===Rp?!1:(Rp=t,!0):(Rp=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,VA=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(t){return q_.resolve(null).then(t).catch(PA)}:j_;function PA(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function B_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&Bl(_.documentElement),a&2&&Bl(_.body),a&4)for(a=_.head,Bl(a),_=a.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[vs]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),Xl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Xl(i)}function Ip(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ip(a),gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function UA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function Cp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function zA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Dp=null;function H_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function F_(t,i,a){switch(i=Xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);gi(t)}var Bn=new Map,G_=new Set;function Wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zr=oe.d;oe.d={f:jA,r:qA,D:BA,C:HA,L:FA,m:GA,X:KA,S:$A,M:QA};function jA(){var t=Zr.f(),i=Bc();return t||i}function qA(t){var i=ar(t);i!==null&&i.tag===5&&i.type==="form"?hv(i):Zr.r(t)}var Wa=typeof document>"u"?null:document;function $_(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=Tt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),G_.has(h)||(G_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),gt(i),l.head.appendChild(i)))}}function BA(t){Zr.D(t),$_("dns-prefetch",t,null)}function HA(t,i){Zr.C(t,i),$_("preconnect",t,i)}function FA(t,i,a){Zr.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}Bn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Hl(d))||i==="script"&&l.querySelector(Fl(d))||(i=l.createElement("link"),Kt(i,"link",t),gt(i),l.head.appendChild(i)))}}function GA(t,i){Zr.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Bn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),Kt(l,"link",t),gt(l),a.head.appendChild(l)}}}function $A(t,i,a){Zr.S(t,i,a);var l=Wa;if(l&&t){var h=an(l).hoistableStyles,d=Ja(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Hl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&xp(t,a);var D=_=l.createElement("link");gt(D),Kt(D,"link",t),D._p=new Promise(function(q,J){D.onload=q,D.onerror=J}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Jc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function KA(t,i){Zr.X(t,i);var a=Wa;if(a&&t){var l=an(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(t=E({src:t,async:!0},i),(i=Bn.get(h))&&Op(t,i),d=a.createElement("script"),gt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function QA(t,i){Zr.M(t,i);var a=Wa;if(a&&t){var l=an(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&Op(t,i),d=a.createElement("script"),gt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function K_(t,i,a,l){var h=(h=ye.current)?Wc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=an(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=an(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Hl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||YA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=an(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+Tt(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function Q_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function YA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),gt(i),t.head.appendChild(i))}function Za(t){return'[src="'+Tt(t)+'"]'}function Fl(t){return"script[async]"+t}function Y_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return i.instance=l,gt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),gt(l),Kt(l,"style",h),Jc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Hl(h));if(d)return i.state.loading|=4,i.instance=d,gt(d),d;l=Q_(a),(h=Bn.get(h))&&xp(l,h),d=(t.ownerDocument||t).createElement("link"),gt(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Kt(d,"link",l),i.state.loading|=4,Jc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Fl(d)))?(i.instance=h,gt(h),h):(l=a,(h=Bn.get(d))&&(l=E({},a),Op(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),gt(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jc(l,a.precedence,t));return i.instance}function Jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function xp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Op(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Zc=null;function X_(t,i,a){if(Zc===null){var l=new Map,h=Zc=new Map;h.set(a,l)}else h=Zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vs]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function W_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function XA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Gl=null;function WA(){}function JA(t,i,a){if(Gl===null)throw Error(s(475));var l=Gl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ja(a.href),d=t.querySelector(Hl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=eh.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,gt(d);return}d=t.ownerDocument||t,a=Q_(a),(h=Bn.get(h))&&xp(a,h),d=d.createElement("link"),gt(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Kt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=eh.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function ZA(){if(Gl===null)throw Error(s(475));var t=Gl;return t.stylesheets&&t.count===0&&Np(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Np(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function eh(){if(this.count--,this.count===0){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function Np(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,i.forEach(eR,t),th=null,eh.call(t))}function eR(t,i){if(!(i.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=eh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var $l={$$typeof:K,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function tR(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Z_(t,i,a,l,h,d,_,T,D,q,J,te){return t=new tR(t,i,a,_,T,D,q,te),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=dd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},yd(d),t}function e0(t){return t?(t=xa,t):xa}function t0(t,i,a,l,h,d){h=e0(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wi(t,l,i),a!==null&&(Rn(a,t,i),bl(a,t,i))}function n0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function kp(t,i){n0(t,i),(t=t.alternate)&&n0(t,i)}function r0(t){if(t.tag===13){var i=Da(t,67108864);i!==null&&Rn(i,t,67108864),kp(t,67108864)}}var nh=!0;function nR(t,i,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=2,Mp(t,i,a,l)}finally{oe.p=d,X.T=h}}function rR(t,i,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=8,Mp(t,i,a,l)}finally{oe.p=d,X.T=h}}function Mp(t,i,a,l){if(nh){var h=Vp(l);if(h===null)Tp(t,i,l,rh,a),s0(t,l);else if(sR(h,t,i,a,l))l.stopPropagation();else if(s0(t,l),i&4&&-1<iR.indexOf(t)){for(;h!==null;){var d=ar(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=$n(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-Jt(_);T.entanglements[1]|=D,_&=~D}Er(d),(Ye&6)===0&&(jc=xn()+500,zl(0))}}break;case 13:T=Da(d,2),T!==null&&Rn(T,d,2),Bc(),kp(d,2)}if(d=Vp(l),d===null&&Tp(t,i,l,rh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Tp(t,i,l,null,a)}}function Vp(t){return t=kn(t),Pp(t)}var rh=null;function Pp(t){if(rh=null,t=Or(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rh=t,null}function i0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zf()){case Fo:return 2;case la:return 8;case ds:case jf:return 32;case ua:return 268435456;default:return 32}default:return 32}}var Lp=!1,Pi=null,Li=null,Ui=null,Kl=new Map,Ql=new Map,zi=[],iR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s0(t,i){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(i.pointerId)}}function Yl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ar(i),i!==null&&r0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function sR(t,i,a,l,h){switch(i){case"focusin":return Pi=Yl(Pi,t,i,a,l,h),!0;case"dragenter":return Li=Yl(Li,t,i,a,l,h),!0;case"mouseover":return Ui=Yl(Ui,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,Yl(Kl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ql.set(d,Yl(Ql.get(d)||null,t,i,a,l,h)),!0}return!1}function a0(t){var i=Or(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Bu(t.priority,function(){if(a.tag===13){var l=An();l=di(l);var h=Da(a,l);h!==null&&Rn(h,a,l),kp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Vp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vr=l,a.target.dispatchEvent(l),Vr=null}else return i=ar(a),i!==null&&r0(i),t.blockedOn=a,!1;i.shift()}return!0}function o0(t,i,a){ih(t)&&a.delete(i)}function aR(){Lp=!1,Pi!==null&&ih(Pi)&&(Pi=null),Li!==null&&ih(Li)&&(Li=null),Ui!==null&&ih(Ui)&&(Ui=null),Kl.forEach(o0),Ql.forEach(o0)}function sh(t,i){t.blockedOn===i&&(t.blockedOn=null,Lp||(Lp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aR)))}var ah=null;function l0(t){ah!==t&&(ah=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ah===t&&(ah=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Pp(l||a)===null)continue;break}var d=ar(a);d!==null&&(t.splice(i,3),i-=3,Pd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xl(t){function i(D){return sh(D,t)}Pi!==null&&sh(Pi,t),Li!==null&&sh(Li,t),Ui!==null&&sh(Ui,t),Kl.forEach(i),Ql.forEach(i);for(var a=0;a<zi.length;a++){var l=zi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zi.length&&(a=zi[0],a.blockedOn===null);)a0(a),a.blockedOn===null&&zi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Et]||null;if(typeof d=="function")_||l0(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Et]||null)T=_.formAction;else if(Pp(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),l0(a)}}}function Up(t){this._internalRoot=t}oh.prototype.render=Up.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();t0(a,l,t,i,null,null)},oh.prototype.unmount=Up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t0(t.current,2,null,t,null,null),Bc(),i[On]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var i=pi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zi.length&&i!==0&&i<zi[a].priority;a++);zi.splice(a,0,t),a===0&&a0(t)}};var u0=e.version;if(u0!=="19.1.0")throw Error(s(527,u0,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var oR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{dt=lh.inject(oR),Qe=lh}catch{}}return Jl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Av,d=Rv,_=Iv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Z_(t,1,!1,null,null,a,l,h,d,_,T,null),t[On]=i.current,Ep(t),new Up(i)},Jl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Av,_=Rv,T=Iv,D=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=Z_(t,1,!0,i,a??null,l,h,d,_,T,D,q),i.context=e0(null),a=i.current,l=An(),l=di(l),h=bi(l),h.callback=null,wi(a,h,l),a=l,i.current.lanes=a,xr(i,a),Er(i),t[On]=i.current,Ep(t),new oh(i)},Jl.version="19.1.0",Jl}var _0;function yR(){if(_0)return qp.exports;_0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qp.exports=gR(),qp.exports}var vR=yR();const _R=ET(vR);var Zl={},E0;function ER(){if(E0)return Zl;E0=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.parse=f,Zl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,O){const k=new u,G=S.length;if(G<2)return k;const z=(O==null?void 0:O.decode)||E;let $=0;do{const W=S.indexOf("=",$);if(W===-1)break;const K=S.indexOf(";",$),ue=K===-1?G:K;if(W>ue){$=S.lastIndexOf(";",W-1)+1;continue}const ae=p(S,$,W),ce=m(S,W,ae),C=S.slice(ae,ce);if(k[C]===void 0){let A=p(S,W+1,ue),R=m(S,ue,A);const N=z(S.slice(A,R));k[C]=N}$=ue+1}while($<G);return k}function p(S,O,k){do{const G=S.charCodeAt(O);if(G!==32&&G!==9)return O}while(++O<k);return k}function m(S,O,k){for(;O>k;){const G=S.charCodeAt(--O);if(G!==32&&G!==9)return O+1}return k}function g(S,O,k){const G=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=G(O);if(!e.test(z))throw new TypeError(`argument val is invalid: ${O}`);let $=S+"="+z;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return Zl}ER();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T0="popstate";function TR(r={}){function e(o,u){let{pathname:f="/",search:p="",hash:m=""}=ra(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),hm("",{pathname:f,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");p=g===-1?m:m.slice(0,g)}return p+"#"+(typeof u=="string"?u:pu(u))}function s(o,u){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return wR(e,n,s,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bR(){return Math.random().toString(36).substring(2,10)}function b0(r,e){return{usr:r.state,key:r.key,idx:e}}function hm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:n,key:e&&e.key||s||bR()}}function pu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ra(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function wR(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){p="POP";let z=E(),$=z==null?null:z-g;g=z,m&&m({action:p,location:G.location,delta:$})}function S(z,$){p="PUSH";let W=hm(G.location,z,$);n&&n(W,z),g=E()+1;let K=b0(W,g),ue=G.createHref(W);try{f.pushState(K,"",ue)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ue)}u&&m&&m({action:p,location:G.location,delta:1})}function O(z,$){p="REPLACE";let W=hm(G.location,z,$);n&&n(W,z),g=E();let K=b0(W,g),ue=G.createHref(W);f.replaceState(K,"",ue),u&&m&&m({action:p,location:G.location,delta:0})}function k(z){let $=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof z=="string"?z:pu(z);return W=W.replace(/ $/,"%20"),ct($,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,$)}let G={get action(){return p},get location(){return r(o,f)},listen(z){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(T0,w),m=z,()=>{o.removeEventListener(T0,w),m=null}},createHref(z){return e(o,z)},createURL:k,encodeLocation(z){let $=k(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:O,go(z){return f.go(z)}};return G}function TT(r,e,n="/"){return SR(r,e,n,!1)}function SR(r,e,n,s){let o=typeof e=="string"?ra(e):e,u=ai(o.pathname||"/",n);if(u==null)return null;let f=bT(r);AR(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=PR(u);p=MR(f[m],g,s)}return p}function bT(r,e=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ct(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ri([s,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:NR(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of wT(u.path))o(u,f,m)}),e}function wT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=wT(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function AR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:kR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RR=/^:[\w-]+$/,IR=3,CR=2,DR=1,xR=10,OR=-2,w0=r=>r==="*";function NR(r,e){let n=r.split("/"),s=n.length;return n.some(w0)&&(s+=OR),e&&(s+=CR),n.filter(o=>!w0(o)).reduce((o,u)=>o+(RR.test(u)?IR:u===""?DR:xR),s)}function kR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function MR(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Ph({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),S=m.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Ph({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ri([u,w.pathname]),pathnameBase:jR(ri([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=ri([u,w.pathnameBase]))}return f}function Ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=VR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},S)=>{if(E==="*"){let k=p[S]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const O=p[S];return w&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function VR(r,e=!1,n=!0){Fn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function PR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ai(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function LR(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ra(r):r;return{pathname:n?n.startsWith("/")?n:UR(n,e):e,search:qR(s),hash:BR(o)}}function UR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Gp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ym(r){let e=zR(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Xm(r,e,n,s=!1){let o;typeof r=="string"?o=ra(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),Gp("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Gp("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Gp("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}p=w>=0?e[w]:"/"}let m=LR(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var ri=r=>r.join("/").replace(/\/\/+/g,"/"),jR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,BR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function HR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ST=["POST","PUT","PATCH","DELETE"];new Set(ST);var FR=["GET",...ST];new Set(FR);var Do=F.createContext(null);Do.displayName="DataRouter";var uf=F.createContext(null);uf.displayName="DataRouterState";var AT=F.createContext({isTransitioning:!1});AT.displayName="ViewTransition";var GR=F.createContext(new Map);GR.displayName="Fetchers";var $R=F.createContext(null);$R.displayName="Await";var rr=F.createContext(null);rr.displayName="Navigation";var wu=F.createContext(null);wu.displayName="Location";var ir=F.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var Wm=F.createContext(null);Wm.displayName="RouteError";function KR(r,{relative:e}={}){ct(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(rr),{hash:o,pathname:u,search:f}=Su(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ri([n,u])),s.createHref({pathname:p,search:f,hash:o})}function xo(){return F.useContext(wu)!=null}function as(){return ct(xo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(wu).location}var RT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IT(r){F.useContext(rr).static||F.useLayoutEffect(r)}function Oo(){let{isDataRoute:r}=F.useContext(ir);return r?o1():QR()}function QR(){ct(xo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(Do),{basename:e,navigator:n}=F.useContext(rr),{matches:s}=F.useContext(ir),{pathname:o}=as(),u=JSON.stringify(Ym(s)),f=F.useRef(!1);return IT(()=>{f.current=!0}),F.useCallback((m,g={})=>{if(Fn(f.current,RT),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=Xm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ri([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}F.createContext(null);function YR(){let{matches:r}=F.useContext(ir),e=r[r.length-1];return e?e.params:{}}function Su(r,{relative:e}={}){let{matches:n}=F.useContext(ir),{pathname:s}=as(),o=JSON.stringify(Ym(n));return F.useMemo(()=>Xm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function XR(r,e){return CT(r,e)}function CT(r,e,n,s){var W;ct(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(rr),{matches:f}=F.useContext(ir),p=f[f.length-1],m=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",w=p&&p.route;{let K=w&&w.path||"";DT(g,!w||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let S=as(),O;if(e){let K=typeof e=="string"?ra(e):e;ct(E==="/"||((W=K.pathname)==null?void 0:W.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),O=K}else O=S;let k=O.pathname||"/",G=k;if(E!=="/"){let K=E.replace(/^\//,"").split("/");G="/"+k.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:TT(r,{pathname:G});Fn(w||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Fn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=t1(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:ri([E,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:ri([E,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,s);return e&&$?F.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function WR(){let r=a1(),e=HR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var JR=F.createElement(WR,null),ZR=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(ir.Provider,{value:this.props.routeContext},F.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e1({routeContext:r,match:e,children:n}){let s=F.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ir.Provider,{value:r},n)}function t1(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:w}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let w,S=!1,O=null,k=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||JR,f&&(p<0&&E===0?(DT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):p===E&&(S=!0,k=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),z=()=>{let $;return w?$=O:S?$=k:g.route.Component?$=F.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=m,F.createElement(e1,{match:g,routeContext:{outlet:m,matches:G,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?F.createElement(ZR,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:z(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):z()},null)}function Jm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(r){let e=F.useContext(Do);return ct(e,Jm(r)),e}function r1(r){let e=F.useContext(uf);return ct(e,Jm(r)),e}function i1(r){let e=F.useContext(ir);return ct(e,Jm(r)),e}function Zm(r){let e=i1(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function s1(){return Zm("useRouteId")}function a1(){var s;let r=F.useContext(Wm),e=r1("useRouteError"),n=Zm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function o1(){let{router:r}=n1("useNavigate"),e=Zm("useNavigate"),n=F.useRef(!1);return IT(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Fn(n.current,RT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var S0={};function DT(r,e,n){!e&&!S0[r]&&(S0[r]=!0,Fn(!1,n))}F.memo(l1);function l1({routes:r,future:e,state:n}){return CT(r,void 0,n,e)}function u1({to:r,replace:e,state:n,relative:s}){ct(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(rr);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(ir),{pathname:f}=as(),p=Oo(),m=Xm(r,Ym(u),f,s==="path"),g=JSON.stringify(m);return F.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function to(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ra(n));let{pathname:m="/",search:g="",hash:E="",state:w=null,key:S="default"}=n,O=F.useMemo(()=>{let k=ai(m,f);return k==null?null:{location:{pathname:k,search:g,hash:E,state:w,key:S},navigationType:s}},[f,m,g,E,w,S,s]);return Fn(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:F.createElement(rr.Provider,{value:p},F.createElement(wu.Provider,{children:e,value:O}))}function h1({children:r,location:e}){return XR(fm(r),e)}function fm(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,fm(s.props.children,u));return}ct(s.type===to,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=fm(s.props.children,u)),n.push(f)}),n}var _h="get",Eh="application/x-www-form-urlencoded";function cf(r){return r!=null&&typeof r.tagName=="string"}function f1(r){return cf(r)&&r.tagName.toLowerCase()==="button"}function d1(r){return cf(r)&&r.tagName.toLowerCase()==="form"}function p1(r){return cf(r)&&r.tagName.toLowerCase()==="input"}function m1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function g1(r,e){return r.button===0&&(!e||e==="_self")&&!m1(r)}var uh=null;function y1(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var v1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(r){return r!=null&&!v1.has(r)?(Fn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):r}function _1(r,e){let n,s,o,u,f;if(d1(r)){let p=r.getAttribute("action");s=p?ai(p,e):null,n=r.getAttribute("method")||_h,o=$p(r.getAttribute("enctype"))||Eh,u=new FormData(r)}else if(f1(r)||p1(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?ai(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||_h,o=$p(r.getAttribute("formenctype"))||$p(p.getAttribute("enctype"))||Eh,u=new FormData(p,r),!y1()){let{name:g,type:E,value:w}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(cf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,o=Eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function eg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function E1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function b1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await E1(u,n);return f.links?f.links():[]}return[]}));return R1(s.flat(1).filter(T1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A0(r,e,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var E;return n[g].pathname!==m.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var w;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function w1(r,e,{includeHydrateFallback:n}={}){return S1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function S1(r){return[...new Set(r)]}function A1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function R1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(A1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function I1(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&ai(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function xT(){let r=F.useContext(Do);return eg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function C1(){let r=F.useContext(uf);return eg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tg=F.createContext(void 0);tg.displayName="FrameworkContext";function OT(){let r=F.useContext(tg);return eg(r,"You must render this element inside a <HydratedRouter> element"),r}function D1(r,e){let n=F.useContext(tg),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,S=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=$=>{$.forEach(W=>{f(W.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[r]),F.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let O=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:eu(p,O),onBlur:eu(m,k),onMouseEnter:eu(g,O),onMouseLeave:eu(E,k),onTouchStart:eu(w,O)}]:[!1,S,{}]}function eu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function x1({page:r,...e}){let{router:n}=xT(),s=F.useMemo(()=>TT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(N1,{page:r,matches:s,...e}):null}function O1(r){let{manifest:e,routeModules:n}=OT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return b1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function N1({page:r,matches:e,...n}){let s=as(),{manifest:o,routeModules:u}=OT(),{basename:f}=xT(),{loaderData:p,matches:m}=C1(),g=F.useMemo(()=>A0(r,e,m,o,s,"data"),[r,e,m,o,s]),E=F.useMemo(()=>A0(r,e,m,o,s,"assets"),[r,e,m,o,s]),w=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,G=!1;if(e.forEach($=>{var K;let W=o.routes[$.route.id];!W||!W.hasLoader||(!g.some(ue=>ue.route.id===$.route.id)&&$.route.id in p&&((K=u[$.route.id])!=null&&K.shouldRevalidate)||W.hasClientLoader?G=!0:k.add($.route.id))}),k.size===0)return[];let z=I1(r,f);return G&&k.size>0&&z.searchParams.set("_routes",e.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[f,p,s,o,g,e,r,u]),S=F.useMemo(()=>w1(E,o),[E,o]),O=O1(E);return F.createElement(F.Fragment,null,w.map(k=>F.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>F.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),O.map(({key:k,link:G})=>F.createElement("link",{key:k,...G})))}function k1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NT&&(window.__reactRouterVersion="7.5.0")}catch{}function M1({basename:r,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=TR({window:n,v5Compat:!0}));let o=s.current,[u,f]=F.useState({action:o.action,location:o.location}),p=F.useCallback(m=>{F.startTransition(()=>f(m))},[f]);return F.useLayoutEffect(()=>o.listen(p),[o,p]),F.createElement(c1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,No=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:E,viewTransition:w,...S},O){let{basename:k}=F.useContext(rr),G=typeof g=="string"&&kT.test(g),z,$=!1;if(typeof g=="string"&&G&&(z=g,NT))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=ai(N.pathname,k);N.origin===R.origin&&V!=null?g=V+N.search+N.hash:$=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=KR(g,{relative:o}),[K,ue,ae]=D1(s,S),ce=U1(g,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:w});function C(R){e&&e(R),R.defaultPrevented||ce(R)}let A=F.createElement("a",{...S,...ae,href:z||W,onClick:$||u?e:C,ref:k1(O,ue),target:m,"data-discover":!G&&n==="render"?"true":void 0});return K&&!G?F.createElement(F.Fragment,null,A,F.createElement(x1,{page:W})):A});No.displayName="Link";var V1=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},E){let w=Su(f,{relative:g.relative}),S=as(),O=F.useContext(uf),{navigator:k,basename:G}=F.useContext(rr),z=O!=null&&H1(w)&&p===!0,$=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,W=S.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(W=W.toLowerCase(),K=K?K.toLowerCase():null,$=$.toLowerCase()),K&&G&&(K=ai(K,G)||K);const ue=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ae=W===$||!o&&W.startsWith($)&&W.charAt(ue)==="/",ce=K!=null&&(K===$||!o&&K.startsWith($)&&K.charAt($.length)==="/"),C={isActive:ae,isPending:ce,isTransitioning:z},A=ae?e:void 0,R;typeof s=="function"?R=s(C):R=[s,ae?"active":null,ce?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(C):u;return F.createElement(No,{...g,"aria-current":A,className:R,ref:E,style:N,to:f,viewTransition:p},typeof m=="function"?m(C):m)});V1.displayName="NavLink";var P1=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=_h,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:w,...S},O)=>{let k=q1(),G=B1(p,{relative:g}),z=f.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&kT.test(p),W=K=>{if(m&&m(K),K.defaultPrevented)return;K.preventDefault();let ue=K.nativeEvent.submitter,ae=(ue==null?void 0:ue.getAttribute("formmethod"))||f;k(ue||K.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return F.createElement("form",{ref:O,method:z,action:G,onSubmit:s?m:W,...S,"data-discover":!$&&r==="render"?"true":void 0})});P1.displayName="Form";function L1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(r){let e=F.useContext(Do);return ct(e,L1(r)),e}function U1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Oo(),m=as(),g=Su(r,{relative:u});return F.useCallback(E=>{if(g1(E,e)){E.preventDefault();let w=n!==void 0?n:pu(m)===pu(g);p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,e,r,o,u,f])}var z1=0,j1=()=>`__${String(++z1)}__`;function q1(){let{router:r}=MT("useSubmit"),{basename:e}=F.useContext(rr),n=s1();return F.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=_1(s,e);if(o.navigate===!1){let E=o.fetcherKey||j1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function B1(r,{relative:e}={}){let{basename:n}=F.useContext(rr),s=F.useContext(ir);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},f=as();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(w=>w).forEach(w=>p.append("index",w));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ri([n,u.pathname])),pu(u)}function H1(r,e={}){let n=F.useContext(AT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=MT("useViewTransitionState"),o=Su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ai(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ai(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,f)!=null||Ph(o.pathname,u)!=null}new TextEncoder;const F1=()=>{};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},G1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},PT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,w=(u&3)<<4|p>>4;let S=(p&15)<<2|g>>6,O=g&63;m||(O=64,f||(S=64)),s.push(n[E],n[w],n[S],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(VT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):G1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||w==null)throw new $1;const S=u<<2|p>>4;if(s.push(S),g!==64){const O=p<<4&240|g>>2;if(s.push(O),w!==64){const k=g<<6&192|w;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K1=function(r){const e=VT(r);return PT.encodeByteArray(e,!0)},Lh=function(r){return K1(r).replace(/\./g,"")},LT=function(r){try{return PT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=()=>Q1().__FIREBASE_DEFAULTS__,X1=()=>{if(typeof process>"u"||typeof R0>"u")return;const r=R0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},W1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&LT(r[1]);return e&&JSON.parse(e)},hf=()=>{try{return F1()||Y1()||X1()||W1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UT=r=>{var e,n;return(n=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},J1=r=>{const e=UT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},zT=()=>{var r;return(r=hf())===null||r===void 0?void 0:r.config},jT=r=>{var e;return(e=hf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lh(JSON.stringify(n)),Lh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function nI(){var r;const e=(r=hf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aI(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oI(){return!nI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lI(){try{return typeof indexedDB=="object"}catch{return!1}}function uI(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="FirebaseError";class fi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cI,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?hI(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new fi(o,p,s)}}function hI(r,e){return r.replace(fI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fI=/\{\$([^}]+)}/g;function dI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function oi(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(I0(u)&&I0(f)){if(!oi(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function I0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function nu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function pI(r,e){const n=new mI(r,e);return n.subscribe.bind(n)}class mI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Kp),o.error===void 0&&(o.error=Kp),o.complete===void 0&&(o.complete=Kp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(r){return r&&r._delegate?r._delegate:r}class Js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Z1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_I(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vI(r){return r===Ks?void 0:r}function _I(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const TI={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},bI=Pe.INFO,wI={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},SI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=wI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ng{constructor(e){this.name=e,this._logLevel=bI,this._logHandler=SI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const AI=(r,e)=>e.some(n=>r instanceof n);let C0,D0;function RI(){return C0||(C0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function II(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,dm=new WeakMap,BT=new WeakMap,Qp=new WeakMap,rg=new WeakMap;function CI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&qT.set(n,r)}).catch(()=>{}),rg.set(e,r),e}function DI(r){if(dm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});dm.set(r,e)}let pm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||BT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xI(r){pm=r(pm)}function OI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Yp(this),e,...n);return BT.set(s,e.sort?e.sort():[e]),Qi(s)}:II().includes(r)?function(...e){return r.apply(Yp(this),e),Qi(qT.get(this))}:function(...e){return Qi(r.apply(Yp(this),e))}}function NI(r){return typeof r=="function"?OI(r):(r instanceof IDBTransaction&&DI(r),AI(r,RI())?new Proxy(r,pm):r)}function Qi(r){if(r instanceof IDBRequest)return CI(r);if(Qp.has(r))return Qp.get(r);const e=NI(r);return e!==r&&(Qp.set(r,e),rg.set(e,r)),e}const Yp=r=>rg.get(r);function kI(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Qi(f);return s&&f.addEventListener("upgradeneeded",m=>{s(Qi(f.result),m.oldVersion,m.newVersion,Qi(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const MI=["get","getKey","getAll","getAllKeys","count"],VI=["put","add","delete","clear"],Xp=new Map;function x0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MI.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Xp.set(e,u),u}xI(r=>({...r,get:(e,n,s)=>x0(e,n)||r.get(e,n,s),has:(e,n)=>!!x0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mm="@firebase/app",O0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new ng("@firebase/app"),UI="@firebase/app-compat",zI="@firebase/analytics-compat",jI="@firebase/analytics",qI="@firebase/app-check-compat",BI="@firebase/app-check",HI="@firebase/auth",FI="@firebase/auth-compat",GI="@firebase/database",$I="@firebase/data-connect",KI="@firebase/database-compat",QI="@firebase/functions",YI="@firebase/functions-compat",XI="@firebase/installations",WI="@firebase/installations-compat",JI="@firebase/messaging",ZI="@firebase/messaging-compat",eC="@firebase/performance",tC="@firebase/performance-compat",nC="@firebase/remote-config",rC="@firebase/remote-config-compat",iC="@firebase/storage",sC="@firebase/storage-compat",aC="@firebase/firestore",oC="@firebase/vertexai",lC="@firebase/firestore-compat",uC="firebase",cC="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",hC={[mm]:"fire-core",[UI]:"fire-core-compat",[jI]:"fire-analytics",[zI]:"fire-analytics-compat",[BI]:"fire-app-check",[qI]:"fire-app-check-compat",[HI]:"fire-auth",[FI]:"fire-auth-compat",[GI]:"fire-rtdb",[$I]:"fire-data-connect",[KI]:"fire-rtdb-compat",[QI]:"fire-fn",[YI]:"fire-fn-compat",[XI]:"fire-iid",[WI]:"fire-iid-compat",[JI]:"fire-fcm",[ZI]:"fire-fcm-compat",[eC]:"fire-perf",[tC]:"fire-perf-compat",[nC]:"fire-rc",[rC]:"fire-rc-compat",[iC]:"fire-gcs",[sC]:"fire-gcs-compat",[aC]:"fire-fst",[lC]:"fire-fst-compat",[oC]:"fire-vertex","fire-js":"fire-js",[uC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,fC=new Map,ym=new Map;function N0(r,e){try{r.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function po(r){const e=r.name;if(ym.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,r);for(const n of Uh.values())N0(n,r);for(const n of fC.values())N0(n,r);return!0}function ig(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Au("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=cC;function HT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:gm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Yi.create("bad-app-name",{appName:String(o)});if(n||(n=zT()),!n)throw Yi.create("no-options");const u=Uh.get(o);if(u){if(oi(n,u.options)&&oi(s,u.config))return u;throw Yi.create("duplicate-app",{appName:o})}const f=new EI(o);for(const m of ym.values())f.addComponent(m);const p=new pC(n,s,f);return Uh.set(o,p),p}function FT(r=gm){const e=Uh.get(r);if(!e&&r===gm&&zT())return HT();if(!e)throw Yi.create("no-app",{appName:r});return e}function Xi(r,e,n){var s;let o=(s=hC[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(p.join(" "));return}po(new Js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="firebase-heartbeat-database",gC=1,mu="firebase-heartbeat-store";let Wp=null;function GT(){return Wp||(Wp=kI(mC,gC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Yi.create("idb-open",{originalErrorMessage:r.message})})),Wp}async function yC(r){try{const n=(await GT()).transaction(mu),s=await n.objectStore(mu).get($T(r));return await n.done,s}catch(e){if(e instanceof fi)li.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function k0(r,e){try{const s=(await GT()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,$T(r)),await s.done}catch(n){if(n instanceof fi)li.warn(n.message);else{const s=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(s.message)}}}function $T(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1024,_C=30;class EC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=M0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_C){const f=wC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){li.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M0(),{heartbeatsToSend:s,unsentEntries:o}=TC(this._heartbeatsCache.heartbeats),u=Lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return li.warn(n),""}}}function M0(){return new Date().toISOString().substring(0,10)}function TC(r,e=vC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),V0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),V0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lI()?uI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return k0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return k0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function V0(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function wC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){po(new Js("platform-logger",e=>new PI(e),"PRIVATE")),po(new Js("heartbeat",e=>new EC(e),"PRIVATE")),Xi(mm,O0,r),Xi(mm,O0,"esm2017"),Xi("fire-js","")}SC("");var yn=function(){return yn=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},yn.apply(this,arguments)};function sg(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function zh(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))}function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AC=KT,QT=new Au("auth","Firebase",KT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new ng("@firebase/auth");function RC(r,...e){jh.logLevel<=Pe.WARN&&jh.warn(`Auth (${ko}): ${r}`,...e)}function Th(r,...e){jh.logLevel<=Pe.ERROR&&jh.error(`Auth (${ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(r,...e){throw ag(r,...e)}function wr(r,...e){return ag(r,...e)}function YT(r,e,n){const s=Object.assign(Object.assign({},AC()),{[e]:n});return new Au("auth","Firebase",s).create(e,{appName:r.name})}function ii(r){return YT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return QT.create(r,...e)}function be(r,e,...n){if(!r)throw ag(e,...n)}function ti(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function ui(r,e){r||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function IC(){return P0()==="http:"||P0()==="https:"}function P0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||iI()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=tI()||sI()}get(){return CC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,e){ui(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NC=new Iu(3e4,6e4);function os(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ls(r,e,n,s,o={}){return WT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Ru(Object.assign({key:r.config.apiKey},f)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return rI()||(g.referrerPolicy="no-referrer"),XT.fetch()(await JT(r,r.config.apiHost,n,p),g)})}async function WT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},xC),e);try{const o=new MC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ch(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw ch(r,"user-disabled",f);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw YT(r,E,g);tr(r,E)}}catch(o){if(o instanceof fi)throw o;tr(r,"network-request-failed",{message:String(o)})}}async function Cu(r,e,n,s,o={}){const u=await ls(r,e,n,s,o);return"mfaPendingCredential"in u&&tr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function JT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?og(r.config,o):`${r.config.apiScheme}://${o}`;return OC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function kC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(wr(this.auth,"network-request-failed")),NC.get())})}}function ch(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=wr(r,e,s);return o.customData._tokenResponse=n,o}function L0(r){return r!==void 0&&r.enterprise!==void 0}class VC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PC(r,e){return ls(r,"GET","/v2/recaptchaConfig",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(r,e){return ls(r,"POST","/v1/accounts:delete",e)}async function qh(r,e){return ls(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UC(r,e=!1){const n=Bt(r),s=await n.getIdToken(e),o=lg(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:lu(Jp(o.auth_time)),issuedAtTime:lu(Jp(o.iat)),expirationTime:lu(Jp(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Jp(r){return Number(r)*1e3}function lg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=LT(n);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function U0(r){const e=lg(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fi&&zC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function zC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await gu(r,qh(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ZT(u.providerUserInfo):[],p=BC(r.providerData,f),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=m?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new _m(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function qC(r){const e=Bt(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ZT(r){return r.map(e=>{var{providerId:n}=e,s=sg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(r,e){const n=await WT(r,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await JT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",XT.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FC(r,e){return ls(r,"POST","/v2/accounts:revokeToken",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=U0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new _m(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UC(this,e)}reload(){return qC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await gu(this,LC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,m,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(p=n.tenantId)!==null&&p!==void 0?p:void 0,z=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,W=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:ue,isAnonymous:ae,providerData:ce,stsTokenManager:C}=n;be(K&&C,e,"internal-error");const A=lo.fromJSON(this.name,C);be(typeof K=="string",e,"internal-error"),qi(w,e.name),qi(S,e.name),be(typeof ue=="boolean",e,"internal-error"),be(typeof ae=="boolean",e,"internal-error"),qi(O,e.name),qi(k,e.name),qi(G,e.name),qi(z,e.name),qi($,e.name),qi(W,e.name);const R=new Jn({uid:K,auth:e,email:S,emailVerified:ue,displayName:w,isAnonymous:ae,photoURL:k,phoneNumber:O,tenantId:G,stsTokenManager:A,createdAt:$,lastLoginAt:W});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(N=>Object.assign({},N))),z&&(R._redirectEventId=z),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ZT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new lo;p.updateFromIdToken(s);const m=new Jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;function ni(r){ui(r instanceof Function,"Expected a class definition");let e=z0.get(r);return e?(ui(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,z0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eb.type="NONE";const j0=eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ni(j0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ni(j0);const f=bh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const S=await qh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Jn._fromGetAccountInfoResponse(e,S,E)}else w=Jn._fromJSON(e,E);g!==u&&(p=w),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new uo(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ab(e))return"Blackberry";if(ob(e))return"Webos";if(nb(e))return"Safari";if((e.includes("chrome/")||rb(e))&&!e.includes("edge/"))return"Chrome";if(sb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tb(r=sn()){return/firefox\//i.test(r)}function nb(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rb(r=sn()){return/crios\//i.test(r)}function ib(r=sn()){return/iemobile/i.test(r)}function sb(r=sn()){return/android/i.test(r)}function ab(r=sn()){return/blackberry/i.test(r)}function ob(r=sn()){return/webos/i.test(r)}function ug(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GC(r=sn()){var e;return ug(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $C(){return aI()&&document.documentMode===10}function lb(r=sn()){return ug(r)||sb(r)||ob(r)||ab(r)||/windows phone/i.test(r)||ib(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r,e=[]){let n;switch(r){case"Browser":n=q0(sn());break;case"Worker":n=`${q0(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(r,e={}){return ls(r,"GET","/v2/passwordPolicy",os(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=6;class XC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:YC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B0(this),this.idTokenSubscription=new B0(this),this.beforeStateQueue=new KC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(ii(this));const n=e?Bt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QC(this),n=new XC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ia(r){return Bt(r)}class B0{constructor(e){this.auth=e,this.observer=null,this.addObserver=pI(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JC(r){ff=r}function cb(r){return ff.loadJS(r)}function ZC(){return ff.recaptchaEnterpriseScript}function eD(){return ff.gapiScript}function tD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class nD{constructor(){this.enterprise=new rD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iD="recaptcha-enterprise",hb="NO_RECAPTCHA";class sD{constructor(e){this.type=iD,this.auth=ia(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{PC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new VC(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;L0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(hb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&L0(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ZC();m.length!==0&&(m+=p),cb(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function H0(r,e,n,s=!1,o=!1){const u=new sD(r);let f;if(o)f=hb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Em(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await H0(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await H0(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(r,e){const n=ig(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(oi(u,e??{}))return o;tr(o,"already-initialized")}return n.initialize({options:e})}function oD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lD(r,e,n){const s=ia(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=fb(e),{host:f,port:p}=uD(e),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(oi(g,s.config.emulator)&&oi(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,cD()}function fb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function uD(r){const e=fb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:F0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:F0(f)}}}function F0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function cD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function hD(r,e){return ls(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",os(r,e))}async function pD(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends cg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new yu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,n,"signInWithPassword",fD);case"emailLink":return dD(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,s,"signUpPassword",hD);case"emailLink":return pD(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class Zs extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=sg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yD(r){const e=tu(nu(r)).link,n=e?tu(nu(e)).deep_link_id:null,s=tu(nu(r)).deep_link_id;return(s?tu(nu(s)).link:null)||s||n||e||r}class hg{constructor(e){var n,s,o,u,f,p;const m=tu(nu(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,w=gD((o=m.mode)!==null&&o!==void 0?o:null);be(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=yD(e);try{return new hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=hg.parseLink(n);return be(s,"argument-error"),yu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends db{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Du{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Du{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Du{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $i.credential(n,s)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(r,e){return Cu(r,"POST","/v1/accounts:signUp",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Jn._fromIdTokenResponse(e,s,o),f=G0(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=G0(s);return new ea({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function G0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends fi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Hh(e,n,s,o)}}function pb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(r,u,e,s):u})}async function _D(r,e,n=!1){const s=await gu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(r,e,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(ii(s));const o="reauthenticate";try{const u=await gu(r,pb(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=lg(u.idToken);be(f,s,"internal-error");const{sub:p}=f;return be(r.uid===p,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&tr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(r,e,n=!1){if(Hn(r.app))return Promise.reject(ii(r));const s="signIn",o=await pb(r,s,e),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function TD(r,e){return mb(ia(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(r){const e=ia(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bD(r,e,n){if(Hn(r.app))return Promise.reject(ii(r));const s=ia(r),f=await Em(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&gb(r),m}),p=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function wD(r,e,n){return Hn(r.app)?Promise.reject(ii(r)):TD(Bt(r),Mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gb(r),s})}function SD(r,e,n,s){return Bt(r).onIdTokenChanged(e,n,s)}function AD(r,e,n){return Bt(r).beforeAuthStateChanged(e,n)}function RD(r,e,n,s){return Bt(r).onAuthStateChanged(e,n,s)}function ID(r){return Bt(r).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1e3,DD=10;class vb extends yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);$C()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const xD=vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_b.type="SESSION";const Eb=_b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await OD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=fg("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function kD(r){Sr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function MD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function PD(){return Tb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebaseLocalStorageDb",LD=1,Gh="firebaseLocalStorage",wb="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(r,e){return r.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function UD(){const r=indexedDB.deleteDatabase(bb);return new xu(r).toPromise()}function Tm(){const r=indexedDB.open(bb,LD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gh,{keyPath:wb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gh)?e(s):(s.close(),await UD(),e(await Tm()))})})}async function $0(r,e,n){const s=pf(r,!0).put({[wb]:e,value:n});return new xu(s).toPromise()}async function zD(r,e){const n=pf(r,!1).get(e),s=await new xu(n).toPromise();return s===void 0?null:s.value}function K0(r,e){const n=pf(r,!0).delete(e);return new xu(n).toPromise()}const jD=800,qD=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new ND(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await $0(e,Fh,"1"),await K0(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const BD=Sb;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(r,e){return e?ni(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FD(r){return mb(r.auth,new dg(r),r.bypassAuthState)}function GD(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),ED(n,new dg(r),r.bypassAuthState)}async function $D(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),_D(n,new dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FD;case"linkViaPopup":case"linkViaRedirect":return $D;case"reauthViaPopup":case"reauthViaRedirect":return GD;default:tr(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new Iu(2e3,1e4);class ao extends Ab{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KD.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="pendingRedirect",wh=new Map;class YD extends Ab{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const s=await XD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(r,e){const n=ZD(e),s=JD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function WD(r,e){wh.set(r._key(),e)}function JD(r){return ni(r._redirectPersistence)}function ZD(r){return bh(QD,r.config.apiKey,r.name)}async function ex(r,e,n=!1){if(Hn(r.app))return Promise.reject(ii(r));const s=ia(r),o=HD(s,e),f=await new YD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=10*60*1e3;class nx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Rb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Rb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(r,e={}){return ls(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ax=/^https?/;async function ox(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ix(r);for(const n of e)try{if(lx(n))return}catch{}tr(r,"unauthorized-domain")}function lx(r){const e=vm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!ax.test(n))return!1;if(sx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Iu(3e4,6e4);function Y0(){const r=Sr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function cx(r){return new Promise((e,n)=>{var s,o,u;function f(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(wr(r,"network-request-failed"))},timeout:ux.get()})}if(!((o=(s=Sr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Sr().gapi)===null||u===void 0)&&u.load)f();else{const p=tD("iframefcb");return Sr()[p]=()=>{gapi.load?f():n(wr(r,"network-request-failed"))},cb(`${eD()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function hx(r){return Sh=Sh||cx(r),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new Iu(5e3,15e3),dx="__/auth/iframe",px="emulator/auth/iframe",mx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yx(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?og(e,px):`https://${r.config.authDomain}/${dx}`,s={apiKey:e.apiKey,appName:r.name,v:ko},o=gx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ru(s).slice(1)}`}async function vx(r){const e=await hx(r),n=Sr().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:yx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=wr(r,"network-request-failed"),p=Sr().setTimeout(()=>{u(f)},fx.get());function m(){Sr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ex=500,Tx=600,bx="_blank",wx="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sx(r,e,n,s=Ex,o=Tx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},_x),{width:s.toString(),height:o.toString(),top:u,left:f}),g=sn().toLowerCase();n&&(p=rb(g)?bx:n),tb(g)&&(e=e||wx,m.scrollbars="yes");const E=Object.entries(m).reduce((S,[O,k])=>`${S}${O}=${k},`,"");if(GC(g)&&p!=="_self")return Ax(e||"",p),new X0(null);const w=window.open(e||"",p,E);be(w,r,"popup-blocked");try{w.focus()}catch{}return new X0(w)}function Ax(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="__/auth/handler",Ix="emulator/auth/handler",Cx=encodeURIComponent("fac");async function W0(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ko,eventId:o};if(e instanceof db){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",dI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Du){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${Cx}=${encodeURIComponent(m)}`:"";return`${Dx(r)}?${Ru(p).slice(1)}${g}`}function Dx({config:r}){return r.emulator?og(r,Ix):`https://${r.authDomain}/${Rx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="webStorageSupport";class xx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eb,this._completeRedirectFn=ex,this._overrideRedirectResult=WD}async _openPopup(e,n,s,o){var u;ui((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await W0(e,n,s,vm(),o);return Sx(e,f,fg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await W0(e,n,s,vm(),o);return kD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ui(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vx(e),s=new nx(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zp,{type:Zp},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Zp];f!==void 0&&n(!!f),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ox(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lb()||nb()||ug()}}const Ox=xx;var J0="@firebase/auth",Z0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mx(r){po(new Js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ub(r)},g=new WC(s,o,u,m);return oD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),po(new Js("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(s=>new Nx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(J0,Z0,kx(r)),Xi(J0,Z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=5*60,Px=jT("authIdTokenMaxAge")||Vx;let eE=null;const Lx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Px)return;const o=n==null?void 0:n.token;eE!==o&&(eE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ux(r=FT()){const e=ig(r,"auth");if(e.isInitialized())return e.getImmediate();const n=aD(r,{popupRedirectResolver:Ox,persistence:[BD,xD,Eb]}),s=jT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Lx(u.toString());AD(n,f,()=>f(n.currentUser)),SD(n,p=>f(p))}}const o=UT("auth");return o&&lD(n,`http://${o}`),n}function zx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}JC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=wr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",zx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mx("Browser");var jx="firebase",qx="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(jx,qx,"app");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,Ib;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function R(){}R.prototype=A.prototype,C.D=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(N,V,P){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return A.prototype[V].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)N[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)N[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],V=C.g[2];var P=C.g[3],I=A+(P^R&(V^P))+N[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=P+(V^A&(R^V))+N[1]+3905402710&4294967295,P=A+(I<<12&4294967295|I>>>20),I=V+(R^P&(A^R))+N[2]+606105819&4294967295,V=P+(I<<17&4294967295|I>>>15),I=R+(A^V&(P^A))+N[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(P^R&(V^P))+N[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(V^A&(R^V))+N[5]+1200080426&4294967295,P=A+(I<<12&4294967295|I>>>20),I=V+(R^P&(A^R))+N[6]+2821735955&4294967295,V=P+(I<<17&4294967295|I>>>15),I=R+(A^V&(P^A))+N[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(P^R&(V^P))+N[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(V^A&(R^V))+N[9]+2336552879&4294967295,P=A+(I<<12&4294967295|I>>>20),I=V+(R^P&(A^R))+N[10]+4294925233&4294967295,V=P+(I<<17&4294967295|I>>>15),I=R+(A^V&(P^A))+N[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(P^R&(V^P))+N[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=P+(V^A&(R^V))+N[13]+4254626195&4294967295,P=A+(I<<12&4294967295|I>>>20),I=V+(R^P&(A^R))+N[14]+2792965006&4294967295,V=P+(I<<17&4294967295|I>>>15),I=R+(A^V&(P^A))+N[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(V^P&(R^V))+N[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^V&(A^R))+N[6]+3225465664&4294967295,P=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(P^A))+N[11]+643717713&4294967295,V=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(V^P))+N[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^P&(R^V))+N[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^V&(A^R))+N[10]+38016083&4294967295,P=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(P^A))+N[15]+3634488961&4294967295,V=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(V^P))+N[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^P&(R^V))+N[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^V&(A^R))+N[14]+3275163606&4294967295,P=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(P^A))+N[3]+4107603335&4294967295,V=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(V^P))+N[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^P&(R^V))+N[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=P+(R^V&(A^R))+N[2]+4243563512&4294967295,P=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(P^A))+N[7]+1735328473&4294967295,V=P+(I<<14&4294967295|I>>>18),I=R+(P^A&(V^P))+N[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(R^V^P)+N[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^V)+N[8]+2272392833&4294967295,P=A+(I<<11&4294967295|I>>>21),I=V+(P^A^R)+N[11]+1839030562&4294967295,V=P+(I<<16&4294967295|I>>>16),I=R+(V^P^A)+N[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^P)+N[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^V)+N[4]+1272893353&4294967295,P=A+(I<<11&4294967295|I>>>21),I=V+(P^A^R)+N[7]+4139469664&4294967295,V=P+(I<<16&4294967295|I>>>16),I=R+(V^P^A)+N[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^P)+N[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^V)+N[0]+3936430074&4294967295,P=A+(I<<11&4294967295|I>>>21),I=V+(P^A^R)+N[3]+3572445317&4294967295,V=P+(I<<16&4294967295|I>>>16),I=R+(V^P^A)+N[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^P)+N[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=P+(A^R^V)+N[12]+3873151461&4294967295,P=A+(I<<11&4294967295|I>>>21),I=V+(P^A^R)+N[15]+530742520&4294967295,V=P+(I<<16&4294967295|I>>>16),I=R+(V^P^A)+N[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(V^(R|~P))+N[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~V))+N[7]+1126891415&4294967295,P=A+(I<<10&4294967295|I>>>22),I=V+(A^(P|~R))+N[14]+2878612391&4294967295,V=P+(I<<15&4294967295|I>>>17),I=R+(P^(V|~A))+N[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~P))+N[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~V))+N[3]+2399980690&4294967295,P=A+(I<<10&4294967295|I>>>22),I=V+(A^(P|~R))+N[10]+4293915773&4294967295,V=P+(I<<15&4294967295|I>>>17),I=R+(P^(V|~A))+N[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~P))+N[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~V))+N[15]+4264355552&4294967295,P=A+(I<<10&4294967295|I>>>22),I=V+(A^(P|~R))+N[6]+2734768916&4294967295,V=P+(I<<15&4294967295|I>>>17),I=R+(P^(V|~A))+N[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~P))+N[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=P+(R^(A|~V))+N[11]+3174756917&4294967295,P=A+(I<<10&4294967295|I>>>22),I=V+(A^(P|~R))+N[2]+718787259&4294967295,V=P+(I<<15&4294967295|I>>>17),I=R+(P^(V|~A))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var R=A-this.blockSize,N=this.B,V=this.h,P=0;P<A;){if(V==0)for(;P<=R;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<A;)if(N[V++]=C.charCodeAt(P++),V==this.blockSize){o(this,N),V=0;break}}else for(;P<A;)if(N[V++]=C[P++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var R=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=R&255,R/=256;for(this.u(C),C=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)C[R++]=this.g[A]>>>N&255;return C};function u(C,A){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function f(C,A){this.h=A;for(var R=[],N=!0,V=C.length-1;0<=V;V--){var P=C[V]|0;N&&P==A||(R[V]=P,N=!1)}this.g=R}var p={};function m(C){return-128<=C&&128>C?u(C,function(A){return new f([A|0],0>A?-1:0)}):new f([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return z(g(-C));for(var A=[],R=1,N=0;C>=R;N++)A[N]=C/R|0,R*=4294967296;return new f(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return z(E(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),N=w,V=0;V<C.length;V+=8){var P=Math.min(8,C.length-V),I=parseInt(C.substring(V,V+P),A);8>P?(P=g(Math.pow(A,P)),N=N.j(P).add(g(I))):(N=N.j(R),N=N.add(g(I)))}return N}var w=m(0),S=m(1),O=m(16777216);r=f.prototype,r.m=function(){if(G(this))return-z(this).m();for(var C=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);C+=(0<=N?N:4294967296+N)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(G(this))return"-"+z(this).toString(C);for(var A=g(Math.pow(C,6)),R=this,N="";;){var V=ue(R,A).g;R=$(R,V.j(A));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=V,k(R))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function G(C){return C.h==-1}r.l=function(C){return C=$(this,C),G(C)?-1:k(C)?0:1};function z(C){for(var A=C.g.length,R=[],N=0;N<A;N++)R[N]=~C.g[N];return new f(R,~C.h).add(S)}r.abs=function(){return G(this)?z(this):this},r.add=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],N=0,V=0;V<=A;V++){var P=N+(this.i(V)&65535)+(C.i(V)&65535),I=(P>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);N=I>>>16,P&=65535,I&=65535,R[V]=I<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(C,A){return C.add(z(A))}r.j=function(C){if(k(this)||k(C))return w;if(G(this))return G(C)?z(this).j(z(C)):z(z(this).j(C));if(G(C))return z(this.j(z(C)));if(0>this.l(O)&&0>C.l(O))return g(this.m()*C.m());for(var A=this.g.length+C.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<C.g.length;V++){var P=this.i(N)>>>16,I=this.i(N)&65535,rt=C.i(V)>>>16,We=C.i(V)&65535;R[2*N+2*V]+=I*We,W(R,2*N+2*V),R[2*N+2*V+1]+=P*We,W(R,2*N+2*V+1),R[2*N+2*V+1]+=I*rt,W(R,2*N+2*V+1),R[2*N+2*V+2]+=P*rt,W(R,2*N+2*V+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new f(R,0)};function W(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function K(C,A){this.g=C,this.h=A}function ue(C,A){if(k(A))throw Error("division by zero");if(k(C))return new K(w,w);if(G(C))return A=ue(z(C),A),new K(z(A.g),z(A.h));if(G(A))return A=ue(C,z(A)),new K(z(A.g),A.h);if(30<C.g.length){if(G(C)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=A;0>=N.l(C);)R=ae(R),N=ae(N);var V=ce(R,1),P=ce(N,1);for(N=ce(N,2),R=ce(R,2);!k(N);){var I=P.add(N);0>=I.l(C)&&(V=V.add(R),P=I),N=ce(N,1),R=ce(R,1)}return A=$(C,V.j(A)),new K(V,A)}for(V=w;0<=C.l(A);){for(R=Math.max(1,Math.floor(C.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=g(R),I=P.j(A);G(I)||0<I.l(C);)R-=N,P=g(R),I=P.j(A);k(P)&&(P=S),V=V.add(P),C=$(C,I)}return new K(V,C)}r.A=function(C){return ue(this,C).h},r.and=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&C.i(N);return new f(R,this.h&C.h)},r.or=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|C.i(N);return new f(R,this.h|C.h)},r.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^C.i(N);return new f(R,this.h^C.h)};function ae(C){for(var A=C.g.length+1,R=[],N=0;N<A;N++)R[N]=C.i(N)<<1|C.i(N-1)>>>31;return new f(R,C.h)}function ce(C,A){var R=A>>5;A%=32;for(var N=C.g.length-R,V=[],P=0;P<N;P++)V[P]=0<A?C.i(P+R)>>>A|C.i(P+R+1)<<32-A:C.i(P+R);return new f(V,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ib=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Wi=f}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,ru,Db,Ah,bm,xb,Ob,Nb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in v))break e;v=v[U]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,U={next:function(){if(!b&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function k(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,U,Q){for(var le=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)le[Ue-2]=arguments[Ue];return y.prototype[U].apply(b,le)}}function G(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function z(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(m(b)){const U=c.length||0,Q=b.length||0;c.length=U+Q;for(let le=0;le<Q;le++)c[U+le]=b[le]}else c.push(b)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ae=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ce(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function C(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)c[v]=b[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function P(c){p.setTimeout(()=>{throw c},0)}function I(){var c=Ce;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class rt{constructor(){this.h=this.g=null}add(y,v){const b=We.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var We=new $(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Ce=new rt,x=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){P(v)}var y=We;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,y),p.removeEventListener("test",v,y)}catch{}return c}();function Ae(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{ue(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}k(Ae,ie);var ye={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Mt(c,y,v,b,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=U,this.key=++Be,this.da=this.fa=!1}function Dn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hn(c){this.src=c,this.g={},this.h=0}hn.prototype.add=function(c,y,v,b,U){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var le=hs(c,y,b,U);return-1<le?(y=c[le],v||(y.fa=!1)):(y=new Mt(y,this.src,Q,!!b,U),y.fa=v,c.push(y)),y};function Wt(c,y){var v=y.type;if(v in c.g){var b=c.g[v],U=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(b,U,1),Q&&(Dn(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function hs(c,y,v,b){for(var U=0;U<c.length;++U){var Q=c[U];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==b)return U}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),Ho={};function zu(c,y,v,b,U){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)zu(c,y[Q],v,b,U);return null}return v=ju(v),c&&c[Je]?c.K(y,v,g(b)?!!b.capture:!1,U):xn(c,y,v,!1,b,U)}function xn(c,y,v,b,U,Q){if(!y)throw Error("Invalid event type");var le=g(U)?!!U.capture:!!U,Ue=ua(c);if(Ue||(c[fs]=Ue=new hn(c)),v=Ue.add(y,v,b,le,Q),v.proxy)return v;if(b=zf(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)ge||(U=le),U===void 0&&(U=!1),c.addEventListener(y.toString(),b,U);else if(c.attachEvent)c.attachEvent(ds(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zf(){function c(v){return y.call(c.src,c.listener,v)}const y=jf;return c}function Fo(c,y,v,b,U){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Fo(c,y[Q],v,b,U);else b=g(b)?!!b.capture:!!b,v=ju(v),c&&c[Je]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=hs(Q,v,b,U),-1<v&&(Dn(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ua(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hs(y,v,b,U)),(v=-1<c?y[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Je])Wt(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(ds(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ua(y))?(Wt(v,c),v.h==0&&(v.src=null,y[fs]=null)):Dn(c)}}}function ds(c){return c in Ho?Ho[c]:Ho[c]="on"+c}function jf(c,y){if(c.da)c=!0;else{y=new Ae(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&la(c),c=v.call(b,y)}return c}function ua(c){return c=c[fs],c instanceof hn?c:null}var Go="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(c){return typeof c=="function"?c:(c[Go]||(c[Go]=function(y){return c.handleEvent(y)}),c[Go])}function dt(){se.call(this),this.i=new hn(this),this.M=this,this.F=null}k(dt,se),dt.prototype[Je]=!0,dt.prototype.removeEventListener=function(c,y,v,b){Fo(this,c,y,v,b)};function Qe(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var U=y;y=new ie(b,c),N(y,U)}if(U=!0,v)for(var Q=v.length-1;0<=Q;Q--){var le=y.g=v[Q];U=vn(le,b,!0,y)&&U}if(le=y.g=c,U=vn(le,b,!0,y)&&U,U=vn(le,b,!1,y)&&U,v)for(Q=0;Q<v.length;Q++)le=y.g=v[Q],U=vn(le,b,!1,y)&&U}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)Dn(v[b]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},dt.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function vn(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Q=0;Q<y.length;++Q){var le=y[Q];if(le&&!le.da&&le.capture==v){var Ue=le.listener,Ct=le.ha||le.src;le.fa&&Wt(c.i,le),U=Ue.call(Ct,b)!==!1&&U}}return U&&!b.defaultPrevented}function Jt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function qu(c){c.g=Jt(()=>{c.g=null,c.i&&(c.i=!1,qu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class qf extends se{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){se.call(this),this.h=c,this.g={}}k(ps,se);var ms=[];function gs(c){ce(c.g,function(y,v){this.g.hasOwnProperty(v)&&la(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),gs(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=p.JSON.stringify,ca=p.JSON.parse,ys=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function $o(){}$o.prototype.h=null;function Ko(c){return c.h||(c.h=c.i())}function Qo(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ie.call(this,"d")}k(xr,ie);function Yo(){ie.call(this,"c")}k(Yo,ie);var sr={},Xo=null;function di(){return Xo=Xo||new dt}sr.La="serverreachability";function ha(c){ie.call(this,sr.La,c)}k(ha,ie);function pi(c){const y=di();Qe(y,new ha(y))}sr.STAT_EVENT="statevent";function Bu(c,y){ie.call(this,sr.STAT_EVENT,c),this.stat=y}k(Bu,ie);function lt(c){const y=di();Qe(y,new Bu(y,c))}sr.Ma="timingevent";function It(c,y){ie.call(this,sr.Ma,c),this.size=y}k(It,ie);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function Wo(c,y,v,b,U,Q){c.info(function(){if(c.g)if(Q)for(var le="",Ue=Q.split("&"),Ct=0;Ct<Ue.length;Ct++){var ze=Ue[Ct].split("=");if(1<ze.length){var Pt=ze[0];ze=ze[1];var Dt=Pt.split("_");le=2<=Dt.length&&Dt[1]=="type"?le+(Pt+"="+ze+"&"):le+(Pt+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+v+`
`+le})}function Bf(c,y,v,b,U,Q,le){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+v+`
`+Q+" "+le})}function mi(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vs(c,v)+(b?" "+b:"")})}function Hu(c,y){c.info(function(){return"TIMEOUT: "+y})}On.prototype.info=function(){};function vs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<U.length;le++)U[le]=""}}}}return $n(v)}catch{return y}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function or(){}k(or,$o),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},ar=new or;function an(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Jo={},fa={};function Kn(c,y,v){c.L=1,c.v=ws(_n(y)),c.m=v,c.P=!0,Nr(c,null)}function Nr(c,y){c.F=Date.now(),_s(c),c.A=_n(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),il(v.i,"t",b),c.C=0,v=c.j.J,c.h=new gt,c.g=sc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new qf(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ms[0]=U.toString()),U=ms);for(var Q=0;Q<U.length;Q++){var le=zu(v,U[Q],b||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pi(),Wo(c.i,c.u,c.A,c.l,c.R,c.m)}an.prototype.ca=function(c){c=c.target;const y=this.M;y&&Vn(c)==3?y.j():this.Y(c)},an.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Vn(this.g);var y=this.g.Ba();const jr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Wu(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=jr?pi(3):pi(2)),yi(this);var v=this.g.Z();this.X=v;t:if(Fu(this)){var b=Wu(this.g);c="";var U=b.length,Q=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),lr(this);var le="";break t}this.h.i=new p.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==U-1)});b.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,Bf(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ct=this.g;if((Ue=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ue)){var ze=Ue;break t}}ze=null}if(v=ze)mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,v);else{this.o=!1,this.s=3,lt(12),Ht(this),lr(this);break e}}if(this.P){v=!0;let Ft;for(;!this.J&&this.C<le.length;)if(Ft=Gu(this,le),Ft==fa){Dt==4&&(this.s=4,lt(14),v=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Jo){this.s=4,lt(15),mi(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else mi(this.i,this.l,Ft,null),Es(this,Ft);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||le.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)mi(this.i,this.l,le,"[Invalid Chunked Response]"),Ht(this),lr(this);else if(0<le.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Os(Pt),Pt.M=!0,lt(11))}}else mi(this.i,this.l,le,null),Es(this,le);Dt==4&&Ht(this),this.o&&!this.J&&(Dt==4?nc(this.j,this):(this.o=!1,_s(this)))}else Kf(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Ht(this),lr(this)}}}catch{}finally{}};function Fu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?fa:(v=Number(y.substring(v,b)),isNaN(v)?Jo:(b+=1,b+v>y.length?fa:(y=y.slice(b,b+v),c.C=b+v,y)))}an.prototype.cancel=function(){this.J=!0,Ht(this)};function _s(c){c.S=Date.now()+c.I,$u(c,c.I)}function $u(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(S(c.ba,c),y)}function yi(c){c.B&&(p.clearTimeout(c.B),c.B=null)}an.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hu(this.i,this.A),this.L!=2&&(pi(),lt(17)),Ht(this),this.s=2,lr(this)):$u(this,this.S-c)};function lr(c){c.j.G==0||c.J||nc(c.j,c)}function Ht(c){yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Es(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Zo(v.h,c))){if(!c.K&&Zo(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Sa(v),ba(v);else break e;ul(v),lt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Et(S(v.Za,v),6e3));if(1>=pa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else zr(v,11)}else if((c.K||v.g==c)&&Sa(v),!W(y))for(U=v.Da.g.parse(y),y=0;y<U.length;y++){let ze=U[y];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Pt=ze[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const Dt=ze[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const jr=ze[5];jr!=null&&typeof jr=="number"&&0<jr&&(b=1.5*jr,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ft=c.g;if(Ft){const mr=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var Q=b.h;Q.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ma(Q,Q.h),Q.h=null))}if(b.D){const hl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(b.ya=hl,Ze(b.I,b.D,hl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var le=c;if(b.qa=ic(b,b.J?b.ia:null,b.W),le.K){on(b.h,le);var Ue=le,Ct=b.L;Ct&&(Ue.I=Ct),Ue.B&&(yi(Ue),_s(Ue)),b.g=le}else ec(b);0<v.i.length&&wa(v)}else ze[0]!="stop"&&ze[0]!="close"||zr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?zr(v,7):ol(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}pi(4)}catch{}}var Ku=class{constructor(c,y){this.g=c,this.map=y}};function kr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function da(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pa(c){return c.h?1:c.g?c.g.size:0}function Zo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function on(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}kr.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function el(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return G(c.i)}function Hf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function ga(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function tl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ga(c),b=Hf(c),U=b.length,Q=0;Q<U;Q++)y.call(void 0,b[Q],v&&v[Q],c)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ff(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),U=null;if(0<=b){var Q=c[v].substring(0,b);U=c[v].substring(b+1)}else Q=c[v];y(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,bs(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,v=new Vr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Mr(this,v),this.m=c.m}else c&&(y=String(c).match(Ts))?(this.h=!1,bs(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),vi(this,y[4]),this.l=Nn(y[5]||"",!0),Mr(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ss(y,nl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ss(y,nl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ss(v,v.charAt(0)=="/"?Gf:rl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ss(v,ya)),c.join("")};function _n(c){return new Tt(c)}function bs(c,y,v){c.j=v?Nn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mr(c,y,v){y instanceof Vr?(c.i=y,Yu(c.i,c.h)):(v||(y=Ss(y,$f)),c.i=new Vr(y,c.h))}function Ze(c,y,v){c.i.set(y,v)}function ws(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Qu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,rl=/[#\?:]/g,Gf=/[#\?]/g,$f=/[#\?@]/g,ya=/#/g;function Vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ff(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Vr.prototype,r.add=function(c,y){kn(this),this.i=null,c=ur(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Pr(c,y){kn(c),y=ur(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Lr(c,y){return kn(c),y=ur(c,y),c.g.has(y)}r.forEach=function(c,y){kn(this),this.g.forEach(function(v,b){v.forEach(function(U){c.call(y,U,b,this)},this)},this)},r.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const U=c[b];for(let Q=0;Q<U.length;Q++)v.push(y[b])}return v},r.V=function(c){kn(this);let y=[];if(typeof c=="string")Lr(this,c)&&(y=y.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return kn(this),this.i=null,c=ur(this,c),Lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function il(c,y,v){Pr(c,y),0<v.length&&(c.i=null,c.g.set(ur(c,y),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const Q=encodeURIComponent(String(b)),le=this.V(b);for(b=0;b<le.length;b++){var U=Q;le[b]!==""&&(U+="="+encodeURIComponent(String(le[b]))),c.push(U)}}return this.i=c.join("&")};function ur(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Yu(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(v,b){var U=b.toLowerCase();b!=U&&(Pr(this,b),il(this,U,v))},c)),c.j=y}function As(c,y){const v=new On;if(p.Image){const b=new Image;b.onload=O(Mn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Mn,v,"TestLoadImage: error",!1,y,b),b.onabort=O(Mn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Mn,v,"TestLoadImage: timeout",!1,y,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Qn(c,y){const v=new On,b=new AbortController,U=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(U),Q.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Mn(v,"TestPingServer: error",!1,y)})}function Mn(c,y,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Rs(){this.g=new ys}function cr(c,y,v){const b=v||"";try{tl(c,function(U,Q){let le=U;g(U)&&(le=$n(U)),y.push(b+Q+"="+encodeURIComponent(le))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function _i(c){this.l=c.Ub||null,this.j=c.eb||!1}k(_i,$o),_i.prototype.g=function(){return new Ur(this.l,this.j)},_i.prototype.i=function(c){return function(){return c}}({});function Ur(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ur,dt),r=Ur.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,fr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hr(this):fr(this),this.readyState==3&&sl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function fr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function al(c){let y="";return ce(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Vt(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=al(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ze(c,y,v))}function Ge(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ge,dt);var va=/^https?$/i,Is=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Ko(this.o):Ko(ar),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Xu(this,Q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Is,y,void 0))||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of v)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Xu(this,Q)}};function Xu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_a(c),dr(c)}function _a(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},r.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Jt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=le===0){var U=String(c.D).match(Ts)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),b=!va.test(U?U.toLowerCase():"")}v=b}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Q=2<Vn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",_a(c)}}finally{dr(c)}}}}function dr(c,y){if(c.g){Cs(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{v.onreadystatechange=b}catch{}}}function Cs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ca(y)}};function Wu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kf(c){const y={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(W(c[b]))continue;var v=V(c[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[U]||[];y[U]=Q,Q.push(v)}C(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ta(c){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(c&&c.concurrentRequestLimit),this.Da=new Rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ta.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,b){lt(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=ic(this,null,this.W),wa(this)};function ol(c){if(Ju(c),c.G==3){var y=c.U++,v=_n(c.I);if(Ze(v,"SID",c.K),Ze(v,"RID",y),Ze(v,"TYPE","terminate"),xs(c,v),y=new an(c,c.j,y),y.L=2,y.v=ws(_n(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=y.v,v=!0),v||(y.g=sc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_s(y)}rc(c)}function ba(c){c.g&&(Os(c),c.g.cancel(),c.g=null)}function Ju(c){ba(c),c.u&&(p.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function wa(c){if(!da(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||x(),me||(oe(),me=!0),Ce.add(y,c),c.B=0}}function Qf(c,y){return pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(S(c.Ga,c,y),cl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new an(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=A(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Zu(this,U,y),v=_n(this.I),Ze(v,"RID",c),Ze(v,"CVER",22),this.D&&Ze(v,"X-HTTP-Session-Id",this.D),xs(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(al(Q)))+"&"+y:this.m&&Vt(v,this.m,Q)),ma(this.h,U),this.Ua&&Ze(v,"TYPE","init"),this.P?(Ze(v,"$req",y),Ze(v,"SID","null"),U.T=!0,Kn(U,v,null)):Kn(U,v,y),this.G=2}}else this.G==3&&(c?ll(this,c):this.i.length==0||da(this.h)||ll(this))};function ll(c,y){var v;y?v=y.l:v=c.U++;const b=_n(c.I);Ze(b,"SID",c.K),Ze(b,"RID",v),Ze(b,"AID",c.T),xs(c,b),c.m&&c.o&&Vt(b,c.m,c.o),v=new an(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Zu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,v),Kn(v,b,y)}function xs(c,y){c.H&&ce(c.H,function(v,b){Ze(y,b,v)}),c.l&&tl({},function(v,b){Ze(y,b,v)})}function Zu(c,y,v){v=Math.min(c.i.length,v);var b=c.l?S(c.l.Na,c.l,c):null;e:{var U=c.i;let Q=-1;for(;;){const le=["count="+v];Q==-1?0<v?(Q=U[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Ue=!0;for(let Ct=0;Ct<v;Ct++){let ze=U[Ct].g;const Pt=U[Ct].map;if(ze-=Q,0>ze)Q=Math.max(0,U[Ct].g-100),Ue=!1;else try{cr(Pt,le,"req"+ze+"_")}catch{b&&b(Pt)}}if(Ue){b=le.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function ec(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||x(),me||(oe(),me=!0),Ce.add(y,c),c.v=0}}function ul(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(S(c.Fa,c),cl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),ba(this),tc(this))};function Os(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function tc(c){c.g=new an(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);Ze(y,"RID","rpc"),Ze(y,"SID",c.K),Ze(y,"AID",c.T),Ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(y,"TO",c.ja),Ze(y,"TYPE","xmlhttp"),xs(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ws(_n(y)),v.m=null,v.P=!0,Nr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ba(this),ul(this),lt(19))};function Sa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function nc(c,y){var v=null;if(c.g==y){Sa(c),Os(c),c.g=null;var b=2}else if(Zo(c.h,y))v=y.D,on(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;b=di(),Qe(b,new It(b,v)),wa(c)}else ec(c);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&Qf(c,y)||b==2&&ul(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),U){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function cl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function zr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),b=c.Xa;const U=!b;b=new Tt(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||bs(b,"https"),ws(b),U?As(b.toString(),v):Qn(b.toString(),v)}else lt(2);c.G=0,c.l&&c.l.sa(y),rc(c),Ju(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const y=el(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function ic(c,y,v){var b=v instanceof Tt?_n(v):new Tt(v);if(b.g!="")y&&(b.g=y+"."+b.g),vi(b,b.s);else{var U=p.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Q=new Tt(null);b&&bs(Q,b),y&&(Q.g=y),U&&vi(Q,U),v&&(Q.l=v),b=Q}return v=c.D,y=c.ya,v&&y&&Ze(b,v,y),Ze(b,"VER",c.la),xs(c,b),b}function sc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new _i({eb:v})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}r=ac.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Aa(){}Aa.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){dt.call(this),this.g=new Ta(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new pr(this)}k(ln,dt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ol(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=$n(c),c=v);y.i.push(new Ku(y.Ya++,c)),y.G==3&&wa(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,ln.aa.N.call(this)};function oc(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(oc,xr);function lc(){Yo.call(this),this.status=1}k(lc,Yo);function pr(c){this.g=c}k(pr,ac),pr.prototype.ua=function(){Qe(this.g,"a")},pr.prototype.ta=function(c){Qe(this.g,new oc(c))},pr.prototype.sa=function(c){Qe(this.g,new lc)},pr.prototype.ra=function(){Qe(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Nb=function(){return new Aa},Ob=function(){return di()},xb=sr,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Ah=gi,Or.COMPLETE="complete",Db=Or,Qo.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ru=Qo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Cb=Ge}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",rE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new ng("@firebase/firestore");function no(){return ta.logLevel}function he(r,...e){if(ta.logLevel<=Pe.DEBUG){const n=e.map(pg);ta.debug(`Firestore (${Vo}): ${r}`,...n)}}function ci(r,...e){if(ta.logLevel<=Pe.ERROR){const n=e.map(pg);ta.error(`Firestore (${Vo}): ${r}`,...n)}}function mo(r,...e){if(ta.logLevel<=Pe.WARN){const n=e.map(pg);ta.warn(`Firestore (${Vo}): ${r}`,...n)}}function pg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+r;throw ci(e),new Error(e)}function Ke(r,e){r||Se()}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class Hx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Fx{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new si;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new si,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new si)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new kb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new nn(e)}}class Gx{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $x{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Gx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kx{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new iE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Qx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function wm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=Mb(),f=Yx(u.encode(sE(r,n)),u.encode(sE(e,n)));return f!==0?f:Ne(s,o)}}n+=s>65535?2:1}return Ne(r.length,e.length)}function sE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Yx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ne(r[n],e[n]);return Ne(r.length,e.length)}function go(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=-62135596800,oE=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*oE);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aE)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Nt(0,0))}static max(){return new Re(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class Tr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(),s===void 0?s=e.length-n:s>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Tr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ne(e.length,n.length)}static compareSegments(e,n){const s=Tr.isNumericId(e),o=Tr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class ot extends Tr{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const Xx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Tr{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return Xx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Yt([lE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function Wx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new Zi(o,_e.empty(),e)}function Jx(r){return new Zi(r.readTime,r.key,vu)}class Zi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zi(Re.min(),_e.empty(),vu)}static max(){return new Zi(Re.max(),_e.empty(),vu)}}function Zx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==eO)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,s)=>{n(e)})}static reject(e){return new ne((n,s)=>{s(e)})}static waitFor(e){return new ne((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next(o=>o?ne.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ne((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(E=>{f[g]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ne((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function nO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}mf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=-1;function gf(r){return r==null}function $h(r){return r===0&&1/r==-1/0}function rO(r){return typeof r=="number"&&Number.isInteger(r)&&!$h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="";function iO(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=uE(e)),e=sO(r.get(n),e);return uE(e)}function sO(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Pb:n+="";break;default:n+=u}}return n}function uE(r){return r+Pb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function us(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Lb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new kt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ub("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=aO.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="server_timestamp",jb="__type__",qb="__previous_value__",Bb="__local_write_time__";function gg(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[jb])===null||n===void 0?void 0:n.stringValue)===zb}function yf(r){const e=r.mapValue.fields[qb];return gg(e)?yf(e):e}function _u(r){const e=es(r.mapValue.fields[Bb].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,s,o,u,f,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const Kh="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||Kh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="__type__",lO="__max__",dh={mapValue:{}},Fb="__vector__",Qh="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gg(r)?4:cO(r)?9007199254740991:uO(r)?10:11:Se()}function Ir(r,e){if(r===e)return!0;const n=ns(r);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _u(r).isEqual(_u(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),p=es(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),p=_t(u.doubleValue);return f===p?$h(f)===$h(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(cE(f)!==cE(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!Ir(f[m],p[m])))return!1;return!0}(r,e);default:return Se()}}function Tu(r,e){return(r.values||[]).find(n=>Ir(n,e))!==void 0}function yo(r,e){if(r===e)return 0;const n=ns(r),s=ns(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=_t(u.integerValue||u.doubleValue),m=_t(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return fE(r.timestampValue,e.timestampValue);case 4:return fE(_u(r),_u(e));case 5:return wm(r.stringValue,e.stringValue);case 6:return function(u,f){const p=ts(u),m=ts(f);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=Ne(p[g],m[g]);if(E!==0)return E}return Ne(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=Ne(_t(u.latitude),_t(f.latitude));return p!==0?p:Ne(_t(u.longitude),_t(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return dE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,m,g,E;const w=u.fields||{},S=f.fields||{},O=(p=w[Qh])===null||p===void 0?void 0:p.arrayValue,k=(m=S[Qh])===null||m===void 0?void 0:m.arrayValue,G=Ne(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:dE(O,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===dh.mapValue&&f===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(f===dh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let w=0;w<m.length&&w<E.length;++w){const S=wm(m[w],E[w]);if(S!==0)return S;const O=yo(p[m[w]],g[E[w]]);if(O!==0)return O}return Ne(m.length,E.length)}(r.mapValue,e.mapValue);default:throw Se()}}function fE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const n=es(r),s=es(e),o=Ne(n.seconds,s.seconds);return o!==0?o:Ne(n.nanos,s.nanos)}function dE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return Ne(n.length,s.length)}function vo(r){return Sm(r)}function Sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ts(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _e.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Sm(n.fields[f])}`;return o+"}"}(r.mapValue):Se()}function Rh(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(r);return e?16+Rh(e):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Rh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,f)=>{o+=u.length+Rh(f)}),o}(r.mapValue);default:throw Se()}}function pE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Am(r){return!!r&&"integerValue"in r}function yg(r){return!!r&&"arrayValue"in r}function mE(r){return!!r&&"nullValue"in r}function gE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function uO(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hb])===null||n===void 0?void 0:n.stringValue)===Fb}function uu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return us(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=uu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function cO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=uu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){us(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(uu(this.value))}}function Gb(r){const e=[];return us(r.fields,(n,s)=>{const o=new Yt([n]);if(Ih(s)){const u=Gb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,Re.min(),Re.min(),Re.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Re.min(),Re.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Re.min(),Re.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function yE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ir(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{}class Rt extends $b{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dO(e,n,s):n==="array-contains"?new gO(e,s):n==="in"?new yO(e,s):n==="not-in"?new vO(e,s):n==="array-contains-any"?new _O(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pO(e,s):new mO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends $b{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new nr(e,n)}matches(e){return Kb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Kb(r){return r.op==="and"}function Qb(r){return fO(r)&&Kb(r)}function fO(r){for(const e of r.filters)if(e instanceof nr)return!1;return!0}function Rm(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(Qb(r))return r.filters.map(e=>Rm(e)).join(",");{const e=r.filters.map(n=>Rm(n)).join(",");return`${r.op}(${e})`}}function Yb(r,e){return r instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Ir(s.value,o.value)}(r,e):r instanceof nr?function(s,o){return o instanceof nr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&Yb(f,o.filters[p]),!0):!1}(r,e):void Se()}function Xb(r){return r instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(r):r instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(Xb).join(" ,")+"}"}(r):"Filter"}class dO extends Rt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class pO extends Rt{constructor(e,n){super(e,"in",n),this.keys=Wb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mO extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=Wb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wb(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class gO extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yg(n)&&Tu(n.arrayValue,this.value)}}class yO extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class vO extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tu(this.value.arrayValue,n)}}class _O extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Tu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function _E(r,e=null,n=[],s=[],o=null,u=null,f=null){return new EO(r,e,n,s,o,u,f)}function vg(r){const e=Ie(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Rm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>vo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>vo(s)).join(",")),e.le=n}return e.le}function _g(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!hO(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Yb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vE(r.startAt,e.startAt)&&vE(r.endAt,e.endAt)}function Im(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TO(r,e,n,s,o,u,f,p){return new Ou(r,e,n,s,o,u,f,p)}function Eg(r){return new Ou(r)}function EE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Jb(r){return r.collectionGroup!==null}function cu(r){const e=Ie(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt(Yt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Xh(u,s))}),n.has(Yt.keyField().canonicalString())||e.he.push(new Xh(Yt.keyField(),s))}return e.he}function Ar(r){const e=Ie(r);return e.Pe||(e.Pe=bO(e,cu(r))),e.Pe}function bO(r,e){if(r.limitType==="F")return _E(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Xh(o.field,u)});const n=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return _E(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Cm(r,e){const n=r.filters.concat([e]);return new Ou(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Dm(r,e,n){return new Ou(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function vf(r,e){return _g(Ar(r),Ar(e))&&r.limitType===e.limitType}function Zb(r){return`${vg(Ar(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Xb(o)).join(", ")}]`),gf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>vo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>vo(o)).join(",")),`Target(${s})`}(Ar(r))}; limitType=${r.limitType})`}function _f(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of cu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=yE(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,cu(s),o)||s.endAt&&!function(f,p,m){const g=yE(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,cu(s),o))}(r,e)}function wO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ew(r){return(e,n)=>{let s=!1;for(const o of cu(r)){const u=SO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function SO(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?yo(m,g):Se()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Lb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new ft(_e.comparator);function hi(){return AO}const tw=new ft(_e.comparator);function iu(...r){let e=tw;for(const n of r)e=e.insert(n.key,n);return e}function nw(r){let e=tw;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Qs(){return hu()}function rw(){return hu()}function hu(){return new sa(r=>r.toString(),(r,e)=>r.isEqual(e))}const RO=new ft(_e.comparator),IO=new kt(_e.comparator);function Le(...r){let e=IO;for(const n of r)e=e.add(n);return e}const CO=new kt(Ne);function DO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function iw(r){return{integerValue:""+r}}function xO(r,e){return rO(e)?iw(e):Tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function OO(r,e,n){return r instanceof Wh?function(o,u){const f={fields:{[jb]:{stringValue:zb},[Bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gg(u)&&(u=yf(u)),u&&(f.fields[qb]=u),{mapValue:f}}(n,e):r instanceof _o?aw(r,e):r instanceof Eo?ow(r,e):function(o,u){const f=sw(o,u),p=TE(f)+TE(o.Ie);return Am(f)&&Am(o.Ie)?iw(p):Tg(o.serializer,p)}(r,e)}function NO(r,e,n){return r instanceof _o?aw(r,e):r instanceof Eo?ow(r,e):n}function sw(r,e){return r instanceof Jh?function(s){return Am(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Wh extends Ef{}class _o extends Ef{constructor(e){super(),this.elements=e}}function aw(r,e){const n=lw(e);for(const s of r.elements)n.some(o=>Ir(o,s))||n.push(s);return{arrayValue:{values:n}}}class Eo extends Ef{constructor(e){super(),this.elements=e}}function ow(r,e){let n=lw(e);for(const s of r.elements)n=n.filter(o=>!Ir(o,s));return{arrayValue:{values:n}}}class Jh extends Ef{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function TE(r){return _t(r.integerValue||r.doubleValue)}function lw(r){return yg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.field=e,this.transform=n}}function kO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof _o&&o instanceof _o||s instanceof Eo&&o instanceof Eo?go(s.elements,o.elements,Ir):s instanceof Jh&&o instanceof Jh?Ir(s.Ie,o.Ie):s instanceof Wh&&o instanceof Wh}(r.transform,e.transform)}class MO{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tf{}function cw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fw(r.key,Zn.none()):new Nu(r.key,r.data,Zn.none());{const n=r.data,s=gn.empty();let o=new kt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new cs(r.key,s,new Cn(o.toArray()),Zn.none())}}function VO(r,e,n){r instanceof Nu?function(o,u,f){const p=o.value.clone(),m=wE(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof cs?function(o,u,f){if(!Ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=wE(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(hw(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function fu(r,e,n,s){return r instanceof Nu?function(u,f,p,m){if(!Ch(u.precondition,f))return p;const g=u.value.clone(),E=SE(u.fieldTransforms,m,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof cs?function(u,f,p,m){if(!Ch(u.precondition,f))return p;const g=SE(u.fieldTransforms,m,f),E=f.data;return E.setAll(hw(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,f,p){return Ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function PO(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=sw(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function bE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,f)=>kO(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends Tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends Tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hw(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function wE(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,NO(f,p,n[o]))}return s}function SE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,OO(u,f,e))}return s}class fw extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LO extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=rw();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=cw(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,s)=>bE(n,s))&&go(this.baseMutations,e.baseMutations,(n,s)=>bE(n,s))}}class bg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return RO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function qO(r){switch(r){case re.OK:return Se();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se()}}function dw(r){if(r===void 0)return ci("GRPC error has no .code"),re.UNKNOWN;switch(r){case St.OK:return re.OK;case St.CANCELLED:return re.CANCELLED;case St.UNKNOWN:return re.UNKNOWN;case St.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case St.INTERNAL:return re.INTERNAL;case St.UNAVAILABLE:return re.UNAVAILABLE;case St.UNAUTHENTICATED:return re.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case St.NOT_FOUND:return re.NOT_FOUND;case St.ALREADY_EXISTS:return re.ALREADY_EXISTS;case St.PERMISSION_DENIED:return re.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case St.ABORTED:return re.ABORTED;case St.OUT_OF_RANGE:return re.OUT_OF_RANGE;case St.UNIMPLEMENTED:return re.UNIMPLEMENTED;case St.DATA_LOSS:return re.DATA_LOSS;default:return Se()}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Wi([4294967295,4294967295],0);function AE(r){const e=Mb().encode(r),n=new Ib;return n.update(e),new Uint8Array(n.digest())}function RE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wi([n,s],0),new Wi([o,u],0)]}class wg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(s<0)throw new su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Wi.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Wi.fromNumber(s)));return o.compare(BO)===1&&(o=new Wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=AE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new wg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const n=AE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new bf(Re.min(),o,new ft(Ne),hi(),Le())}}class ku{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ku(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class pw{constructor(e,n){this.targetId=e,this.ge=n}}class mw{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IE{constructor(){this.pe=0,this.ye=CE(),this.we=Xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new ku(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=CE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class HO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hi(),this.$e=ph(),this.Ue=ph(),this.Ke=new ft(Ne)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Im(u))if(s===0){const f=new _e(u.path);this.ze(n,f,rn.newNoDocument(f,Re.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const p=this.tt(e),m=p?this.nt(p,e,f):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ts(s).toUint8Array()}catch(m){if(m instanceof Ub)return mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new wg(f,o,u)}catch(m){return mo(m instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const p=this.Xe(f);if(p){if(u.current&&Im(p.target)){const m=new _e(p.target.path);this._t(m).has(f)||this.ut(f,m)||this.ze(f,m,rn.newNoDocument(m,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Le();this.Ue.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new bf(e,n,this.Ke,this.Qe,s);return this.Qe=hi(),this.$e=ph(),this.Ue=ph(),this.Ke=new ft(Ne),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new IE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new kt(Ne),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new kt(Ne),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new IE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ph(){return new ft(_e.comparator)}function CE(){return new ft(_e.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},GO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$O={and:"AND",or:"OR"};class KO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(r,e){return r.useProto3Json||gf(e)?e:{value:e}}function Zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function QO(r,e){return Zh(r,e.toTimestamp())}function Rr(r){return Ke(!!r),Re.fromTimestamp(function(n){const s=es(n);return new Nt(s.seconds,s.nanos)}(r))}function Sg(r,e){return Om(r,e).canonicalString()}function Om(r,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function yw(r){const e=ot.fromString(r);return Ke(bw(e)),e}function Nm(r,e){return Sg(r.databaseId,e.path)}function em(r,e){const n=yw(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(_w(n))}function vw(r,e){return Sg(r.databaseId,e)}function YO(r){const e=yw(r);return e.length===4?ot.emptyPath():_w(e)}function km(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _w(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function DE(r,e,n){return{name:Nm(r,e),fields:n.value.mapValue.fields}}function XO(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string"),Xt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Xt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const E=g.code===void 0?re.UNKNOWN:dw(g.code);return new fe(E,g.message||"")}(f);n=new mw(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=em(r,s.document.name),u=Rr(s.document.updateTime),f=s.document.createTime?Rr(s.document.createTime):Re.min(),p=new gn({mapValue:{fields:s.document.fields}}),m=rn.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Dh(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=em(r,s.document),u=s.readTime?Rr(s.readTime):Re.min(),f=rn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Dh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=em(r,s.document),u=s.removedTargetIds||[];n=new Dh([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new jO(o,u),p=s.targetId;n=new pw(p,f)}}return n}function WO(r,e){let n;if(e instanceof Nu)n={update:DE(r,e.key,e.value)};else if(e instanceof fw)n={delete:Nm(r,e.key)};else if(e instanceof cs)n={update:DE(r,e.key,e.data),updateMask:aN(e.fieldMask)};else{if(!(e instanceof LO))return Se();n={verify:Nm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Wh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Eo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jh)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw Se()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:QO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(r,e.precondition)),n}function JO(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Rr(o.updateTime):Rr(u);return f.isEqual(Re.min())&&(f=Rr(u)),new MO(f,o.transformResults||[])}(n,e))):[]}function ZO(r,e){return{documents:[vw(r,e.path)]}}function eN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vw(r,o);const u=function(g){if(g.length!==0)return Tw(nr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:io(S.field),direction:rN(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=xm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function tN(r){let e=YO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=Ew(w);return S instanceof nr&&Qb(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(k){return new Xh(so(k.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let p=null;n.limit&&(p=function(w){let S;return S=typeof w=="object"?w.value:w,gf(S)?null:S}(n.limit));let m=null;n.startAt&&(m=function(w){const S=!!w.before,O=w.values||[];return new Yh(O,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,O=w.values||[];return new Yh(O,S)}(n.endAt)),TO(e,o,f,u,p,"F",m,g)}function nN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ew(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(r):r.fieldFilter!==void 0?function(n){return Rt.create(so(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(s=>Ew(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(r):Se()}function rN(r){return FO[r]}function iN(r){return GO[r]}function sN(r){return $O[r]}function io(r){return{fieldPath:r.canonicalString()}}function so(r){return Yt.fromServerFormat(r.fieldPath)}function Tw(r){return r instanceof Rt?function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:iN(n.op),value:n.value}}}(r):r instanceof nr?function(n){const s=n.getFilters().map(o=>Tw(o));return s.length===1?s[0]:{compositeFilter:{op:sN(n.op),filters:s}}}(r):Se()}function aN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,s,o,u=Re.min(),f=Re.min(),p=Xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.Tt=e}}function lN(r){const e=tN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.Tn=new cN}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Zi.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class cN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ww=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(ww,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new To(0)}static Kn(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="LruGarbageCollector",hN=1048576;function NE([r,e],[n,s]){const o=Ne(r,n);return o===0?Ne(e,s):o}class fN{constructor(e){this.Hn=e,this.buffer=new kt(NE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();NE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(OE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?he(OE,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.er(3e5)})}}class pN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(mf.ae);const s=new fN(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(xE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,p,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,p=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),no()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function mN(r,e){return new pN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&fu(s.mutation,o,Cn.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=iu();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=hi();const f=hu(),p=function(){return hu()}();return n.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),fu(E.mutation,g,E.mutation.getFieldMask(),Nt.now())):f.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return p.set(g,new yN(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),p))}recalculateAndSaveOverlays(e,n){const s=hu();let o=new ft((f,p)=>f-p),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let E=s.get(m)||Cn.empty();E=p.applyToLocalView(g,E),s.set(m,E);const w=(o.get(p.batchId)||Le()).add(m);o=o.insert(p.batchId,w)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,w=rw();E.forEach(S=>{if(!u.has(S)){const O=cw(n.get(S),s.get(S));O!==null&&w.set(S,O),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ne.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Qs());let p=vu,m=u;return f.next(g=>ne.forEach(g,(E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{m=m.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Le())).next(E=>({batchId:p,changes:nw(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=iu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=iu();return this.indexManager.getCollectionParents(e,u).next(p=>ne.forEach(p,m=>{const g=function(w,S){return new Ou(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,rn.newInvalidDocument(E)))});let p=iu();return f.forEach((m,g)=>{const E=u.get(m);E!==void 0&&fu(E.mutation,g,Cn.empty(),Nt.now()),_f(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:lN(o.bundledQuery),readTime:Rr(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.overlays=new ft(_e.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new _e(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Qs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return ne.resolve(p)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new zO(n,s));let u=this.Rr.get(n);u===void 0&&(u=Le(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.Vr=new kt(jt.mr),this.gr=new kt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new _e(new ot([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new ot([])),s=new jt(n,e),o=new jt(n,e+1);let u=Le();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Ne(e.Cr,n.Cr)}static pr(e,n){return Ne(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new kt(jt.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new UO(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new jt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?mg:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);u.push(p)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ne);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{s=s.add(p.Cr)})}),ne.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new jt(new _e(u),0);let p=new kt(Ne);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Cr)),!0)},f),ne.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ne.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.kr=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=hi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hi();const f=n.path,p=new _e(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Zx(Jx(E),s)<=0||(o.has(E.key)||_f(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se()}qr(e,n){return ne.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new SN(this)}getSize(e){return ne.resolve(this.size)}}class SN extends gN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.persistence=e,this.Qr=new sa(n=>vg(n),_g),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ag,this.targetCount=0,this.Kr=To.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new To(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new mf(0),this.zr=!1,this.zr=!0,this.jr=new TN,this.referenceDelegate=e(this),this.Hr=new AN(this),this.indexManager=new uN,this.remoteDocumentCache=function(o){return new wN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new oN(n),this.Yr=new _N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new bN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new RN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ne.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class RN extends tO{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.ti=new Ag,this.ni=null}static ri(e){return new Rg(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ef{constructor(e,n){this.persistence=e,this.oi=new sa(s=>iO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=mN(this,n)}static ri(e,n){return new ef(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(p=>{p||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}ar(e,n,s){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ig(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return oI()?8:nO(sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new IN;return this._s(e,n,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,f,p.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(no()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(no()<=Pe.DEBUG&&he("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(no()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):ne.resolve())}rs(e,n){if(EE(n))return ne.resolve(null);let s=Ar(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),s=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(n,p);return this.ls(n,g,f,m.readTime)?this.rs(e,Dm(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,s,o){return EE(n)||o.isEqual(Re.min())?ne.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ne.resolve(null):(no()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.hs(e,f,n,Wx(o,vu)).next(p=>p))})}cs(e,n){let s=new kt(ew(e));return n.forEach((o,u)=>{_f(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return no()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ns.getDocumentsMatchingQuery(e,n,Zi.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",DN=3e8;class xN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ft(Ne),this.Is=new sa(u=>vg(u),_g),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function ON(r,e,n,s){return new xN(r,e,n,s)}async function Aw(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:p}))})})}function NN(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const w=g.batch,S=w.keys();let O=ne.resolve();return S.forEach(k=>{O=O.next(()=>E.getEntry(m,k)).next(G=>{const z=g.docVersions.get(k);Ke(z!==null),G.version.compareTo(z)<0&&(w.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Le();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Rw(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function kN(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;p.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Xt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(w,O),function(G,z,$){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=DN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,O,E)&&p.push(n.Hr.updateTargetData(u,O))});let m=hi(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(MN(u,f,e.documentUpdates).next(E=>{m=E.Vs,g=E.fs})),!s.isEqual(Re.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return ne.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=o,u))}function MN(r,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=hi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):he(Cg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Vs:f,fs:o}})}function VN(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=mg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function PN(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Ki(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Mm(r,e,n){const s=Ie(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Lo(f))throw f;he(Cg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function kE(r,e,n){const s=Ie(r);let o=Re.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,E){const w=Ie(m),S=w.Is.get(E);return S!==void 0?ne.resolve(w.Ts.get(S)):w.Hr.getTargetData(g,E)}(s,f,Ar(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Le())).next(p=>(LN(s,wO(e),p),{documents:p,gs:u})))}function LN(r,e,n){let s=r.Es.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class ME{constructor(){this.activeTargetIds=DO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(){this.ho=new ME,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ME,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="ConnectivityMonitor";class PE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(VE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(VE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function Vm(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Vm(),p=this.bo(e,n.toUriEncodedString());he(tm,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,p,m,s).then(g=>(he(tm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw mo(tm,`RPC '${e}' ${f} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=jN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class HN extends qN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Vm();return new Promise((f,p)=>{const m=new Cb;m.setWithCredentials(!0),m.listenOnce(Db.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ah.NO_ERROR:const E=m.getResponseJson();he(tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Ah.TIMEOUT:he(tn,`RPC '${e}' ${u} timed out`),p(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const w=m.getStatus();if(he(tn,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const k=function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN}(O.status);p(new fe(k,O.message))}else p(new fe(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(tn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(tn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Vm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Nb(),p=Ob(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const w=f.createWebChannel(E,m);let S=!1,O=!1;const k=new BN({Fo:z=>{O?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),he(tn,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},Mo:()=>w.close()}),G=(z,$,W)=>{z.listen($,K=>{try{W(K)}catch(ue){setTimeout(()=>{throw ue},0)}})};return G(w,ru.EventType.OPEN,()=>{O||(he(tn,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),G(w,ru.EventType.CLOSE,()=>{O||(O=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),k.Uo())}),G(w,ru.EventType.ERROR,z=>{O||(O=!0,mo(tn,`RPC '${e}' stream ${o} transport errored:`,z),k.Uo(new fe(re.UNAVAILABLE,"The operation could not be completed")))}),G(w,ru.EventType.MESSAGE,z=>{var $;if(!O){const W=z.data[0];Ke(!!W);const K=W,ue=(K==null?void 0:K.error)||(($=K[0])===null||$===void 0?void 0:$.error);if(ue){he(tn,`RPC '${e}' stream ${o} received error:`,ue);const ae=ue.status;let ce=function(R){const N=St[R];if(N!==void 0)return dw(N)}(ae),C=ue.message;ce===void 0&&(ce=re.INTERNAL,C="Unknown error status: "+ae+" with message "+ue.message),O=!0,k.Uo(new fe(ce,C)),w.close()}else he(tn,`RPC '${e}' stream ${o} received:`,W),k.Ko(W)}}),G(p,xb.STAT_EVENT,z=>{z.stat===bm.PROXY?he(tn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===bm.NOPROXY&&he(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r){return new KO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="PersistentStream";class Cw{constructor(e,n,s,o,u,f,p,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Iw(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new fe(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FN extends Cw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=XO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Rr(f.readTime):Re.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=km(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=Im(m)?{documents:ZO(u,m)}:{query:eN(u,m).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=gw(u,f.resumeToken);const g=xm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){p.readTime=Zh(u,f.snapshotVersion.toTimestamp());const g=xm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=nN(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.I_(n)}}class GN extends Cw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=JO(e.writeResults,e.commitTime),s=Rr(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=km(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>WO(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{}class KN extends $N{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Om(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,Om(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(re.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class QN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ci(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class YN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{aa(this)&&(he(na,"Restarting streams for network reachability change."),await async function(m){const g=Ie(m);g.W_.add(4),await Mu(g),g.j_.set("Unknown"),g.W_.delete(4),await Sf(g)}(this))})}),this.j_=new QN(s,o)}}async function Sf(r){if(aa(r))for(const e of r.G_)await e(!0)}async function Mu(r){for(const e of r.G_)await e(!1)}function Dw(r,e){const n=Ie(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Ng(n)?Og(n):Uo(n).c_()&&xg(n,e))}function Dg(r,e){const n=Ie(r),s=Uo(n);n.K_.delete(e),s.c_()&&xw(n,e),n.K_.size===0&&(s.c_()?s.P_():aa(n)&&n.j_.set("Unknown"))}function xg(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(r).y_(e)}function xw(r,e){r.H_.Ne(e),Uo(r).w_(e)}function Og(r){r.H_=new HO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.j_.B_()}function Ng(r){return aa(r)&&!Uo(r).u_()&&r.K_.size>0}function aa(r){return Ie(r).W_.size===0}function Ow(r){r.H_=void 0}async function XN(r){r.j_.set("Online")}async function WN(r){r.K_.forEach((e,n)=>{xg(r,e)})}async function JN(r,e){Ow(r),Ng(r)?(r.j_.q_(e),Og(r)):r.j_.set("Unknown")}async function ZN(r,e,n){if(r.j_.set("Online"),e instanceof mw&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.K_.delete(p),o.H_.removeTarget(p))}(r,e)}catch(s){he(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tf(r,s)}else if(e instanceof Dh?r.H_.We(e):e instanceof pw?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Re.min()))try{const s=await Rw(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.H_.ot(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const E=u.K_.get(m);if(!E)return;u.K_.set(m,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),xw(u,m);const w=new Ki(E.target,m,g,E.sequenceNumber);xg(u,w)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){he(na,"Failed to raise snapshot:",s),await tf(r,s)}}async function tf(r,e,n){if(!Lo(e))throw e;r.W_.add(1),await Mu(r),r.j_.set("Offline"),n||(n=()=>Rw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(na,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Sf(r)})}function Nw(r,e){return e().catch(n=>tf(r,n,e))}async function Af(r){const e=Ie(r),n=rs(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:mg;for(;e2(e);)try{const o=await VN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,t2(e,o)}catch(o){await tf(e,o)}kw(e)&&Mw(e)}function e2(r){return aa(r)&&r.U_.length<10}function t2(r,e){r.U_.push(e);const n=rs(r);n.c_()&&n.S_&&n.b_(e.mutations)}function kw(r){return aa(r)&&!rs(r).u_()&&r.U_.length>0}function Mw(r){rs(r).start()}async function n2(r){rs(r).C_()}async function r2(r){const e=rs(r);for(const n of r.U_)e.b_(n.mutations)}async function i2(r,e,n){const s=r.U_.shift(),o=bg.from(s,e,n);await Nw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Af(r)}async function s2(r,e){e&&rs(r).S_&&await async function(s,o){if(function(f){return qO(f)&&f!==re.ABORTED}(o.code)){const u=s.U_.shift();rs(s).h_(),await Nw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Af(s)}}(r,e),kw(r)&&Mw(r)}async function UE(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),he(na,"RemoteStore received new credentials");const s=aa(n);n.W_.add(3),await Mu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Sf(n)}async function a2(r,e){const n=Ie(r);e?(n.W_.delete(2),await Sf(n)):e||(n.W_.add(2),await Mu(n),n.j_.set("Unknown"))}function Uo(r){return r.J_||(r.J_=function(n,s,o){const u=Ie(n);return u.M_(),new FN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:XN.bind(null,r),No:WN.bind(null,r),Lo:JN.bind(null,r),p_:ZN.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Ng(r)?Og(r):r.j_.set("Unknown")):(await r.J_.stop(),Ow(r))})),r.J_}function rs(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ie(n);return u.M_(),new GN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:n2.bind(null,r),Lo:s2.bind(null,r),D_:r2.bind(null,r),v_:i2.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Af(r)):(await r.Y_.stop(),r.U_.length>0&&(he(na,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new kg(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(r,e){if(ci("AsyncQueue",`${e}: ${r}`),Lo(r))return new fe(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=iu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Z_=new ft(_e.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class bo{constructor(e,n,s,o,u,f,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new bo(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class l2{constructor(){this.queries=jE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=jE(),u.forEach((f,p)=>{for(const m of p.ta)m.onError(s)})})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function jE(){return new sa(r=>Zb(r),vf)}async function Vw(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new o2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Mg(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Vg(n)}async function Pw(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function u2(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&Vg(n)}function c2(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Vg(r){r.ia.forEach(e=>{e.next()})}var Pm,qE;(qE=Pm||(Pm={}))._a="default",qE.Cache="cache";class Lw{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class h2{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=ew(e),this.wa=new ho(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new zE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),O=_f(this.query,w)?w:null,k=!!S&&this.mutatedKeys.has(S.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;S&&O?S.data.isEqual(O.data)?k!==G&&(s.track({type:3,doc:O}),z=!0):this.va(S,O)||(s.track({type:2,doc:O}),z=!0,(m&&this.ya(O,m)>0||g&&this.ya(O,g)<0)&&(p=!0)):!S&&O?(s.track({type:0,doc:O}),z=!0):S&&!O&&(s.track({type:1,doc:S}),z=!0,(m||g)&&(p=!0)),z&&(O?(f=f.add(O),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(O,k){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return G(O)-G(k)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,f.length!==0||g?{snapshot:new bo(this.query,e.wa,u,f,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new zw(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Uw(s))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pg="SyncEngine";class f2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class d2{constructor(e){this.key=e,this.Ba=!1}}class p2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new sa(p=>Zb(p),vf),this.qa=new Map,this.Qa=new Set,this.$a=new ft(_e.comparator),this.Ua=new Map,this.Ka=new Ag,this.Wa={},this.Ga=new Map,this.za=To.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function m2(r,e,n=!0){const s=Gw(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await jw(s,e,n,!0),o}async function g2(r,e){const n=Gw(r);await jw(n,e,!0,!1)}async function jw(r,e,n,s){const o=await PN(r.localStore,Ar(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await y2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Dw(r.remoteStore,o),p}async function y2(r,e,n,s,o){r.Ha=(w,S,O)=>async function(G,z,$,W){let K=z.view.ba($);K.ls&&(K=await kE(G.localStore,z.query,!1).then(({documents:C})=>z.view.ba(C,K)));const ue=W&&W.targetChanges.get(z.targetId),ae=W&&W.targetMismatches.get(z.targetId)!=null,ce=z.view.applyChanges(K,G.isPrimaryClient,ue,ae);return HE(G,z.targetId,ce.Ma),ce.snapshot}(r,w,S,O);const u=await kE(r.localStore,e,!0),f=new h2(e,u.gs),p=f.ba(u.documents),m=ku.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);HE(r,n,g.Ma);const E=new f2(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function v2(r,e,n){const s=Ie(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!vf(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Mm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dg(s.remoteStore,o.targetId),Lm(s,o.targetId)}).catch(Po)):(Lm(s,o.targetId),await Mm(s.localStore,o.targetId,!0))}async function _2(r,e){const n=Ie(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dg(n.remoteStore,s.targetId))}async function E2(r,e,n){const s=I2(r);try{const o=await function(f,p){const m=Ie(f),g=Nt.now(),E=p.reduce((O,k)=>O.add(k.key),Le());let w,S;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=hi(),G=Le();return m.ds.getEntries(O,E).next(z=>{k=z,k.forEach(($,W)=>{W.isValidDocument()||(G=G.add($))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,k)).next(z=>{w=z;const $=[];for(const W of p){const K=PO(W,w.get(W.key).overlayedDocument);K!=null&&$.push(new cs(W.key,K,Gb(K.value.mapValue),Zn.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,$,p)}).next(z=>{S=z;const $=z.applyToLocalDocumentSet(w,G);return m.documentOverlayCache.saveOverlays(O,z.batchId,$)})}).then(()=>({batchId:S.batchId,changes:nw(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Wa[f.currentUser.toKey()];g||(g=new ft(Ne)),g=g.insert(p,m),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Vu(s,o.changes),await Af(s.remoteStore)}catch(o){const u=Mg(o,"Failed to persist write");n.reject(u)}}async function qw(r,e){const n=Ie(r);try{const s=await kN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await Vu(n,s,e)}catch(s){await Po(s)}}function BE(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Ie(f);m.onlineState=p;let g=!1;m.queries.forEach((E,w)=>{for(const S of w.ta)S.sa(p)&&(g=!0)}),g&&Vg(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function T2(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ft(_e.comparator);f=f.insert(u,rn.newNoDocument(u,Re.min()));const p=Le().add(u),m=new bf(Re.min(),new Map,new ft(Ne),f,p);await qw(s,m),s.$a=s.$a.remove(u),s.Ua.delete(e),Lg(s)}else await Mm(s.localStore,e,!1).then(()=>Lm(s,e,n)).catch(Po)}async function b2(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await NN(n.localStore,e);Hw(n,s,null),Bw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(n,o)}catch(o){await Po(o)}}async function w2(r,e,n){const s=Ie(r);try{const o=await function(f,p){const m=Ie(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(w=>(Ke(w!==null),E=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,e);Hw(s,e,n),Bw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vu(s,o)}catch(o){await Po(o)}}function Bw(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function Hw(r,e,n){const s=Ie(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Lm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||Fw(r,s)})}function Fw(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Dg(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Lg(r))}function HE(r,e,n){for(const s of n)s instanceof Uw?(r.Ka.addReference(s.key,e),S2(r,s)):s instanceof zw?(he(Pg,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||Fw(r,s.key)):Se()}function S2(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(he(Pg,"New document in limbo: "+n),r.Qa.add(s),Lg(r))}function Lg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new _e(ot.fromString(e)),s=r.za.next();r.Ua.set(s,new d2(n)),r.$a=r.$a.insert(n,s),Dw(r.remoteStore,new Ki(Ar(Eg(n.path)),s,"TargetPurposeLimboResolution",mf.ae))}}async function Vu(r,e,n){const s=Ie(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,m)=>{f.push(s.Ha(m,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Ig.Yi(m.targetId,g);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(m,g){const E=Ie(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(g,S=>ne.forEach(S.Hi,O=>E.persistence.referenceDelegate.addReference(w,S.targetId,O)).next(()=>ne.forEach(S.Ji,O=>E.persistence.referenceDelegate.removeReference(w,S.targetId,O)))))}catch(w){if(!Lo(w))throw w;he(Cg,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const O=E.Ts.get(S),k=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(S,G)}}}(s.localStore,u))}async function A2(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){he(Pg,"User change. New user:",e.toKey());const s=await Aw(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(p=>{p.forEach(m=>{m.reject(new fe(re.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(n,s.Rs)}}function R2(r,e){const n=Ie(r),s=n.Ua.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=n.qa.get(e);if(!u)return o;for(const f of u){const p=n.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function Gw(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T2.bind(null,e),e.La.p_=u2.bind(null,e.eventManager),e.La.Ja=c2.bind(null,e.eventManager),e}function I2(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w2.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return ON(this.persistence,new CN,e.initialUser,this.serializer)}Xa(e){return new Sw(Rg.ri,this.serializer)}Za(e){return new UN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class C2 extends nf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof ef);const s=this.persistence.referenceDelegate.garbageCollector;return new dN(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Sw(s=>ef.ri(s,n),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>BE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=A2.bind(null,this.syncEngine),await a2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l2}()}createDatastore(e){const n=wf(e.databaseInfo.databaseId),s=function(u){return new HN(u)}(e.databaseInfo);return function(u,f,p,m){return new KN(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new YN(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>BE(this.syncEngine,n,0),function(){return PE.D()?new PE:new zN}())}createSyncEngine(e,n){return function(o,u,f,p,m,g,E){const w=new p2(o,u,f,p,m,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);he(na,"RemoteStore shutting down."),u.W_.add(5),await Mu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class D2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Vb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rm(r,e){r.asyncQueue.verifyOperationInProgress(),he(is,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Aw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function FE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await x2(r);he(is,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>UE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>UE(e.remoteStore,o)),r._onlineComponents=e}async function x2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(is,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new nf)}}else he(is,"Using default OfflineComponentProvider"),await rm(r,new C2(void 0));return r._offlineComponents}async function Kw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(is,"Using user provided OnlineComponentProvider"),await FE(r,r._uninitializedComponentsProvider._online)):(he(is,"Using default OnlineComponentProvider"),await FE(r,new Um))),r._onlineComponents}function O2(r){return Kw(r).then(e=>e.syncEngine)}async function Qw(r){const e=await Kw(r),n=e.eventManager;return n.onListen=m2.bind(null,e.syncEngine),n.onUnlisten=v2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_2.bind(null,e.syncEngine),n}function N2(r,e,n={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new $w({next:S=>{E.su(),f.enqueueAndForget(()=>Pw(u,w));const O=S.docs.has(p);!O&&S.fromCache?g.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&m&&m.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new Lw(Eg(p.path),E,{includeMetadataChanges:!0,Ta:!0});return Vw(u,w)}(await Qw(r),r.asyncQueue,e,n,s)),s.promise}function k2(r,e,n={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new $w({next:S=>{E.su(),f.enqueueAndForget(()=>Pw(u,w)),S.fromCache&&m.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new Lw(p,E,{includeMetadataChanges:!0,Ta:!0});return Vw(u,w)}(await Qw(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(r,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function M2(r,e,n,s){if(e===!0&&s===!0)throw new fe(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $E(r){if(!_e.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function KE(r){if(_e.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Rf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se()}function Cr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rf(r);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="firestore.googleapis.com",QE=!0;class YE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ww,this.ssl=QE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:QE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ww;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hN)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Bx;switch(s.type){case"firstParty":return new $x(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=GE.get(n);s&&(he("ComponentProvider","Removing Datastore"),GE.delete(n),s.terminate())}(this),Promise.resolve()}}function V2(r,e,n,s={}){var o;const u=(r=Cr(r,If))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==Ww&&u.host!==p&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!oi(m,f)&&(r._setSettings(m),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=nn.MOCK_USER;else{g=eI(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(w)}r._authCredentials=new Hx(new kb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Ji extends zo{constructor(e,n,s){super(e,n,Eg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new _e(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function rf(r,e,...n){if(r=Bt(r),Xw("collection","path",e),r instanceof If){const s=ot.fromString(e,...n);return KE(s),new Ji(r,null,s)}{if(!(r instanceof cn||r instanceof Ji))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return KE(s),new Ji(r.firestore,null,s)}}function Pu(r,e,...n){if(r=Bt(r),arguments.length===1&&(e=Vb.newId()),Xw("doc","path",e),r instanceof If){const s=ot.fromString(e,...n);return $E(s),new cn(r,null,new _e(s))}{if(!(r instanceof cn||r instanceof Ji))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...n));return $E(s),new cn(r.firestore,r instanceof Ji?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Iw(this,"async_queue_retry"),this.Su=()=>{const s=nm();s&&he(XE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new si;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Lo(e))throw e;he(XE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw ci("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=kg.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class jo extends If{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new WE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function P2(r,e){const n=typeof r=="object"?r:FT(),s=typeof r=="string"?r:Kh,o=ig(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=J1("firestore");u&&V2(o,...u)}return o}function Ug(r){if(r._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||L2(r),r._firestoreClient}function L2(r){var e,n,s;const o=r._freezeSettings(),u=function(p,m,g,E){return new oO(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Yw(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new D2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(Xt.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=/^__.*__$/;class z2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class Jw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Df{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return sf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Zw(this.Lu)&&U2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class j2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wf(e)}ju(e,n,s,o=!1){return new Df({Lu:e,methodName:n,zu:s,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xf(r){const e=r._freezeSettings(),n=wf(r._databaseId);return new j2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function eS(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Hg("Data must be an object, but it was:",f,s);const p=nS(s,f);let m,g;if(u.merge)m=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=zm(e,w,n);if(!f.contains(S))throw new fe(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);iS(E,S)||E.push(S)}m=new Cn(E),g=f.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=f.fieldTransforms;return new z2(new gn(p),m,g)}class Of extends Lu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function tS(r,e,n){return new Df({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qg extends Lu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=tS(this,e,!0),s=this.Hu.map(u=>oa(u,n)),o=new _o(s);return new uw(e.path,o)}isEqual(e){return e instanceof qg&&oi(this.Hu,e.Hu)}}class Bg extends Lu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=tS(this,e,!0),s=this.Hu.map(u=>oa(u,n)),o=new Eo(s);return new uw(e.path,o)}isEqual(e){return e instanceof Bg&&oi(this.Hu,e.Hu)}}function q2(r,e,n,s){const o=r.ju(1,e,n);Hg("Data must be an object, but it was:",o,s);const u=[],f=gn.empty();us(s,(m,g)=>{const E=Fg(e,m,n);g=Bt(g);const w=o.Uu(E);if(g instanceof Of)u.push(E);else{const S=oa(g,w);S!=null&&(u.push(E),f.set(E,S))}});const p=new Cn(u);return new Jw(f,p,o.fieldTransforms)}function B2(r,e,n,s,o,u){const f=r.ju(1,e,n),p=[zm(e,s,n)],m=[o];if(u.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(zm(e,u[S])),m.push(u[S+1]);const g=[],E=gn.empty();for(let S=p.length-1;S>=0;--S)if(!iS(g,p[S])){const O=p[S];let k=m[S];k=Bt(k);const G=f.Uu(O);if(k instanceof Of)g.push(O);else{const z=oa(k,G);z!=null&&(g.push(O),E.set(O,z))}}const w=new Cn(g);return new Jw(E,w,f.fieldTransforms)}function H2(r,e,n,s=!1){return oa(n,r.ju(s?4:3,e))}function oa(r,e){if(rS(r=Bt(r)))return Hg("Unsupported field value:",e,r),nS(r,e);if(r instanceof Lu)return function(s,o){if(!Zw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=oa(p,o.Ku(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Zh(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(s instanceof zg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wo)return{bytesValue:gw(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof jg)return function(f,p){return{mapValue:{fields:{[Hb]:{stringValue:Fb},[Qh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return Tg(p.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Rf(s)}`)}(r,e)}function nS(r,e){const n={};return Lb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(r,(s,o)=>{const u=oa(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function rS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Nt||r instanceof zg||r instanceof wo||r instanceof cn||r instanceof Lu||r instanceof jg)}function Hg(r,e,n){if(!rS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Rf(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function zm(r,e,n){if((e=Bt(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return Fg(r,e);throw sf("Field path arguments must be of type string or ",r,!1,void 0,n)}const F2=new RegExp("[~\\*/\\[\\]]");function Fg(r,e,n){if(e.search(F2)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sf(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new fe(re.INVALID_ARGUMENT,p+r+m)}function iS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G2 extends sS{data(){return super.data()}}function Gg(r,e){return typeof e=="string"?Fg(r,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class K2 extends $g{}function Q2(r,e,...n){let s=[];e instanceof $g&&s.push(e),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof Kg).length,p=u.filter(m=>m instanceof Nf).length;if(f>1||f>0&&p>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Nf extends K2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Nf(e,n,s)}_apply(e){const n=this._parse(e);return aS(e._query,n),new zo(e.firestore,e.converter,Cm(e._query,n))}_parse(e){const n=xf(e.firestore);return function(u,f,p,m,g,E,w){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ZE(w,E);const k=[];for(const G of w)k.push(JE(m,u,G));S={arrayValue:{values:k}}}else S=JE(m,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ZE(w,E),S=H2(p,f,w,E==="in"||E==="not-in");return Rt.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Y2(r,e,n){const s=e,o=Gg("where",r);return Nf._create(o,s,n)}class Kg extends $g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)aS(f,m),f=Cm(f,m)}(e._query,n),new zo(e.firestore,e.converter,Cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JE(r,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jb(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(s))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pE(r,new _e(s))}if(n instanceof cn)return pE(r,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rf(n)}.`)}function ZE(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aS(r,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class X2{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return us(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new jg(u)}convertGeoPoint(e){return new zg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=yf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=es(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ke(bw(s));const o=new Eu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lS extends sS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Gg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class xh extends lS{data(e={}){return super.data(e)}}class W2{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new au(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new au(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:J2(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){r=Cr(r,cn);const e=Cr(r.firestore,jo);return N2(Ug(e),r._key).then(n=>tk(e,r,n))}class uS extends X2{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function jm(r){r=Cr(r,zo);const e=Cr(r.firestore,jo),n=Ug(e),s=new uS(e);return $2(r._query),k2(n,r._query).then(o=>new W2(e,s,r,o))}function ek(r,e,n){r=Cr(r,cn);const s=Cr(r.firestore,jo),o=oS(r.converter,e);return Qg(s,[eS(xf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function cS(r,e,n,...s){r=Cr(r,cn);const o=Cr(r.firestore,jo),u=xf(o);let f;return f=typeof(e=Bt(e))=="string"||e instanceof Cf?B2(u,"updateDoc",r._key,e,n,s):q2(u,"updateDoc",r._key,e),Qg(o,[f.toMutation(r._key,Zn.exists(!0))])}function hS(r,e){const n=Cr(r.firestore,jo),s=Pu(r),o=oS(r.converter,e);return Qg(n,[eS(xf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function Qg(r,e){return function(s,o){const u=new si;return s.asyncQueue.enqueueAndForget(async()=>E2(await O2(s),o,u)),u.promise}(Ug(r),e)}function tk(r,e,n){const s=n.docs.get(e._key),o=new uS(r);return new lS(r,o,e._key,s,new au(n.hasPendingWrites,n.fromCache),e.converter)}function nk(...r){return new qg("arrayUnion",r)}function rk(...r){return new Bg("arrayRemove",r)}(function(e,n=!0){(function(o){Vo=o})(ko),po(new Js("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new jo(new Fx(s.getProvider("auth-internal")),new Kx(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Xi(nE,rE,e),Xi(nE,rE,"esm2017")})();const ik={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},fS=HT(ik),gh=Ux(fS),ss=P2(fS),dS=F.createContext(),qo=()=>F.useContext(dS),sk=({children:r})=>{const[e,n]=F.useState(null),[s,o]=F.useState(!0),u=(g,E)=>bD(gh,g,E),f=(g,E)=>wD(gh,g,E),p=()=>ID(gh);F.useEffect(()=>RD(gh,E=>{n(E),o(!1)}),[]);const m={currentUser:e,register:u,login:f,logout:p};return Y.jsx(dS.Provider,{value:m,children:!s&&r})};var at="-ms-",du="-moz-",$e="-webkit-",pS="comm",kf="rule",Yg="decl",ak="@import",mS="@keyframes",ok="@layer",gS=Math.abs,Xg=String.fromCharCode,qm=Object.assign;function lk(r,e){return qt(r,0)^45?(((e<<2^qt(r,0))<<2^qt(r,1))<<2^qt(r,2))<<2^qt(r,3):0}function yS(r){return r.trim()}function ei(r,e){return(r=e.exec(r))?r[0]:r}function xe(r,e,n){return r.replace(e,n)}function Oh(r,e,n){return r.indexOf(e,n)}function qt(r,e){return r.charCodeAt(e)|0}function So(r,e,n){return r.slice(e,n)}function br(r){return r.length}function vS(r){return r.length}function ou(r,e){return e.push(r),r}function uk(r,e){return r.map(e).join("")}function eT(r,e){return r.filter(function(n){return!ei(n,e)})}var Mf=1,Ao=1,_S=0,Gn=0,At=0,Bo="";function Vf(r,e,n,s,o,u,f,p){return{value:r,root:e,parent:n,type:s,props:o,children:u,line:Mf,column:Ao,length:f,return:"",siblings:p}}function Bi(r,e){return qm(Vf("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},e)}function eo(r){for(;r.root;)r=Bi(r.root,{children:[r]});ou(r,r.siblings)}function ck(){return At}function hk(){return At=Gn>0?qt(Bo,--Gn):0,Ao--,At===10&&(Ao=1,Mf--),At}function er(){return At=Gn<_S?qt(Bo,Gn++):0,Ao++,At===10&&(Ao=1,Mf++),At}function Xs(){return qt(Bo,Gn)}function Nh(){return Gn}function Pf(r,e){return So(Bo,r,e)}function Bm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fk(r){return Mf=Ao=1,_S=br(Bo=r),Gn=0,[]}function dk(r){return Bo="",r}function im(r){return yS(Pf(Gn-1,Hm(r===91?r+2:r===40?r+1:r)))}function pk(r){for(;(At=Xs())&&At<33;)er();return Bm(r)>2||Bm(At)>3?"":" "}function mk(r,e){for(;--e&&er()&&!(At<48||At>102||At>57&&At<65||At>70&&At<97););return Pf(r,Nh()+(e<6&&Xs()==32&&er()==32))}function Hm(r){for(;er();)switch(At){case r:return Gn;case 34:case 39:r!==34&&r!==39&&Hm(At);break;case 40:r===41&&Hm(r);break;case 92:er();break}return Gn}function gk(r,e){for(;er()&&r+At!==57;)if(r+At===84&&Xs()===47)break;return"/*"+Pf(e,Gn-1)+"*"+Xg(r===47?r:er())}function yk(r){for(;!Bm(Xs());)er();return Pf(r,Gn)}function vk(r){return dk(kh("",null,null,null,[""],r=fk(r),0,[0],r))}function kh(r,e,n,s,o,u,f,p,m){for(var g=0,E=0,w=f,S=0,O=0,k=0,G=1,z=1,$=1,W=0,K="",ue=o,ae=u,ce=s,C=K;z;)switch(k=W,W=er()){case 40:if(k!=108&&qt(C,w-1)==58){Oh(C+=xe(im(W),"&","&\f"),"&\f",gS(g?p[g-1]:0))!=-1&&($=-1);break}case 34:case 39:case 91:C+=im(W);break;case 9:case 10:case 13:case 32:C+=pk(k);break;case 92:C+=mk(Nh()-1,7);continue;case 47:switch(Xs()){case 42:case 47:ou(_k(gk(er(),Nh()),e,n,m),m);break;default:C+="/"}break;case 123*G:p[g++]=br(C)*$;case 125*G:case 59:case 0:switch(W){case 0:case 125:z=0;case 59+E:$==-1&&(C=xe(C,/\f/g,"")),O>0&&br(C)-w&&ou(O>32?nT(C+";",s,n,w-1,m):nT(xe(C," ","")+";",s,n,w-2,m),m);break;case 59:C+=";";default:if(ou(ce=tT(C,e,n,g,E,o,p,K,ue=[],ae=[],w,u),u),W===123)if(E===0)kh(C,e,ce,ce,ue,u,w,p,ae);else switch(S===99&&qt(C,3)===110?100:S){case 100:case 108:case 109:case 115:kh(r,ce,ce,s&&ou(tT(r,ce,ce,0,0,o,p,K,o,ue=[],w,ae),ae),o,ae,w,p,s?ue:ae);break;default:kh(C,ce,ce,ce,[""],ae,0,p,ae)}}g=E=O=0,G=$=1,K=C="",w=f;break;case 58:w=1+br(C),O=k;default:if(G<1){if(W==123)--G;else if(W==125&&G++==0&&hk()==125)continue}switch(C+=Xg(W),W*G){case 38:$=E>0?1:(C+="\f",-1);break;case 44:p[g++]=(br(C)-1)*$,$=1;break;case 64:Xs()===45&&(C+=im(er())),S=Xs(),E=w=br(K=C+=yk(Nh())),W++;break;case 45:k===45&&br(C)==2&&(G=0)}}return u}function tT(r,e,n,s,o,u,f,p,m,g,E,w){for(var S=o-1,O=o===0?u:[""],k=vS(O),G=0,z=0,$=0;G<s;++G)for(var W=0,K=So(r,S+1,S=gS(z=f[G])),ue=r;W<k;++W)(ue=yS(z>0?O[W]+" "+K:xe(K,/&\f/g,O[W])))&&(m[$++]=ue);return Vf(r,e,n,o===0?kf:p,m,g,E,w)}function _k(r,e,n,s){return Vf(r,e,n,pS,Xg(ck()),So(r,2,-2),0,s)}function nT(r,e,n,s,o){return Vf(r,e,n,Yg,So(r,0,s),So(r,s+1,-1),s,o)}function ES(r,e,n){switch(lk(r,e)){case 5103:return $e+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $e+r+r;case 4789:return du+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $e+r+du+r+at+r+r;case 5936:switch(qt(r,e+11)){case 114:return $e+r+at+xe(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $e+r+at+xe(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $e+r+at+xe(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $e+r+at+r+r;case 6165:return $e+r+at+"flex-"+r+r;case 5187:return $e+r+xe(r,/(\w+).+(:[^]+)/,$e+"box-$1$2"+at+"flex-$1$2")+r;case 5443:return $e+r+at+"flex-item-"+xe(r,/flex-|-self/g,"")+(ei(r,/flex-|baseline/)?"":at+"grid-row-"+xe(r,/flex-|-self/g,""))+r;case 4675:return $e+r+at+"flex-line-pack"+xe(r,/align-content|flex-|-self/g,"")+r;case 5548:return $e+r+at+xe(r,"shrink","negative")+r;case 5292:return $e+r+at+xe(r,"basis","preferred-size")+r;case 6060:return $e+"box-"+xe(r,"-grow","")+$e+r+at+xe(r,"grow","positive")+r;case 4554:return $e+xe(r,/([^-])(transform)/g,"$1"+$e+"$2")+r;case 6187:return xe(xe(xe(r,/(zoom-|grab)/,$e+"$1"),/(image-set)/,$e+"$1"),r,"")+r;case 5495:case 3959:return xe(r,/(image-set\([^]*)/,$e+"$1$`$1");case 4968:return xe(xe(r,/(.+:)(flex-)?(.*)/,$e+"box-pack:$3"+at+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$e+r+r;case 4200:if(!ei(r,/flex-|baseline/))return at+"grid-column-align"+So(r,e)+r;break;case 2592:case 3360:return at+xe(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return e=o,ei(s.props,/grid-\w+-end/)})?~Oh(r+(n=n[e].value),"span",0)?r:at+xe(r,"-start","")+r+at+"grid-row-span:"+(~Oh(n,"span",0)?ei(n,/\d+/):+ei(n,/\d+/)-+ei(r,/\d+/))+";":at+xe(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return ei(s.props,/grid-\w+-start/)})?r:at+xe(xe(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return xe(r,/(.+)-inline(.+)/,$e+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(br(r)-1-e>6)switch(qt(r,e+1)){case 109:if(qt(r,e+4)!==45)break;case 102:return xe(r,/(.+:)(.+)-([^]+)/,"$1"+$e+"$2-$3$1"+du+(qt(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~Oh(r,"stretch",0)?ES(xe(r,"stretch","fill-available"),e,n)+r:r}break;case 5152:case 5920:return xe(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return at+o+":"+u+g+(f?at+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(qt(r,e+6)===121)return xe(r,":",":"+$e)+r;break;case 6444:switch(qt(r,qt(r,14)===45?18:11)){case 120:return xe(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$e+(qt(r,14)===45?"inline-":"")+"box$3$1"+$e+"$2$3$1"+at+"$2box$3")+r;case 100:return xe(r,":",":"+at)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xe(r,"scroll-","scroll-snap-")+r}return r}function af(r,e){for(var n="",s=0;s<r.length;s++)n+=e(r[s],s,r,e)||"";return n}function Ek(r,e,n,s){switch(r.type){case ok:if(r.children.length)break;case ak:case Yg:return r.return=r.return||r.value;case pS:return"";case mS:return r.return=r.value+"{"+af(r.children,s)+"}";case kf:if(!br(r.value=r.props.join(",")))return""}return br(n=af(r.children,s))?r.return=r.value+"{"+n+"}":""}function Tk(r){var e=vS(r);return function(n,s,o,u){for(var f="",p=0;p<e;p++)f+=r[p](n,s,o,u)||"";return f}}function bk(r){return function(e){e.root||(e=e.return)&&r(e)}}function wk(r,e,n,s){if(r.length>-1&&!r.return)switch(r.type){case Yg:r.return=ES(r.value,r.length,n);return;case mS:return af([Bi(r,{value:xe(r.value,"@","@"+$e)})],s);case kf:if(r.length)return uk(n=r.props,function(o){switch(ei(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":eo(Bi(r,{props:[xe(o,/:(read-\w+)/,":"+du+"$1")]})),eo(Bi(r,{props:[o]})),qm(r,{props:eT(n,s)});break;case"::placeholder":eo(Bi(r,{props:[xe(o,/:(plac\w+)/,":"+$e+"input-$1")]})),eo(Bi(r,{props:[xe(o,/:(plac\w+)/,":"+du+"$1")]})),eo(Bi(r,{props:[xe(o,/:(plac\w+)/,at+"input-$1")]})),eo(Bi(r,{props:[o]})),qm(r,{props:eT(n,s)});break}return""})}}var Sk={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},In={},Ro=typeof process<"u"&&In!==void 0&&(In.REACT_APP_SC_ATTR||In.SC_ATTR)||"data-styled",TS="active",bS="data-styled-version",Lf="6.1.17",Wg=`/*!sc*/
`,of=typeof window<"u"&&"HTMLElement"in window,Ak=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==""?In.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&In.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.SC_DISABLE_SPEEDY!==void 0&&In.SC_DISABLE_SPEEDY!==""&&In.SC_DISABLE_SPEEDY!=="false"&&In.SC_DISABLE_SPEEDY),Uf=Object.freeze([]),Io=Object.freeze({});function Rk(r,e,n){return n===void 0&&(n=Io),r.theme!==n.theme&&r.theme||e||n.theme}var wS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ik=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ck=/(^-|-$)/g;function rT(r){return r.replace(Ik,"-").replace(Ck,"")}var Dk=/(a)(d)/gi,yh=52,iT=function(r){return String.fromCharCode(r+(r>25?39:97))};function Fm(r){var e,n="";for(e=Math.abs(r);e>yh;e=e/yh|0)n=iT(e%yh)+n;return(iT(e%yh)+n).replace(Dk,"$1-$2")}var sm,SS=5381,oo=function(r,e){for(var n=e.length;n;)r=33*r^e.charCodeAt(--n);return r},AS=function(r){return oo(SS,r)};function xk(r){return Fm(AS(r)>>>0)}function Ok(r){return r.displayName||r.name||"Component"}function am(r){return typeof r=="string"&&!0}var RS=typeof Symbol=="function"&&Symbol.for,IS=RS?Symbol.for("react.memo"):60115,Nk=RS?Symbol.for("react.forward_ref"):60112,kk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Mk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},CS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vk=((sm={})[Nk]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sm[IS]=CS,sm);function sT(r){return("type"in(e=r)&&e.type.$$typeof)===IS?CS:"$$typeof"in r?Vk[r.$$typeof]:kk;var e}var Pk=Object.defineProperty,Lk=Object.getOwnPropertyNames,aT=Object.getOwnPropertySymbols,Uk=Object.getOwnPropertyDescriptor,zk=Object.getPrototypeOf,oT=Object.prototype;function DS(r,e,n){if(typeof e!="string"){if(oT){var s=zk(e);s&&s!==oT&&DS(r,s,n)}var o=Lk(e);aT&&(o=o.concat(aT(e)));for(var u=sT(r),f=sT(e),p=0;p<o.length;++p){var m=o[p];if(!(m in Mk||n&&n[m]||f&&m in f||u&&m in u)){var g=Uk(e,m);try{Pk(r,m,g)}catch{}}}}return r}function Co(r){return typeof r=="function"}function Jg(r){return typeof r=="object"&&"styledComponentId"in r}function Ys(r,e){return r&&e?"".concat(r," ").concat(e):r||e||""}function lT(r,e){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function bu(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Gm(r,e,n){if(n===void 0&&(n=!1),!n&&!bu(r)&&!Array.isArray(r))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)r[s]=Gm(r[s],e[s]);else if(bu(e))for(var s in e)r[s]=Gm(r[s],e[s]);return r}function Zg(r,e){Object.defineProperty(r,"toString",{value:e})}function Uu(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var jk=function(){function r(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return r.prototype.indexOfGroup=function(e){for(var n=0,s=0;s<e;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;e>=u;)if((u<<=1)<0)throw Uu(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(e+1),m=(f=0,n.length);f<m;f++)this.tag.insertRule(p,n[f])&&(this.groupSizes[e]++,p++)},r.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],s=this.indexOfGroup(e),o=s+n;this.groupSizes[e]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(Wg);return n},r}(),Mh=new Map,lf=new Map,Vh=1,vh=function(r){if(Mh.has(r))return Mh.get(r);for(;lf.has(Vh);)Vh++;var e=Vh++;return Mh.set(r,e),lf.set(e,r),e},qk=function(r,e){Vh=e+1,Mh.set(r,e),lf.set(e,r)},Bk="style[".concat(Ro,"][").concat(bS,'="').concat(Lf,'"]'),Hk=new RegExp("^".concat(Ro,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Fk=function(r,e,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(e,s)},Gk=function(r,e){for(var n,s=((n=e.textContent)!==null&&n!==void 0?n:"").split(Wg),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(Hk);if(m){var g=0|parseInt(m[1],10),E=m[2];g!==0&&(qk(E,g),Fk(r,E,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},uT=function(r){for(var e=document.querySelectorAll(Bk),n=0,s=e.length;n<s;n++){var o=e[n];o&&o.getAttribute(Ro)!==TS&&(Gk(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function $k(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var xS=function(r){var e=document.head,n=r||e,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(Ro,"]")));return m[m.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(Ro,TS),s.setAttribute(bS,Lf);var f=$k();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},Kk=function(){function r(e){this.element=xS(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw Uu(17)}(this.element),this.length=0}return r.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},r.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},r}(),Qk=function(){function r(e){this.element=xS(e),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},r.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},r}(),Yk=function(){function r(e){this.rules=[],this.length=0}return r.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},r.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},r.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},r}(),cT=of,Xk={isServer:!of,useCSSOMInjection:!Ak},OS=function(){function r(e,n,s){e===void 0&&(e=Io),n===void 0&&(n={});var o=this;this.options=yn(yn({},Xk),e),this.gs=n,this.names=new Map(s),this.server=!!e.isServer,!this.server&&of&&cT&&(cT=!1,uT(this)),Zg(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(w){var S=function($){return lf.get($)}(w);if(S===void 0)return"continue";var O=u.names.get(S),k=f.getGroup(w);if(O===void 0||!O.size||k.length===0)return"continue";var G="".concat(Ro,".g").concat(w,'[id="').concat(S,'"]'),z="";O!==void 0&&O.forEach(function($){$.length>0&&(z+="".concat($,","))}),m+="".concat(k).concat(G,'{content:"').concat(z,'"}').concat(Wg)},E=0;E<p;E++)g(E);return m}(o)})}return r.registerId=function(e){return vh(e)},r.prototype.rehydrate=function(){!this.server&&of&&uT(this)},r.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new r(yn(yn({},this.options),e),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new Yk(o):s?new Kk(o):new Qk(o)}(this.options),new jk(e)));var e},r.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},r.prototype.registerName=function(e,n){if(vh(e),this.names.has(e))this.names.get(e).add(n);else{var s=new Set;s.add(n),this.names.set(e,s)}},r.prototype.insertRules=function(e,n,s){this.registerName(e,n),this.getTag().insertRules(vh(e),s)},r.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},r.prototype.clearRules=function(e){this.getTag().clearGroup(vh(e)),this.clearNames(e)},r.prototype.clearTag=function(){this.tag=void 0},r}(),Wk=/&/g,Jk=/^\s*\/\/.*$/gm;function NS(r,e){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=NS(n.children,e)),n})}function Zk(r){var e,n,s,o=Io,u=o.options,f=u===void 0?Io:u,p=o.plugins,m=p===void 0?Uf:p,g=function(S,O,k){return k.startsWith(n)&&k.endsWith(n)&&k.replaceAll(n,"").length>0?".".concat(e):S},E=m.slice();E.push(function(S){S.type===kf&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(Wk,n).replace(s,g))}),f.prefix&&E.push(wk),E.push(Ek);var w=function(S,O,k,G){O===void 0&&(O=""),k===void 0&&(k=""),G===void 0&&(G="&"),e=G,n=O,s=new RegExp("\\".concat(n,"\\b"),"g");var z=S.replace(Jk,""),$=vk(k||O?"".concat(k," ").concat(O," { ").concat(z," }"):z);f.namespace&&($=NS($,f.namespace));var W=[];return af($,Tk(E.concat(bk(function(K){return W.push(K)})))),W};return w.hash=m.length?m.reduce(function(S,O){return O.name||Uu(15),oo(S,O.name)},SS).toString():"",w}var eM=new OS,$m=Zk(),kS=fo.createContext({shouldForwardProp:void 0,styleSheet:eM,stylis:$m});kS.Consumer;fo.createContext(void 0);function hT(){return F.useContext(kS)}var tM=function(){function r(e,n){var s=this;this.inject=function(o,u){u===void 0&&(u=$m);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Zg(this,function(){throw Uu(12,String(s.name))})}return r.prototype.getName=function(e){return e===void 0&&(e=$m),this.name+e.hash},r}(),nM=function(r){return r>="A"&&r<="Z"};function fT(r){for(var e="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;nM(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var MS=function(r){return r==null||r===!1||r===""},VS=function(r){var e,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!MS(u)&&(Array.isArray(u)&&u.isCss||Co(u)?s.push("".concat(fT(o),":"),u,";"):bu(u)?s.push.apply(s,zh(zh(["".concat(o," {")],VS(u),!1),["}"],!1)):s.push("".concat(fT(o),": ").concat((e=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Sk||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function Ws(r,e,n,s){if(MS(r))return[];if(Jg(r))return[".".concat(r.styledComponentId)];if(Co(r)){if(!Co(u=r)||u.prototype&&u.prototype.isReactComponent||!e)return[r];var o=r(e);return Ws(o,e,n,s)}var u;return r instanceof tM?n?(r.inject(n,s),[r.getName(s)]):[r]:bu(r)?VS(r):Array.isArray(r)?Array.prototype.concat.apply(Uf,r.map(function(f){return Ws(f,e,n,s)})):[r.toString()]}function rM(r){for(var e=0;e<r.length;e+=1){var n=r[e];if(Co(n)&&!Jg(n))return!1}return!0}var iM=AS(Lf),sM=function(){function r(e,n,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&rM(e),this.componentId=n,this.baseHash=oo(iM,n),this.baseStyle=s,OS.registerId(n)}return r.prototype.generateAndInjectStyles=function(e,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Ys(o,this.staticRulesId);else{var u=lT(Ws(this.rules,e,n,s)),f=Fm(oo(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}o=Ys(o,f),this.staticRulesId=f}else{for(var m=oo(this.baseHash,s.hash),g="",E=0;E<this.rules.length;E++){var w=this.rules[E];if(typeof w=="string")g+=w;else if(w){var S=lT(Ws(w,e,n,s));m=oo(m,S+E),g+=S}}if(g){var O=Fm(m>>>0);n.hasNameForId(this.componentId,O)||n.insertRules(this.componentId,O,s(g,".".concat(O),void 0,this.componentId)),o=Ys(o,O)}}return o},r}(),PS=fo.createContext(void 0);PS.Consumer;var om={};function aM(r,e,n){var s=Jg(r),o=r,u=!am(r),f=e.attrs,p=f===void 0?Uf:f,m=e.componentId,g=m===void 0?function(ue,ae){var ce=typeof ue!="string"?"sc":rT(ue);om[ce]=(om[ce]||0)+1;var C="".concat(ce,"-").concat(xk(Lf+ce+om[ce]));return ae?"".concat(ae,"-").concat(C):C}(e.displayName,e.parentComponentId):m,E=e.displayName,w=E===void 0?function(ue){return am(ue)?"styled.".concat(ue):"Styled(".concat(Ok(ue),")")}(r):E,S=e.displayName&&e.componentId?"".concat(rT(e.displayName),"-").concat(e.componentId):e.componentId||g,O=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,k=e.shouldForwardProp;if(s&&o.shouldForwardProp){var G=o.shouldForwardProp;if(e.shouldForwardProp){var z=e.shouldForwardProp;k=function(ue,ae){return G(ue,ae)&&z(ue,ae)}}else k=G}var $=new sM(n,S,s?o.componentStyle:void 0);function W(ue,ae){return function(ce,C,A){var R=ce.attrs,N=ce.componentStyle,V=ce.defaultProps,P=ce.foldedComponentIds,I=ce.styledComponentId,rt=ce.target,We=fo.useContext(PS),X=hT(),oe=ce.shouldForwardProp||X.shouldForwardProp,me=Rk(C,We,V)||Io,Ce=function(Ae,ye,Je){for(var Be,Mt=yn(yn({},ye),{className:void 0,theme:Je}),Dn=0;Dn<Ae.length;Dn+=1){var hn=Co(Be=Ae[Dn])?Be(Mt):Be;for(var Wt in hn)Mt[Wt]=Wt==="className"?Ys(Mt[Wt],hn[Wt]):Wt==="style"?yn(yn({},Mt[Wt]),hn[Wt]):hn[Wt]}return ye.className&&(Mt.className=Ys(Mt.className,ye.className)),Mt}(R,C,me),x=Ce.as||rt,ee={};for(var se in Ce)Ce[se]===void 0||se[0]==="$"||se==="as"||se==="theme"&&Ce.theme===me||(se==="forwardedAs"?ee.as=Ce.forwardedAs:oe&&!oe(se,x)||(ee[se]=Ce[se]));var ie=function(Ae,ye){var Je=hT(),Be=Ae.generateAndInjectStyles(ye,Je.styleSheet,Je.stylis);return Be}(N,Ce),ge=Ys(P,I);return ie&&(ge+=" "+ie),Ce.className&&(ge+=" "+Ce.className),ee[am(x)&&!wS.has(x)?"class":"className"]=ge,A&&(ee.ref=A),F.createElement(x,ee)}(K,ue,ae)}W.displayName=w;var K=fo.forwardRef(W);return K.attrs=O,K.componentStyle=$,K.displayName=w,K.shouldForwardProp=k,K.foldedComponentIds=s?Ys(o.foldedComponentIds,o.styledComponentId):"",K.styledComponentId=S,K.target=s?o.target:r,Object.defineProperty(K,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ue){this._foldedDefaultProps=s?function(ae){for(var ce=[],C=1;C<arguments.length;C++)ce[C-1]=arguments[C];for(var A=0,R=ce;A<R.length;A++)Gm(ae,R[A],!0);return ae}({},o.defaultProps,ue):ue}}),Zg(K,function(){return".".concat(K.styledComponentId)}),u&&DS(K,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),K}function dT(r,e){for(var n=[r[0]],s=0,o=e.length;s<o;s+=1)n.push(e[s],r[s+1]);return n}var pT=function(r){return Object.assign(r,{isCss:!0})};function oM(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Co(r)||bu(r))return pT(Ws(dT(Uf,zh([r],e,!0))));var s=r;return e.length===0&&s.length===1&&typeof s[0]=="string"?Ws(s):pT(Ws(dT(s,e)))}function Km(r,e,n){if(n===void 0&&(n=Io),!e)throw Uu(1,e);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(e,n,oM.apply(void 0,zh([o],u,!1)))};return s.attrs=function(o){return Km(r,e,yn(yn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Km(r,e,yn(yn({},n),o))},s}var LS=function(r){return Km(aM,r)},pe=LS;wS.forEach(function(r){pe[r]=LS(r)});const lM=pe.header`
  background-color: #2b5a1d;
  color: white;
  padding: 0 2rem;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  position: relative;
  overflow: visible;
`,uM=pe.div`
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
  z-index: 1;
`,cM=pe(No)`
  text-decoration: none;
  color: white;
  display: flex;
  align-items: center;
  gap: 1rem;
  margin: -1.5rem 0;  /* Increased negative margin to allow more logo overflow */
`,hM=pe.img`
  height: 120px;
  width: auto;
  transition: transform 0.2s ease;
  
  &:hover {
    transform: scale(1.05);
  }
`,fM=pe.div`
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
  text-align: left;
  margin-top: 0.2rem;
  
  p {
    margin: 0;
    font-size: 0.95rem;
    opacity: 0.9;
    line-height: 1.2;
  }
`,dM=pe.nav`
  display: flex;
  align-items: center;
  gap: 1rem;
`,pM=pe.ul`
  display: flex;
  gap: 1rem;
  list-style: none;
  margin: 0;
  padding: 0;
`,mT=pe.li`
  padding: 0;
`,gT=pe(No)`
  text-decoration: none;
  color: white;
  font-weight: 500;
  font-size: 0.95rem;
  transition: opacity 0.2s;
  padding: 0.3rem 0.7rem;
  border-radius: 4px;

  &:hover {
    opacity: 0.9;
    background-color: rgba(255, 255, 255, 0.1);
  }
`,mM=pe.div`
  display: flex;
  gap: 1rem;
`,lm=pe(No)`
  text-decoration: none;
  color: white;
  font-weight: 500;
  font-size: 0.95rem;
  padding: 0.3rem 0.8rem;
  border-radius: 4px;
  transition: all 0.2s;
  background-color: ${r=>r.$primary?"rgba(255, 255, 255, 0.2)":"transparent"};
  border: 1px solid ${r=>r.$primary?"transparent":"rgba(255, 255, 255, 0.5)"};

  &:hover {
    background-color: ${r=>r.$primary?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)"};
  }
`,gM=()=>{const{currentUser:r}=qo();return Y.jsx(lM,{children:Y.jsxs(uM,{children:[Y.jsxs(cM,{to:"/",children:[Y.jsx(hM,{src:"/logo.png",alt:"FirstJob Logo"}),Y.jsx(fM,{children:Y.jsx("p",{children:"Find your first job - No experience required"})})]}),Y.jsxs(dM,{children:[Y.jsxs(pM,{children:[Y.jsx(mT,{children:Y.jsx(gT,{to:"/",children:"Home"})}),Y.jsx(mT,{children:Y.jsx(gT,{to:"/interview/customer-service",children:"Practice Interviews"})})]}),Y.jsx(mM,{children:r?Y.jsx(lm,{to:"/profile",$primary:!0,children:"My Profile"}):Y.jsxs(Y.Fragment,{children:[Y.jsx(lm,{to:"/login",children:"Login"}),Y.jsx(lm,{to:"/register",$primary:!0,children:"Register"})]})})]})]})})},yM=pe.footer`
  background-color: var(--dark);
  color: white;
  text-align: center;
  padding: 2rem;
  margin-top: 2rem;
`,vM=()=>Y.jsxs(yM,{children:[Y.jsx("p",{children:"© 2025 FirstJob - Helping beginners start their careers"}),Y.jsx("p",{children:"Contact: info@firstjob.example.com"})]}),_M=async()=>{try{const r=await jm(rf(ss,"jobs"));if(r.empty){await EM();const n=await jm(rf(ss,"jobs")),s=[];return n.forEach(o=>{s.push({id:o.id,...o.data()})}),s}const e=[];return r.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(r){return console.error("Error getting jobs:",r),[]}},EM=async()=>{const r=rf(ss,"jobs"),e=[{title:"Customer Service Representative",company:"ServiceFirst Inc.",jobType:"customer-service",description:"Entry-level position helping customers with inquiries and resolving issues.",tags:["Entry Level","No Experience Required","Customer Service"],location:"Remote"},{title:"Junior Web Developer",company:"TechStart Solutions",jobType:"web-developer",description:"Learn and grow as a web developer in a supportive team environment.",tags:["Entry Level","Web Development","HTML/CSS/JS"],location:"San Francisco, CA"},{title:"Sales Associate",company:"RetailPlus",jobType:"sales",description:"Help customers find products that meet their needs while learning sales techniques.",tags:["Entry Level","Retail","Sales"],location:"Various Locations"},{title:"Administrative Assistant",company:"OfficeWorks Corp",jobType:"admin",description:"Support office operations and learn essential administrative skills.",tags:["Entry Level","Office Work","Organization"],location:"Chicago, IL"}];for(const n of e)await hS(r,n);console.log("Sample jobs created successfully")},TM=async r=>{try{const e=Pu(ss,"users",r),n=await Z2(e);return n.exists()?{id:n.id,...n.data()}:(console.log("No such user!"),null)}catch(e){return console.error("Error getting user profile:",e),null}},bM=async(r,e)=>{try{const n=Pu(ss,"users",r);return await cS(n,{savedJobs:nk(e)}),!0}catch(n){return console.error("Error saving job:",n),!1}},wM=async(r,e)=>{try{const n=Pu(ss,"users",r);return await cS(n,{savedJobs:rk(e)}),!0}catch(n){return console.error("Error removing job:",n),!1}},SM=pe.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  padding: 2rem;
`,AM=pe.div`
  background-color: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;
  display: flex;
  flex-direction: column;
  height: 100%;
  
  &:hover {
    transform: translateY(-5px);
  }
`,RM=pe.h3`
  margin-top: 0;
  margin-bottom: 0.5rem;
  color: var(--primary);
  font-weight: bold;
  font-size: 1.25rem;
`,IM=pe.h4`
  margin-top: 0;
  margin-bottom: 1rem;
  color: var(--text-secondary);
`,CM=pe.p`
  color: var(--text-primary);
  margin-bottom: 1.5rem;
  flex-grow: 1;
`,DM=pe.div`
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
`,xM=pe.span`
  background-color: var(--background-secondary);
  padding: 0.3rem 0.8rem;
  border-radius: 20px;
  font-size: 0.8rem;
  color: var(--text-secondary);
`,OM=pe.div`
  display: flex;
  gap: 1rem;
  margin-top: auto;
`,NM=pe(No)`
  background-color: #F28C28;
  color: white;
  text-decoration: none;
  padding: 0.8rem 1rem;
  border-radius: 4px;
  font-weight: 500;
  text-align: center;
  flex: 1;
  transition: background-color 0.2s, color 0.2s, border 0.2s;
  border: 1px solid transparent;
  
  &:hover {
    background-color: white;
    color: #F28C28;
    border: 1px solid #F28C28;
  }
`,kM=pe.button`
  background-color: white;
  color: var(--primary);
  border: 1px solid var(--primary);
  padding: 0.8rem 1rem;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
  flex: 1;
  transition: background-color 0.2s;
  
  &:hover {
    background-color: #f0f0f0;
  }
`,MM=()=>{const[r,e]=F.useState([]),[n,s]=F.useState(!0),[o,u]=F.useState(null),{currentUser:f}=qo();F.useEffect(()=>{(async()=>{try{s(!0);const g=await _M();e(g),u(null)}catch(g){console.error("Error fetching jobs:",g),u("Failed to load jobs. Please try again later.")}finally{s(!1)}})()},[]);const p=async m=>{if(!f){alert("Please login to save jobs");return}try{const g=await bM(f.uid,m);alert(g?"Job saved successfully":"Failed to save job")}catch(g){console.error("Error saving job:",g),alert("Failed to save job")}};return n?Y.jsx("div",{children:"Loading jobs..."}):o?Y.jsx("div",{children:o}):Y.jsx(SM,{children:r.length>0?r.map(m=>Y.jsxs(AM,{children:[Y.jsx(RM,{children:m.title}),Y.jsx(IM,{children:m.company}),Y.jsx(CM,{children:m.description}),Y.jsx(DM,{children:m.tags&&m.tags.map((g,E)=>Y.jsx(xM,{children:g},E))}),Y.jsxs(OM,{children:[Y.jsx(NM,{to:`/interview/${m.jobType}`,children:"Practice Interview"}),Y.jsx(kM,{onClick:()=>p(m),children:"Save Job"})]})]},m.id)):Y.jsx("p",{children:"No jobs found. Please check back later."})})},VM=pe.div`
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,PM=pe.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,yT=pe.input`
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`,LM=pe.button`
  padding: 0.8rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }
`,UM=pe.div`
  color: red;
  margin-top: 1rem;
`,zM=()=>{const[r,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),{login:f}=qo(),p=Oo(),m=async g=>{g.preventDefault(),u("");try{await f(r,n),p("/")}catch(E){u("Failed to sign in. Please check your credentials."),console.error(E)}};return Y.jsxs(VM,{children:[Y.jsx("h2",{children:"Login"}),o&&Y.jsx(UM,{children:o}),Y.jsxs(PM,{onSubmit:m,children:[Y.jsx(yT,{type:"email",placeholder:"Email",value:r,onChange:g=>e(g.target.value),required:!0}),Y.jsx(yT,{type:"password",placeholder:"Password",value:n,onChange:g=>s(g.target.value),required:!0}),Y.jsx(LM,{type:"submit",children:"Login"})]}),Y.jsxs("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Don't have an account? ",Y.jsx("a",{href:"/register",children:"Register"})]})]})},jM=pe.div`
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,qM=pe.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,um=pe.input`
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`,BM=pe.button`
  padding: 0.8rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }
`,HM=pe.div`
  color: red;
  margin-top: 1rem;
`,FM=()=>{const[r,e]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,p]=F.useState(""),{register:m}=qo(),g=Oo(),E=async w=>{w.preventDefault(),p("");try{const{user:S}=await m(r,n);await ek(Pu(ss,"users",S.uid),{name:o,email:r,createdAt:new Date().toISOString(),savedJobs:[]}),g("/")}catch(S){p("Failed to create an account. "+S.message),console.error(S)}};return Y.jsxs(jM,{children:[Y.jsx("h2",{children:"Register"}),f&&Y.jsx(HM,{children:f}),Y.jsxs(qM,{onSubmit:E,children:[Y.jsx(um,{type:"text",placeholder:"Full Name",value:o,onChange:w=>u(w.target.value),required:!0}),Y.jsx(um,{type:"email",placeholder:"Email",value:r,onChange:w=>e(w.target.value),required:!0}),Y.jsx(um,{type:"password",placeholder:"Password",value:n,onChange:w=>s(w.target.value),required:!0}),Y.jsx(BM,{type:"submit",children:"Register"})]}),Y.jsxs("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Already have an account? ",Y.jsx("a",{href:"/login",children:"Login"})]})]})},GM={"customer-service":{title:"Customer Service Representative Interview",description:"Practice answering common questions for a customer service position.",questions:[{question:"Tell me about a time you had to deal with a difficult situation and how you handled it.",tips:["Use the STAR method (Situation, Task, Action, Result) to structure your answer","Focus on your problem-solving skills and how you remained calm","Emphasize what you learned from the experience","Show how you maintained professionalism throughout the situation"],keyWords:["situation","problem","solution","customer","resolved","professional","calm","learned","experience","handled"],goodFeedback:"Great answer! You showed problem-solving skills and empathy in your response. Customer service is about finding solutions while maintaining a positive attitude.",badFeedback:"Try to include specific examples of how you've handled conflicts or difficult situations. Even if you don't have work experience, you can draw from school, volunteer work, or personal interactions."},{question:"How would you handle an angry customer?",tips:["Start by actively listening to the customer's concerns","Stay calm and maintain a professional tone","Acknowledge their frustration and show empathy","Focus on finding a solution rather than placing blame","Follow up to ensure their issue was resolved"],keyWords:["listen","understand","empathy","solution","calm","professional","resolve","patience","apologize","assist"],goodFeedback:"Excellent! You demonstrated patience and a focus on resolution. Listening to the customer and maintaining a calm demeanor are key skills for this role.",badFeedback:"Consider emphasizing active listening skills and empathy more in your answer. Remember the goal is to de-escalate the situation and find a solution for the customer."},{question:"What does good customer service mean to you?",tips:["Define what customer service means in your own words","Include specific examples of good customer service you've experienced","Mention the importance of active listening and empathy","Highlight the value of going above and beyond for customers","Connect your definition to the company's values"],keyWords:["satisfaction","experience","quality","helpful","listening","empathy","service","support","communication","excellence"],goodFeedback:"Well done! Your definition of customer service aligns with what we're looking for - going above and beyond to ensure customer satisfaction.",badFeedback:"Try to be more specific about what actions constitute good customer service. Examples can help illustrate your understanding of customer needs."}]},"web-developer":{title:"Junior Web Developer Interview",description:"Practice answering technical and situational questions for a web development role.",questions:[{question:"What interests you about web development?",tips:["Share your passion for technology and problem-solving","Mention any personal projects or coding exercises you've done","Talk about specific aspects of web development that excite you","Connect your interests to the company's tech stack or projects","Show enthusiasm for continuous learning in the field"],keyWords:["passionate","projects","learning","technology","coding","development","problem-solving","creative","innovation","challenges"],goodFeedback:"Great answer! Your enthusiasm for technology and problem-solving comes through clearly. This shows us you have the right motivation for the role.",badFeedback:"Try to be more specific about what aspects of web development excite you. Mentioning any personal projects or coding exercises you've done would strengthen your answer."},{question:"How comfortable are you with HTML, CSS, and JavaScript?",tips:["Be honest about your current skill level","Mention any courses, tutorials, or projects you've completed","Highlight your willingness to learn and improve","Share specific examples of what you've built or learned","Express confidence in your ability to pick up new skills"],keyWords:["experience","projects","learning","practice","skills","knowledge","understanding","development","programming","coding"],goodFeedback:"Good response! You've honestly assessed your knowledge level and shown a willingness to learn, which is exactly what we look for in entry-level positions.",badFeedback:"It's okay to be a beginner, but try to highlight any specific exposure you have had to these technologies, even if it's just from online courses or self-learning."},{question:"How do you approach learning new technologies?",tips:["Describe your learning process and resources you use","Mention specific online platforms or communities you engage with","Share how you practice and apply what you learn","Talk about how you stay updated with industry trends","Highlight your ability to learn independently"],keyWords:["research","practice","documentation","tutorials","learning","resources","community","projects","hands-on","understanding"],goodFeedback:"Excellent answer! Your structured approach to learning shows us you can quickly adapt to new technologies, which is essential in this field.",badFeedback:"Consider mentioning specific strategies you use to learn, such as online courses, practice projects, or coding challenges. This shows your commitment to growth."}]},sales:{title:"Sales Associate Interview",description:"Practice answering sales-focused questions for a retail position.",questions:[{question:"Why do you want to work in sales?",tips:["Share your passion for helping customers","Mention your interest in product knowledge","Highlight your communication and interpersonal skills","Talk about your enthusiasm for meeting new people","Connect your answer to the company's products or services"],keyWords:["passion","customers","communication","people","products","sales","helping","skills","enthusiasm","service"],goodFeedback:"Great answer! Your enthusiasm for customer interaction and helping people find solutions aligns perfectly with sales work.",badFeedback:"Try to emphasize your interest in the customer experience more. Sales is about understanding customer needs and connecting them with the right solutions."},{question:"How would you approach a customer who seems undecided?",tips:["Start by asking open-ended questions to understand their needs","Listen actively to their responses","Suggest products based on their specific requirements","Be patient and avoid being pushy","Offer to show them different options"],keyWords:["questions","listen","understand","needs","patient","options","suggest","requirements","help","solutions"],goodFeedback:"Excellent! Your approach of asking open-ended questions and identifying needs shows you understand the consultative sales process.",badFeedback:"Consider focusing more on asking questions to understand the customer's needs rather than immediately pitching products. The best sales approach starts with listening."},{question:"How do you handle rejection?",tips:["Show resilience and a positive attitude","Mention how you learn from each rejection","Talk about maintaining professionalism","Share how you stay motivated","Highlight your ability to move on quickly"],keyWords:["resilience","positive","learn","professional","motivated","improve","attitude","opportunity","experience","growth"],goodFeedback:"Well done! Your positive attitude toward rejection and seeing it as a learning opportunity is exactly what we look for in sales associates.",badFeedback:"Remember that rejection is a normal part of sales. Try to emphasize resilience and how you would learn from each rejection to improve your approach."}]},admin:{title:"Administrative Assistant Interview",description:"Practice answering questions related to organizational and support skills.",questions:[{question:"How do you prioritize multiple tasks when everything seems urgent?",tips:["Describe your method for assessing task urgency and importance","Mention tools or systems you use for organization","Talk about how you communicate with stakeholders","Share how you handle unexpected urgent tasks","Highlight your ability to stay calm under pressure"],keyWords:["prioritize","organize","urgent","important","system","method","communicate","manage","deadline","efficiency"],goodFeedback:"Great answer! Your systematic approach to prioritization shows strong organizational skills essential for administrative work.",badFeedback:"Try to include more specific methods for prioritizing tasks, such as urgency/importance matrices or communication with stakeholders to clarify deadlines."},{question:"What experience do you have with Microsoft Office or Google Workspace?",tips:["List the specific applications you're familiar with","Mention any advanced features you know","Share examples of how you've used these tools","Talk about your willingness to learn new features","Highlight your ability to adapt to different software"],keyWords:["microsoft","google","excel","word","powerpoint","sheets","docs","experience","software","skills"],goodFeedback:"Excellent! Your familiarity with these tools, even from academic or personal use, transfers well to professional settings.",badFeedback:"Even without professional experience, you can highlight your comfort level with these tools from school or personal projects. Be specific about which applications you know best."},{question:"How do you maintain confidentiality when handling sensitive information?",tips:["Emphasize the importance of trust and discretion","Mention specific security practices you follow","Talk about your understanding of data protection","Share how you handle sensitive documents","Highlight your commitment to privacy"],keyWords:["confidential","security","privacy","trust","discretion","protection","sensitive","professional","responsibility","careful"],goodFeedback:"Well done! Your understanding of confidentiality principles shows maturity and professionalism needed for this role.",badFeedback:"Consider emphasizing the importance of trust and discretion more in your answer. Administrative roles often require handling confidential information."}]},"data-entry":{title:"Data Entry Specialist Interview",description:"Practice answering questions about accuracy, attention to detail, and efficiency.",questions:[{question:"How do you ensure accuracy in repetitive tasks?",tips:["Describe your quality control process","Mention specific techniques for double-checking work","Talk about how you maintain focus","Share how you handle distractions","Highlight your attention to detail"],keyWords:["accuracy","quality","check","detail","focus","process","attention","careful","review","precise"],goodFeedback:"Great answer! Your methods for maintaining focus and checking your work demonstrate the attention to detail needed for data entry.",badFeedback:"Try to mention specific techniques you use to maintain accuracy, such as double-checking entries, taking breaks to stay fresh, or creating a distraction-free environment."},{question:"How comfortable are you with typing and data entry speed?",tips:["Mention your typing speed if you know it","Talk about your accuracy rate"],keyWords:["typing","speed","accuracy","efficient","practice","skills","comfortable","experience","keyboard","productivity"],goodFeedback:"Good response! Your focus on balancing speed with accuracy shows you understand the key requirements of data entry work.",badFeedback:"It's helpful to mention any typing speed you know (in WPM) or your comfort level with keyboard use. Also emphasize your willingness to improve speed while maintaining accuracy."},{question:"How do you handle monotonous or repetitive tasks?",tips:["Share strategies for maintaining focus","Mention how you break up the work into manageable chunks","Talk about setting personal goals","Highlight your ability to find satisfaction in detail-oriented work","Describe how you maintain quality over time"],keyWords:["focus","strategy","goals","quality","consistent","organized","efficient","routine","satisfaction","methodical"],goodFeedback:"Excellent! Your strategies for maintaining focus and finding satisfaction in detail-oriented work align perfectly with data entry roles.",badFeedback:"Consider sharing specific techniques you use to stay engaged during repetitive tasks, such as setting small goals or finding satisfaction in maintaining quality work."}]},"social-media":{title:"Social Media Assistant Interview",description:"Practice answering questions about social media knowledge, content creation, and online trends.",questions:[{question:"Which social media platforms are you most familiar with?",tips:["List the platforms you use regularly","Mention specific features you're familiar with","Share your understanding of each platform's audience","Talk about any content creation experience","Highlight your ability to adapt to new platforms"],keyWords:["platforms","content","experience","audience","features","instagram","facebook","twitter","linkedin","creation"],goodFeedback:"Great answer! Your knowledge of multiple platforms and their different strengths shows you're ready to adapt to various social media strategies.",badFeedback:"Try to be more specific about how you use each platform and what types of content work best on each. Personal experience with social media can translate to professional skills."},{question:"How do you stay updated on social media trends?",tips:["Mention specific industry resources you follow","Talk about social media news sources","Share how you analyze trends","Highlight your ability to predict trends","Describe how you apply trends to content"],keyWords:["trends","research","industry","analytics","updates","follow","monitor","analyze","insights","strategy"],goodFeedback:"Excellent! Your proactive approach to following industry trends shows initiative and genuine interest in the field.",badFeedback:"Consider mentioning specific resources you follow to stay updated, such as industry blogs, thought leaders, or competitor accounts. This demonstrates your commitment to the field."},{question:"What makes content engaging on social media?",tips:["Talk about the importance of visuals","Mention the role of storytelling","Share your understanding of audience engagement","Highlight the value of authenticity","Describe how you measure engagement"],keyWords:["engaging","visuals","storytelling","authentic","audience","content","interaction","creative","value","strategy"],goodFeedback:"Well done! Your understanding of engagement factors shows you have insight into what resonates with audiences online.",badFeedback:"Try to include more specific elements that make content engaging, such as visuals, storytelling, or emotional connections. Examples from your personal experience can strengthen your answer."}]}},$M=async r=>{try{const e=rf(ss,"interviews"),n=Q2(e,Y2("jobType","==",r)),s=await jm(n);if(s.empty){console.log("Creating interview data in Firebase for:",r);const f=GM[r];if(!f)return console.error(`No predefined data found for job type: ${r}`),null;const p={jobType:r,title:f.title,description:f.description,questions:f.questions.map(m=>({question:m.question,tips:m.tips||[],goodFeedback:m.goodFeedback,badFeedback:m.badFeedback}))};try{const m=await hS(e,p);return console.log("Interview data created with ID:",m.id),{id:m.id,...p}}catch(m){return console.error("Error storing interview data:",m),null}}const o=s.docs[0],u=o.data();return console.log("Retrieved interview data:",u),{id:o.id,...u}}catch(e){return console.error(`Error getting interview questions for ${r}:`,e),null}},KM=pe.div`
  max-width: 800px;
  margin: 2rem auto;
  padding: 2.5rem;
  background-color: white;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  animation: fadeIn 0.3s ease;

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }
`,QM=pe.div`
  margin-bottom: 2.5rem;
  text-align: center;
  
  h2 {
    color: var(--primary);
    margin-bottom: 0.75rem;
    font-size: 2rem;
    font-weight: 600;
    letter-spacing: -0.5px;
  }
  
  p {
    color: #666;
    font-size: 1.1rem;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.5;
  }
`,YM=pe.div`
  width: 100%;
  height: 8px;
  background-color: #f0f0f0;
  border-radius: 4px;
  margin: 1.5rem 0;
  overflow: hidden;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
`,XM=pe.div`
  width: ${r=>r.$progress}%;
  height: 100%;
  background: linear-gradient(90deg, var(--primary) 0%, #4CAF50 100%);
  transition: width 0.5s ease;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
`,WM=pe.div`
  display: flex;
  align-items: center;
  margin-bottom: 2rem;
  
  h3 {
    margin: 0;
    color: #2c3e50;
    font-size: 1.4rem;
    font-weight: 600;
  }
  
  span {
    background: linear-gradient(135deg, var(--primary) 0%, #4CAF50 100%);
    color: white;
    padding: 0.4rem 1rem;
    border-radius: 20px;
    font-size: 0.95rem;
    margin-left: auto;
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
`,JM=pe.p`
  font-size: 1.3rem;
  color: #2c3e50;
  margin-bottom: 2rem;
  line-height: 1.5;
  font-weight: 500;
`,ZM=pe.div`
  margin-bottom: 2rem;
  padding: 2rem;
  background-color: #f8f9fa;
  border-radius: 16px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
  transition: transform 0.2s ease;

  &:hover {
    transform: translateY(-2px);
  }
`,eV=pe.div`
  margin: 2rem 0;
  padding: 1.5rem;
  background-color: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
`,tV=pe.h4`
  margin-bottom: 1.2rem;
  color: #2c3e50;
  font-size: 1.2rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  
  &:before {
    content: "💡";
    margin-right: 0.5rem;
    font-size: 1.4rem;
  }
`,nV=pe.ul`
  list-style: none;
  padding: 0;
  margin: 0;
`,rV=pe.li`
  margin-bottom: 1rem;
  padding-left: 1.8rem;
  position: relative;
  line-height: 1.5;
  color: #4a5568;
  
  &:before {
    content: "•";
    position: absolute;
    left: 0;
    color: var(--primary);
    font-weight: bold;
    font-size: 1.5rem;
    line-height: 1;
    top: -2px;
  }
  
  &:last-child {
    margin-bottom: 0;
  }
`,iV=pe.div`
  display: flex;
  justify-content: space-between;
  margin-top: 2.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid #edf2f7;
`,cm=pe.button`
  padding: 0.9rem 1.8rem;
  background: ${r=>r.$disabled?"#e2e8f0":"linear-gradient(135deg, var(--primary) 0%, #4CAF50 100%)"};
  color: ${r=>r.$disabled?"#a0aec0":"white"};
  border: none;
  border-radius: 8px;
  cursor: ${r=>r.$disabled?"not-allowed":"pointer"};
  font-weight: 500;
  font-size: 1rem;
  transition: all 0.2s ease;
  box-shadow: ${r=>r.$disabled?"none":"0 2px 4px rgba(0, 0, 0, 0.1)"};
  
  &:not(:disabled):hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
  
  &:not(:disabled):active {
    transform: translateY(0);
  }
`,sV=pe.div`
  margin-top: 2rem;
`,aV=pe.textarea`
  width: 100%;
  min-height: 180px;
  padding: 1.2rem;
  margin: 1rem 0;
  border: 2px solid #e2e8f0;
  border-radius: 12px;
  font-size: 1.1rem;
  resize: vertical;
  transition: all 0.2s ease;
  background-color: white;
  color: #2d3748;
  line-height: 1.5;
  
  &:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.15);
  }
  
  &::placeholder {
    color: #a0aec0;
  }
`,oV=pe.div`
  background-color: white;
  padding: 1.5rem;
  border-radius: 12px;
  margin-top: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
`,lV=pe.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin: 1rem 0;
`,uV=pe.div`
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background-color: ${r=>r.$filled?"#4CAF50":"#e2e8f0"};
  transition: all 0.3s ease;
  
  ${r=>r.$filled&&`
    animation: fillIn 0.3s ease;
    @keyframes fillIn {
      0% { transform: scale(0.8); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
  `}
`,cV=pe.div`
  text-align: center;
  color: #4a5568;
  font-size: 1rem;
  margin-top: 0.5rem;
  
  span {
    color: ${r=>r.complete?"#276749":"#4a5568"};
    font-weight: 600;
  }
`,hV=pe.div`
  color: #276749;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 1rem;
  background-color: #f0fff4;
  border-radius: 8px;
  margin-top: 1rem;
  
  span {
    font-size: 1.4rem;
  }
`;pe.div`
  color: #d32f2f;
  margin-top: 0.5rem;
  font-size: 0.875rem;
`;const US=({open:r,onClose:e,jobType:n})=>{const{jobType:s}=YR(),o=Oo(),u=n||s,[f,p]=F.useState(null),[m,g]=F.useState(0),[E,w]=F.useState(!0),[S,O]=F.useState(null),[k,G]=F.useState(""),[z,$]=F.useState(!1),[W,K]=F.useState([]),[ue,ae]=F.useState({answerWords:[],hasWordSpam:!1});F.useEffect(()=>{(async()=>{if(!u){w(!1);return}try{w(!0);const I=await $M(u);console.log("Fetched interview data:",I),I?(p(I),O(null)):O(`No interview questions found for ${u} jobs.`)}catch(I){console.error("Error fetching interview data:",I),O("Failed to load interview questions. Please try again later.")}finally{w(!1)}})()},[u]),F.useEffect(()=>{G(""),$(!1)},[m]);const ce=P=>{if(!P||!(f!=null&&f.questions[m]))return;const I=f.questions[m].keyWords;if(!I||!Array.isArray(I))return;const rt=P.toLowerCase().replace(/[.,!?]/g,"").split(/\s+/).filter(se=>se.length>2),We={};rt.forEach(se=>{We[se]=(We[se]||0)+1});const X=4,oe=Object.entries(We).filter(([se,ie])=>ie>X).map(([se])=>se),me=oe.length>0;if(me)return $(!1),K([]),{answerWords:rt,hasWordSpam:me,spamWords:oe};const Ce=(se,ie)=>{if(se===ie||se.includes(ie)||ie.includes(se))return!0;const ge=[se,se.replace(/ing$/,""),se.replace(/ed$/,""),se.replace(/s$/,""),se.replace(/es$/,"")],Ae=[ie,ie.replace(/ing$/,""),ie.replace(/ed$/,""),ie.replace(/s$/,""),ie.replace(/es$/,"")];return ge.some(ye=>Ae.some(Je=>ye===Je||ye.length>3&&Je.length>3&&(ye.includes(Je)||Je.includes(ye))))},x=[...new Set(rt)].filter(se=>I.some(ie=>Ce(se,ie.toLowerCase())));console.log("Answer words:",rt),console.log("Keywords:",I),console.log("Matching words:",x);const ee=x.length>=6;return $(ee),K(x),{answerWords:rt,hasWordSpam:!1,matchedKeywords:x}},C=P=>{const I=P.target.value;G(I);const rt=ce(I);ae(rt)},A=()=>{m<f.questions.length-1?g(m+1):o("/")},R=()=>{m>0&&g(m-1)},N=()=>{e?e():o("/")};if(E)return Y.jsx("div",{children:"Loading interview questions..."});if(S)return Y.jsx("div",{children:S});if(!f||!f.questions||f.questions.length===0)return Y.jsx("div",{children:"No interview questions available."});const V=f.questions[m];return console.log("Current question:",V),Y.jsxs(KM,{children:[Y.jsxs(QM,{children:[Y.jsx("h2",{children:f.title}),Y.jsx("p",{children:f.description}),Y.jsx(YM,{children:Y.jsx(XM,{$progress:(m+1)/f.questions.length*100})})]}),Y.jsxs(ZM,{children:[Y.jsxs(WM,{children:[Y.jsxs("h3",{children:["Question ",m+1]}),Y.jsxs("span",{children:[m+1," of ",f.questions.length]})]}),Y.jsx(JM,{children:V.question}),Y.jsxs(eV,{children:[Y.jsx(tV,{children:"Tips:"}),Y.jsx(nV,{children:V.tips&&V.tips.map((P,I)=>Y.jsx(rV,{children:P},I))})]}),Y.jsxs(sV,{children:[Y.jsx(aV,{value:k,onChange:C,placeholder:"Include at least 6 relevant keywords in your answer."}),Y.jsxs(oV,{children:[!z&&k.length>0&&Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{style:{textAlign:"center",color:"#4a5568",marginBottom:"0.5rem"},children:ue.hasWordSpam?"Please avoid repeating words excessively":"Include more relevant keywords in your answer"}),Y.jsx(lV,{children:Array(6).fill(0).map((P,I)=>Y.jsx(uV,{$filled:I<W.length},I))}),Y.jsx(cV,{complete:!1,children:Y.jsxs("div",{children:[Y.jsx("span",{children:6-W.length})," more keywords needed"]})})]}),z&&Y.jsxs(hV,{children:[Y.jsx("span",{children:"✨"}),"Excellent! Your answer includes all the required keywords."]})]})]})]}),Y.jsxs(iV,{children:[Y.jsx(cm,{onClick:R,$disabled:m===0,children:"← Previous"}),m<f.questions.length-1?Y.jsx(cm,{onClick:A,$disabled:!z,children:"Next →"}):Y.jsx(cm,{onClick:N,$disabled:!z,children:"Finish"})]})]})},fV=pe.div`
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,vT=pe.div`
  margin-bottom: 2rem;
`,dV=pe.ul`
  list-style: none;
  padding: 0;
`,pV=pe.li`
  margin-bottom: 1rem;
  padding: 1rem;
  background-color: var(--background-secondary);
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,mV=pe.div`
  display: flex;
  gap: 1rem;
`,_T=pe.button`
  padding: 0.5rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  color: white;
  
  &.remove {
    background-color: var(--danger);
  }
  
  &.practice {
    background-color: var(--primary);
  }
`;pe.button`
  background-color: var(--danger);
  color: white;
  border: none;
  padding: 0.5rem;
  border-radius: 4px;
  cursor: pointer;
`;const gV=pe.button`
  background-color: var(--danger);
  color: white;
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 4px;
  cursor: pointer;
  margin-top: 2rem;
`,yV=()=>{var $;const{currentUser:r,logout:e}=qo(),[n,s]=F.useState(null),[o,u]=F.useState(!0),[f,p]=F.useState(null),[m,g]=F.useState(!1),[E,w]=F.useState(null),S=Oo();F.useEffect(()=>{(async()=>{if(!r){u(!1);return}try{u(!0);const K=await TM(r.uid);s(K),p(null)}catch(K){console.error("Error fetching user profile:",K),p("Failed to load profile data.")}finally{u(!1)}})()},[r]);const O=async W=>{try{await wM(r.uid,W),s({...n,savedJobs:n.savedJobs.filter(K=>K.id!==W.id)})}catch(K){console.error("Error removing job:",K)}},k=W=>{const K={"sales associate":"sales","sales representative":"sales","customer service representative":"customer-service","customer service agent":"customer-service","web developer":"web-developer","frontend developer":"web-developer","backend developer":"web-developer","administrative assistant":"admin","office administrator":"admin","data entry clerk":"data-entry","data entry specialist":"data-entry","social media manager":"social-media","social media specialist":"social-media"},ue=W.title.toLowerCase(),ae=K[ue]||ue.replace(/\s+/g,"-");w(ae),g(!0)},G=()=>{g(!1),w(null)},z=async()=>{try{await e(),S("/login")}catch(W){console.error("Error logging out:",W)}};return o?Y.jsx("div",{children:"Loading profile..."}):f?Y.jsx("div",{children:f}):r?Y.jsxs(Y.Fragment,{children:[Y.jsxs(fV,{children:[Y.jsx("h2",{children:"My Profile"}),Y.jsxs(vT,{children:[Y.jsx("h3",{children:"Account Information"}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Name:"})," ",(n==null?void 0:n.name)||"Not provided"]}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Email:"})," ",r.email]}),Y.jsxs("p",{children:[Y.jsx("strong",{children:"Member since:"})," ",n!=null&&n.createdAt?new Date(n.createdAt).toLocaleDateString():"Recently"]})]}),Y.jsxs(vT,{children:[Y.jsx("h3",{children:"Saved Jobs"}),(($=n==null?void 0:n.savedJobs)==null?void 0:$.length)>0?Y.jsx(dV,{children:n.savedJobs.map((W,K)=>Y.jsxs(pV,{children:[Y.jsxs("div",{children:[Y.jsx("strong",{children:W.title})," at ",W.company]}),Y.jsxs(mV,{children:[Y.jsx(_T,{className:"practice",onClick:()=>k(W),children:"Practice Interview"}),Y.jsx(_T,{className:"remove",onClick:()=>O(W),children:"Remove"})]})]},K))}):Y.jsx("p",{children:"You haven't saved any jobs yet."})]}),Y.jsx(gV,{onClick:z,children:"Logout"})]}),m&&E&&Y.jsx(US,{jobType:E,open:m,onClose:G})]}):(S("/login"),null)},vV=({children:r})=>{const{currentUser:e}=qo();return e?r:Y.jsx(u1,{to:"/login"})};function _V(){return Y.jsx(M1,{children:Y.jsx(sk,{children:Y.jsxs("div",{className:"app",children:[Y.jsx(gM,{}),Y.jsx("main",{className:"main-content",children:Y.jsxs(h1,{children:[Y.jsx(to,{path:"/",element:Y.jsx(MM,{})}),Y.jsx(to,{path:"/login",element:Y.jsx(zM,{})}),Y.jsx(to,{path:"/register",element:Y.jsx(FM,{})}),Y.jsx(to,{path:"/profile",element:Y.jsx(vV,{children:Y.jsx(yV,{})})}),Y.jsx(to,{path:"/interview/:jobType",element:Y.jsx(US,{})})]})}),Y.jsx(vM,{})]})})})}_R.createRoot(document.getElementById("root")).render(Y.jsx(fo.StrictMode,{children:Y.jsx(_V,{})}));
