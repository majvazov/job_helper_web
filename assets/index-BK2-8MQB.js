(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _T(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var qp={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function aR(){if(hE)return Xl;hE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var fE;function oR(){return fE||(fE=1,qp.exports=aR()),qp.exports}var J=oR(),Hp={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function lR(){if(dE)return Ce;dE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,F={};function B(N,te,se){this.props=N,this.context=te,this.refs=F,this.updater=se||O}B.prototype.isReactComponent={},B.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=B.prototype;function re(N,te,se){this.props=N,this.context=te,this.refs=F,this.updater=se||O}var Q=re.prototype=new K;Q.constructor=re,M(Q,B.prototype),Q.isPureReactComponent=!0;var ue=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function C(N,te,se,ie,me,Re){return se=Re.ref,{$$typeof:r,type:N,key:te,ref:se!==void 0?se:null,props:Re}}function w(N,te){return C(N.type,te,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return te[se]})}var P=/\/+/g;function L(N,te){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):te.toString(36)}function D(){}function Rt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function st(N,te,se,ie,me){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var _e=!1;if(N===null)_e=!0;else switch(Re){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(N.$$typeof){case r:case e:_e=!0;break;case E:return _e=N._init,st(_e(N._payload),te,se,ie,me)}}if(_e)return me=me(N),_e=ie===""?"."+L(N,0):ie,ue(me)?(se="",_e!=null&&(se=_e.replace(P,"$&/")+"/"),st(me,te,se,"",function(Vt){return Vt})):me!=null&&(R(me)&&(me=w(me,se+(me.key==null||N&&N.key===me.key?"":(""+me.key).replace(P,"$&/")+"/")+_e)),te.push(me)),1;_e=0;var ut=ie===""?".":ie+":";if(ue(N))for(var qe=0;qe<N.length;qe++)ie=N[qe],Re=ut+L(ie,qe),_e+=st(ie,te,se,Re,me);else if(qe=b(N),typeof qe=="function")for(N=qe.call(N),qe=0;!(ie=N.next()).done;)ie=ie.value,Re=ut+L(ie,qe++),_e+=st(ie,te,se,Re,me);else if(Re==="object"){if(typeof N.then=="function")return st(Rt(N),te,se,ie,me);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Y(N,te,se){if(N==null)return N;var ie=[],me=0;return st(N,ie,"","",function(Re){return te.call(se,Re,me++)}),ie}function oe(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ie(){}return Ce.Children={map:Y,forEach:function(N,te,se){Y(N,function(){te.apply(this,arguments)},se)},count:function(N){var te=0;return Y(N,function(){te++}),te},toArray:function(N){return Y(N,function(te){return te})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=B,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=re,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(N){return le.H.useMemoCache(N)}},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cloneElement=function(N,te,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=M({},N.props),me=N.key,Re=void 0;if(te!=null)for(_e in te.ref!==void 0&&(Re=void 0),te.key!==void 0&&(me=""+te.key),te)!ce.call(te,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&te.ref===void 0||(ie[_e]=te[_e]);var _e=arguments.length-2;if(_e===1)ie.children=se;else if(1<_e){for(var ut=Array(_e),qe=0;qe<_e;qe++)ut[qe]=arguments[qe+2];ie.children=ut}return C(N.type,me,void 0,void 0,Re,ie)},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ce.createElement=function(N,te,se){var ie,me={},Re=null;if(te!=null)for(ie in te.key!==void 0&&(Re=""+te.key),te)ce.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=te[ie]);var _e=arguments.length-2;if(_e===1)me.children=se;else if(1<_e){for(var ut=Array(_e),qe=0;qe<_e;qe++)ut[qe]=arguments[qe+2];me.children=ut}if(N&&N.defaultProps)for(ie in _e=N.defaultProps,_e)me[ie]===void 0&&(me[ie]=_e[ie]);return C(N,Re,void 0,void 0,null,me)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:p,render:N}},Ce.isValidElement=R,Ce.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:oe}},Ce.memo=function(N,te){return{$$typeof:g,type:N,compare:te===void 0?null:te}},Ce.startTransition=function(N){var te=le.T,se={};le.T=se;try{var ie=N(),me=le.S;me!==null&&me(se,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ie,pe)}catch(Re){pe(Re)}finally{le.T=te}},Ce.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ce.use=function(N){return le.H.use(N)},Ce.useActionState=function(N,te,se){return le.H.useActionState(N,te,se)},Ce.useCallback=function(N,te){return le.H.useCallback(N,te)},Ce.useContext=function(N){return le.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,te){return le.H.useDeferredValue(N,te)},Ce.useEffect=function(N,te,se){var ie=le.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,te)},Ce.useId=function(){return le.H.useId()},Ce.useImperativeHandle=function(N,te,se){return le.H.useImperativeHandle(N,te,se)},Ce.useInsertionEffect=function(N,te){return le.H.useInsertionEffect(N,te)},Ce.useLayoutEffect=function(N,te){return le.H.useLayoutEffect(N,te)},Ce.useMemo=function(N,te){return le.H.useMemo(N,te)},Ce.useOptimistic=function(N,te){return le.H.useOptimistic(N,te)},Ce.useReducer=function(N,te,se){return le.H.useReducer(N,te,se)},Ce.useRef=function(N){return le.H.useRef(N)},Ce.useState=function(N){return le.H.useState(N)},Ce.useSyncExternalStore=function(N,te,se){return le.H.useSyncExternalStore(N,te,se)},Ce.useTransition=function(){return le.H.useTransition()},Ce.version="19.1.0",Ce}var pE;function Ym(){return pE||(pE=1,Hp.exports=lR()),Hp.exports}var G=Ym();const fo=_T(G);var Fp={exports:{}},Wl={},Gp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function uR(){return mE||(mE=1,function(r){function e(Y,oe){var pe=Y.length;Y.push(oe);e:for(;0<pe;){var Ie=pe-1>>>1,N=Y[Ie];if(0<o(N,oe))Y[Ie]=oe,Y[pe]=N,pe=Ie;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],pe=Y.pop();if(pe!==oe){Y[0]=pe;e:for(var Ie=0,N=Y.length,te=N>>>1;Ie<te;){var se=2*(Ie+1)-1,ie=Y[se],me=se+1,Re=Y[me];if(0>o(ie,pe))me<N&&0>o(Re,ie)?(Y[Ie]=Re,Y[me]=pe,Ie=me):(Y[Ie]=ie,Y[se]=pe,Ie=se);else if(me<N&&0>o(Re,pe))Y[Ie]=Re,Y[me]=pe,Ie=me;else break e}}return oe}function o(Y,oe){var pe=Y.sortIndex-oe.sortIndex;return pe!==0?pe:Y.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],E=1,A=null,b=3,O=!1,M=!1,F=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ue(Y){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Y)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function le(Y){if(F=!1,ue(Y),!M)if(n(m)!==null)M=!0,ce||(ce=!0,L());else{var oe=n(g);oe!==null&&st(le,oe.startTime-Y)}}var ce=!1,C=-1,w=5,R=-1;function x(){return B?!0:!(r.unstable_now()-R<w)}function P(){if(B=!1,ce){var Y=r.unstable_now();R=Y;var oe=!0;try{e:{M=!1,F&&(F=!1,re(C),C=-1),O=!0;var pe=b;try{t:{for(ue(Y),A=n(m);A!==null&&!(A.expirationTime>Y&&x());){var Ie=A.callback;if(typeof Ie=="function"){A.callback=null,b=A.priorityLevel;var N=Ie(A.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){A.callback=N,ue(Y),oe=!0;break t}A===n(m)&&s(m),ue(Y)}else s(m);A=n(m)}if(A!==null)oe=!0;else{var te=n(g);te!==null&&st(le,te.startTime-Y),oe=!1}}break e}finally{A=null,b=pe,O=!1}oe=void 0}}finally{oe?L():ce=!1}}}var L;if(typeof Q=="function")L=function(){Q(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Rt=D.port2;D.port1.onmessage=P,L=function(){Rt.postMessage(null)}}else L=function(){K(P,0)};function st(Y,oe){C=K(function(){Y(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var pe=b;b=oe;try{return Y()}finally{b=pe}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=b;b=Y;try{return oe()}finally{b=pe}},r.unstable_scheduleCallback=function(Y,oe,pe){var Ie=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ie+pe:Ie):pe=Ie,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pe+N,Y={id:E++,callback:oe,priorityLevel:Y,startTime:pe,expirationTime:N,sortIndex:-1},pe>Ie?(Y.sortIndex=pe,e(g,Y),n(m)===null&&Y===n(g)&&(F?(re(C),C=-1):F=!0,st(le,pe-Ie))):(Y.sortIndex=N,e(m,Y),M||O||(M=!0,ce||(ce=!0,L()))),Y},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Y){var oe=b;return function(){var pe=b;b=oe;try{return Y.apply(this,arguments)}finally{b=pe}}}}($p)),$p}var gE;function cR(){return gE||(gE=1,Gp.exports=uR()),Gp.exports}var Kp={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function hR(){if(yE)return en;yE=1;var r=Ym();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:m,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},en.flushSync=function(m){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=E,s.d.f()}},en.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},en.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},en.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:O}):E==="script"&&s.d.X(m,{crossOrigin:A,integrity:b,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},en.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},en.requestFormReset=function(m){s.d.r(m)},en.unstable_batchedUpdates=function(m,g){return m(g)},en.useFormState=function(m,g,E){return f.H.useFormState(m,g,E)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.1.0",en}var _E;function fR(){if(_E)return Kp.exports;_E=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kp.exports=hR(),Kp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function dR(){if(vE)return Wl;vE=1;var r=cR(),e=Ym(),n=fR();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case B:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Rt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Rt(t(i))}catch{}}return null}var st=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ie=[],N=-1;function te(t){return{current:t}}function se(t){0>N||(t.current=Ie[N],Ie[N]=null,N--)}function ie(t,i){N++,Ie[N]=t.current,t.current=i}var me=te(null),Re=te(null),_e=te(null),ut=te(null);function qe(t,i){switch(ie(_e,i),ie(Re,t),ie(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?zv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=zv(i),t=jv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(me),ie(me,t)}function Vt(){se(me),se(Re),se(_e)}function Dn(t){t.memoizedState!==null&&ie(ut,t);var i=me.current,a=jv(i,t.type);i!==a&&(ie(Re,t),ie(me,a))}function hn(t){Re.current===t&&(se(me),se(Re)),ut.current===t&&(se(ut),Gl._currentValue=pe)}var Wt=Object.prototype.hasOwnProperty,hs=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,qo=r.unstable_shouldYield,Bu=r.unstable_requestPaint,On=r.unstable_now,qf=r.unstable_getCurrentPriorityLevel,Ho=r.unstable_ImmediatePriority,la=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,Hf=r.unstable_LowPriority,ua=r.unstable_IdlePriority,Fo=r.log,qu=r.unstable_setDisableYieldValue,ft=null,Qe=null;function _n(t){if(typeof Fo=="function"&&qu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,t)}catch{}}var Jt=Math.clz32?Math.clz32:ps,Hu=Math.log,Ff=Math.LN2;function ps(t){return t>>>=0,t===0?32:31-(Hu(t)/Ff|0)|0}var ms=256,gs=4194304;function $n(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ca(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=$n(l):(v&=T,v!==0?h=$n(v):a||(a=T&~t,a!==0&&(h=$n(a))))):(T=l&~d,T!==0?h=$n(T):v!==0?h=$n(v):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ys(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Go(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var t=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),t}function Ko(){var t=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),t}function Dr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Or(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Jt(a),Z=1<<X;T[X]=0,I[X]=-1;var q=j[X];if(q!==null)for(j[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Jt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Yo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Jt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mi(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:sE(t.type))}function Fu(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var at=Math.random().toString(36).slice(2),It="__reactFiber$"+at,vt="__reactProps$"+at,Nn="__reactContainer$"+at,Xo="__reactEvents$"+at,Gf="__reactListeners$"+at,gi="__reactHandles$"+at,Gu="__reactResources$"+at,_s="__reactMarker$"+at;function yi(t){delete t[It],delete t[vt],delete t[Xo],delete t[Gf],delete t[gi]}function Nr(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Nn]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Fv(t);t!==null;){if(a=t[It])return a;t=Fv(t)}return i}t=a,a=t.parentNode}return null}function ar(t){if(t=t[It]||t[Nn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function or(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function an(t){var i=t[Gu];return i||(i=t[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[_s]=!0}var Wo=new Set,fa={};function Kn(t,i){xr(t,i),xr(t+"Capture",i)}function xr(t,i){for(fa[t]=i,t=0;t<i.length;t++)Wo.add(i[t])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},vs={};function Qu(t){return Wt.call(vs,t)?!0:Wt.call(Ku,t)?!1:$u.test(t)?vs[t]=!0:(Ku[t]=!0,!1)}function _i(t,i,a){if(Qu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function lr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ht(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Es,Yu;function Mr(t){if(Es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Es=i&&i[1]||"",Yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+Yu}var da=!1;function pa(t,i){if(!t||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),j=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mr(a):""}function Jo(t){switch(t.tag){case 26:case 27:case 5:return Mr(t.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return Mr("Activity");default:return""}}function ma(t){try{var i="";do i+=Jo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $f(t){var i=Zo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ga(t){t._valueTracker||(t._valueTracker=$f(t))}function el(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Zo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kf=/[\n"\\]/g;function Et(t){return t.replace(Kf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?vi(t,v,on(i)):a!=null?vi(t,v,on(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+on(T):t.removeAttribute("name")}function Ss(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function vi(t,i,a){i==="number"&&Ts(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function We(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function As(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||bs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function tl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Xu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Xu(t,d,i[d])}function nl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pr=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kr=null,Lr=null;function rl(t){var i=ar(t);if(i&&(t=i.stateNode)){var a=t[vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(s(90));vn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&el(l)}break e;case"textarea":We(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Vr(t,!!a.multiple,i,!1)}}}var ur=!1;function Wu(t,i,a){if(ur)return t(i,a);ur=!0;try{var l=t(i);return l}finally{if(ur=!1,(kr!==null||Lr!==null)&&(Fc(),kr&&(i=kr,t=Lr,Lr=kr=null,rl(i),t)))for(i=0;i<t.length;i++)rl(t[i])}}function ws(t,i){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Qn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Vn=!1}var cr=null,Ei=null,Ur=null;function il(){if(Ur)return Ur;var t,i=Ei,a=i.length,l,h="value"in cr?cr.value:cr.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ur=h.slice(t,1<l?1-l:void 0)}function hr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function fr(){return!0}function sl(){return!1}function Pt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fr:sl,this.isPropagationStopped=sl,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=Pt(Ge),Is=E({},Ge,{view:0,detail:0}),Ju=Pt(Is),va,Ea,dr,Cs=E({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dr&&(dr&&t.type==="mousemove"?(va=t.screenX-dr.screenX,Ea=t.screenY-dr.screenY):Ea=va=0,dr=t),va)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Pn=Pt(Cs),Zu=E({},Cs,{dataTransfer:0}),Xf=Pt(Zu),Ds=E({},Is,{relatedTarget:0}),Ta=Pt(Ds),al=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=Pt(al),ec=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aa=Pt(ec),Wf=E({},Ge,{data:0}),ol=Pt(Wf),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nc[t])?!!i[t]:!1}function Ns(){return ll}var rc=E({},Is,{key:function(t){if(t.key){var i=Os[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ba=Pt(rc),ic=E({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Pt(ic),zr=E({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),sc=Pt(zr),ac=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Pt(ac),lc=E({},Cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=Pt(lc),ln=E({},Ge,{newState:0,oldState:0}),uc=Pt(ln),cc=[9,13,27,32],pr=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var y=Qn&&"TextEvent"in window&&!c,_=Qn&&(!pr||c&&8<c&&11>=c),S=" ",U=!1;function $(t,i){switch(t){case"keyup":return cc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Ct(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return t=i.data,t===S&&U?null:t;default:return null}}function ze(t,i){if(Ue)return t==="compositionend"||!pr&&$(t,i)?(t=il(),Ur=Ei=cr=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function jr(t,i,a,l){kr?Lr?Lr.push(l):Lr=[l]:kr=l,i=Xc(i,"onChange"),0<i.length&&(a=new _a("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ft=null,mr=null;function cl(t){Vv(t,0)}function hc(t){var i=or(t);if(el(i))return t}function ty(t,i){if(t==="change")return i}var ny=!1;if(Qn){var Jf;if(Qn){var Zf="oninput"in document;if(!Zf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Zf=typeof ry.oninput=="function"}Jf=Zf}else Jf=!1;ny=Jf&&(!document.documentMode||9<document.documentMode)}function iy(){Ft&&(Ft.detachEvent("onpropertychange",sy),mr=Ft=null)}function sy(t){if(t.propertyName==="value"&&hc(mr)){var i=[];jr(i,mr,t,Mn(t)),Wu(cl,i)}}function kb(t,i,a){t==="focusin"?(iy(),Ft=i,mr=a,Ft.attachEvent("onpropertychange",sy)):t==="focusout"&&iy()}function Lb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(mr)}function Ub(t,i){if(t==="click")return hc(i)}function zb(t,i){if(t==="input"||t==="change")return hc(i)}function jb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:jb;function hl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function ay(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oy(t,i){var a=ay(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ay(a)}}function ly(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ly(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function uy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ts(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ts(t.document)}return i}function ed(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Bb=Qn&&"documentMode"in document&&11>=document.documentMode,Ra=null,td=null,fl=null,nd=!1;function cy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||Ra==null||Ra!==Ts(l)||(l=Ra,"selectionStart"in l&&ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Xc(td,"onSelect"),0<l.length&&(i=new _a("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function xs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},rd={},hy={};Qn&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ms(t){if(rd[t])return rd[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in hy)return rd[t]=i[a];return t}var fy=Ms("animationend"),dy=Ms("animationiteration"),py=Ms("animationstart"),qb=Ms("transitionrun"),Hb=Ms("transitionstart"),Fb=Ms("transitioncancel"),my=Ms("transitionend"),gy=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function Yn(t,i){gy.set(t,i),Kn(i,[t])}var yy=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=yy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ma(i)},yy.set(t,i),i)}return{value:t,source:i,stack:ma(i)}}var Ln=[],Ca=0,sd=0;function fc(){for(var t=Ca,i=sd=Ca=0;i<t;){var a=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&_y(a,h,d)}}function dc(t,i,a,l){Ln[Ca++]=t,Ln[Ca++]=i,Ln[Ca++]=a,Ln[Ca++]=l,sd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ad(t,i,a,l){return dc(t,i,a,l),pc(t)}function Da(t,i){return dc(t,null,null,i),pc(t)}function _y(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Jt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function pc(t){if(50<Ll)throw Ll=0,fp=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function Gb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new Gb(t,i,a,l)}function od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Br(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function mc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")od(t)&&(v=1);else if(typeof t=="string")v=Kw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Tn(31,a,i,h),t.elementType=R,t.lanes=d,t;case M:return Vs(a.children,h,d,i);case F:v=8,h|=24;break;case B:return t=Tn(12,a,i,h|2),t.elementType=B,t.lanes=d,t;case le:return t=Tn(13,a,i,h),t.elementType=le,t.lanes=d,t;case ce:return t=Tn(19,a,i,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case Q:v=10;break e;case re:v=9;break e;case ue:v=11;break e;case C:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Vs(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function ld(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function ud(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Na=[],xa=0,gc=null,yc=0,Un=[],zn=0,Ps=null,qr=1,Hr="";function ks(t,i){Na[xa++]=yc,Na[xa++]=gc,gc=t,yc=i}function Ey(t,i,a){Un[zn++]=qr,Un[zn++]=Hr,Un[zn++]=Ps,Ps=t;var l=qr;t=Hr;var h=32-Jt(l)-1;l&=~(1<<h),a+=1;var d=32-Jt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,qr=1<<32-Jt(i)+h|a<<h|l,Hr=d+t}else qr=1<<d|a<<h|l,Hr=t}function cd(t){t.return!==null&&(ks(t,1),Ey(t,1,0))}function hd(t){for(;t===gc;)gc=Na[--xa],Na[xa]=null,yc=Na[--xa],Na[xa]=null;for(;t===Ps;)Ps=Un[--zn],Un[zn]=null,Hr=Un[--zn],Un[zn]=null,qr=Un[--zn],Un[zn]=null}var un=null,dt=null,Fe=!1,Ls=null,gr=!1,fd=Error(s(519));function Us(t){var i=Error(s(418,""));throw ml(kn(i,t)),fd}function Ty(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[vt]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<zl.length;a++)Pe(zl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Ss(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ga(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),As(i,l.value,l.defaultValue,l.children),ga(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Uv(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=Wc),i=!0):i=!1,i||Us(t)}function Sy(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:un=un.return}}function dl(t){if(t!==un)return!1;if(!Fe)return Sy(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cp(t.type,t.memoizedProps)),a=!a),a&&dt&&Us(t),Sy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){dt=Wn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}dt=null}}else i===27?(i=dt,ki(t.type)?(t=xp,xp=null,dt=t):dt=i):dt=un?Wn(t.stateNode.nextSibling):null;return!0}function pl(){dt=un=null,Fe=!1}function Ay(){var t=Ls;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ls=null),t}function ml(t){Ls===null?Ls=[t]:Ls.push(t)}var dd=te(null),zs=null,Fr=null;function Ti(t,i,a){ie(dd,i._currentValue),i._currentValue=a}function Gr(t){t._currentValue=dd.current,se(dd)}function pd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function md(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),pd(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),pd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function gl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===ut.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}h=h.return}t!==null&&md(i,t,a,l),i.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){zs=t,Fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return by(zs,t)}function vc(t,i){return zs===null&&js(t),by(t,i)}function by(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fr===null){if(t===null)throw Error(s(308));Fr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fr=Fr.next=i;return a}var $b=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Kb=r.unstable_scheduleCallback,Qb=r.unstable_NormalPriority,Ot={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new $b,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&Kb(Qb,function(){t.controller.abort()})}var _l=null,yd=0,Ma=0,Va=null;function Yb(t,i){if(_l===null){var a=_l=[];yd=0,Ma=vp(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yd++,i.then(wy,wy),i}function wy(){if(--yd===0&&_l!==null){Va!==null&&(Va.status="fulfilled");var t=_l;_l=null,Ma=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Xb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ry=Y.S;Y.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Yb(t,i),Ry!==null&&Ry(t,i)};var Bs=te(null);function _d(){var t=Bs.current;return t!==null?t:nt.pooledCache}function Ec(t,i){i===null?ie(Bs,Bs.current):ie(Bs,i.pool)}function Iy(){var t=_d();return t===null?null:{parent:Ot._currentValue,pool:t}}var vl=Error(s(460)),Cy=Error(s(474)),Tc=Error(s(542)),vd={then:function(){}};function Dy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sc(){}function Oy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Sc,Sc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xy(t),t;default:if(typeof i.status=="string")i.then(Sc,Sc);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xy(t),t}throw El=i,vl}}var El=null;function Ny(){if(El===null)throw Error(s(459));var t=El;return El=null,t}function xy(t){if(t===vl||t===Tc)throw Error(s(483))}var Si=!1;function Ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ai(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=pc(t),_y(t,null,a),i}return dc(t,l,i,a),pc(t)}function Tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Yo(t,a)}}function Sd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ad=!1;function Sl(){if(Ad){var t=Va;if(t!==null)throw t}}function Al(t,i,a,l){Ad=!1;var h=t.updateQueue;Si=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,v===null?d=j:v.next=j,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=j:T.next=j,X.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,X=j=I=null,T=d;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(je&q)===q:(l&q)===q){q!==0&&q===Ma&&(Ad=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,ve=T;q=i;var et=a;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){Z=Se.call(et,Z,q);break e}Z=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,q=typeof Se=="function"?Se.call(et,Z,q):Se,q==null)break e;Z=E({},Z,q);break e;case 2:Si=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(j=X=H,I=Z):X=X.next=H,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),xi|=v,t.lanes=v,t.memoizedState=Z}}function My(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Vy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)My(a[t],i)}var Pa=te(null),Ac=te(0);function Py(t,i){t=Jr,ie(Ac,t),ie(Pa,i),Jr=t|i.baseLanes}function bd(){ie(Ac,Jr),ie(Pa,Pa.current)}function wd(){Jr=Ac.current,se(Pa),se(Ac)}var wi=0,Ne=null,Je=null,Tt=null,bc=!1,ka=!1,qs=!1,wc=0,bl=0,La=null,Wb=0;function gt(){throw Error(s(321))}function Rd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Id(t,i,a,l,h,d){return wi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?__:v_,qs=!1,d=a(l,h),qs=!1,ka&&(d=Ly(i,a,l,h)),ky(t),d}function ky(t){Y.H=Nc;var i=Je!==null&&Je.next!==null;if(wi=0,Tt=Je=Ne=null,bc=!1,bl=0,La=null,i)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&_c(t)&&(Lt=!0))}function Ly(t,i,a,l){Ne=t;var h=0;do{if(ka&&(La=null),bl=0,ka=!1,25<=h)throw Error(s(301));if(h+=1,Tt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=iw,d=i(a,l)}while(ka);return d}function Jb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?wl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Cd(){var t=wc!==0;return wc=0,t}function Dd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Od(t){if(bc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}bc=!1}wi=0,Tt=Je=Ne=null,ka=!1,bl=wc=0,La=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ne.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function St(){if(Je===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Tt===null?Ne.memoizedState:Tt.next;if(i!==null)Tt=i,Je=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?Ne.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var i=bl;return bl+=1,La===null&&(La=[]),t=Oy(La,t,i),i=Ne,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?__:v_),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===Q)return Zt(t)}throw Error(s(438,String(t)))}function xd(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Nd(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function $r(t,i){return typeof i=="function"?i(t):i}function Ic(t){var i=St();return Md(i,Je,t)}function Md(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,j=i,X=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(je&Z)===Z:(wi&Z)===Z){var q=j.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ma&&(X=!0);else if((wi&q)===q){j=j.next,q===Ma&&(X=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,Ne.lanes|=q,xi|=q;Z=j.action,qs&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else q={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=q,v=d):I=I.next=q,Ne.lanes|=Z,xi|=Z;j=j.next}while(j!==null&&j!==i);if(I===null?v=d:I.next=T,!En(d,t.memoizedState)&&(Lt=!0,X&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vd(t){var i=St(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(Lt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Uy(t,i,a){var l=Ne,h=St(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((Je||h).memoizedState,a);v&&(h.memoizedState=a,Lt=!0),h=h.queue;var T=By.bind(null,l,h,t);if(Rl(2048,8,T,[t]),h.getSnapshot!==i||v||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,Cc(),jy.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(wi&124)!==0||zy(l,i,a)}return a}function zy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=Nd(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function jy(t,i,a,l){i.value=a,i.getSnapshot=l,qy(i)&&Hy(t)}function By(t,i,a){return a(function(){qy(i)&&Hy(t)})}function qy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function Hy(t){var i=Da(t,2);i!==null&&Rn(i,t,2)}function Pd(t){var i=fn();if(typeof t=="function"){var a=t;if(t=a(),qs){_n(!0);try{a()}finally{_n(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:t},i}function Fy(t,i,a,l){return t.baseState=a,Md(t,Je,typeof l=="function"?l:$r)}function Zb(t,i,a,l,h){if(Oc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),I=Y.S;I!==null&&I(v,T),$y(t,i,T)}catch(j){kd(t,i,j)}finally{Y.T=d}}else try{d=a(h,l),$y(t,i,d)}catch(j){kd(t,i,j)}}function $y(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ky(t,i,l)},function(l){return kd(t,i,l)}):Ky(t,i,a)}function Ky(t,i,a){i.status="fulfilled",i.value=a,Qy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gy(t,a)))}function kd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Qy(i),i=i.next;while(i!==l)}t.action=null}function Qy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Yy(t,i){return i}function Xy(t,i){if(Fe){var a=nt.formState;if(a!==null){e:{var l=Ne;if(Fe){if(dt){t:{for(var h=dt,d=gr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Wn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:i},a.queue=l,a=m_.bind(null,Ne,l),l.dispatch=a,l=Pd(!1),d=Bd.bind(null,Ne,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Zb.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Wy(t){var i=St();return Jy(i,Je,t)}function Jy(t,i,a){if(i=Md(t,i,Yy)[0],t=Ic($r)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=wl(i)}catch(v){throw v===vl?Tc:v}else l=i;i=St();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Ua(9,Cc(),ew.bind(null,h,a),null)),[l,d,t]}function ew(t,i){t.action=i}function Zy(t){var i=St(),a=Je;if(a!==null)return Jy(i,a,t);St(),i=i.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Nd(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Cc(){return{destroy:void 0,resource:void 0}}function e_(){return St().memoizedState}function Dc(t,i,a,l){var h=fn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=Ua(1|i,Cc(),a,l)}function Rl(t,i,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Rd(l,Je.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Ne.flags|=t,h.memoizedState=Ua(1|i,d,a,l))}function t_(t,i){Dc(8390656,8,t,i)}function n_(t,i){Rl(2048,8,t,i)}function r_(t,i){return Rl(4,2,t,i)}function i_(t,i){return Rl(4,4,t,i)}function s_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function a_(t,i,a){a=a!=null?a.concat([t]):null,Rl(4,4,s_.bind(null,i,t),a)}function Ld(){}function o_(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Rd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function l_(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Rd(i,l[1]))return l[0];if(l=t(),qs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,i],l}function Ud(t,i,a){return a===void 0||(wi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=hv(),Ne.lanes|=t,xi|=t,a)}function u_(t,i,a,l){return En(a,i)?a:Pa.current!==null?(t=Ud(t,a,l),En(t,i)||(Lt=!0),t):(wi&42)===0?(Lt=!0,t.memoizedState=a):(t=hv(),Ne.lanes|=t,xi|=t,i)}function c_(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,Bd(t,!1,i,a);try{var I=h(),j=Y.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=Xb(I,l);Il(t,i,X,wn(t))}else Il(t,i,l,wn(t))}catch(Z){Il(t,i,{then:function(){},status:"rejected",reason:Z},wn())}finally{oe.p=d,Y.T=v}}function tw(){}function zd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=h_(t).queue;c_(t,h,i,pe,a===null?tw:function(){return f_(t),a(l)})}function h_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function f_(t){var i=h_(t).next.queue;Il(t,i,{},wn())}function jd(){return Zt(Gl)}function d_(){return St().memoizedState}function p_(){return St().memoizedState}function nw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Ai(a);var l=bi(i,t,a);l!==null&&(Rn(l,i,a),Tl(l,i,a)),i={cache:gd()},t.payload=i;return}i=i.return}}function rw(t,i,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(t)?g_(i,a):(a=ad(t,i,a,l),a!==null&&(Rn(a,t,l),y_(a,i,l)))}function m_(t,i,a){var l=wn();Il(t,i,a,l)}function Il(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oc(t))g_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,v))return dc(t,i,h,0),nt===null&&fc(),!1}catch{}finally{}if(a=ad(t,i,h,l),a!==null)return Rn(a,t,l),y_(a,i,l),!0}return!1}function Bd(t,i,a,l){if(l={lane:2,revertLane:vp(),action:l,hasEagerState:!1,eagerState:null,next:null},Oc(t)){if(i)throw Error(s(479))}else i=ad(t,a,l,2),i!==null&&Rn(i,t,2)}function Oc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function g_(t,i){ka=bc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function y_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Yo(t,a)}}var Nc={readContext:Zt,use:Rc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},__={readContext:Zt,use:Rc,useCallback:function(t,i){return fn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:t_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Dc(4194308,4,s_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Dc(4194308,4,t,i)},useInsertionEffect:function(t,i){Dc(4,2,t,i)},useMemo:function(t,i){var a=fn();i=i===void 0?null:i;var l=t();if(qs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=fn();if(a!==void 0){var h=a(i);if(qs){_n(!0);try{a(i)}finally{_n(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=rw.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=fn();return t={current:t},i.memoizedState=t},useState:function(t){t=Pd(t);var i=t.queue,a=m_.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(t,i){var a=fn();return Ud(a,t,i)},useTransition:function(){var t=Pd(!1);return t=c_.bind(null,Ne,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=fn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(je&124)!==0||zy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,t_(By.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,Cc(),jy.bind(null,l,d,a,i),null),a},useId:function(){var t=fn(),i=nt.identifierPrefix;if(Fe){var a=Hr,l=qr;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=wc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Wb++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:jd,useFormState:Xy,useActionState:Xy,useOptimistic:function(t){var i=fn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bd.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:xd,useCacheRefresh:function(){return fn().memoizedState=nw.bind(null,Ne)}},v_={readContext:Zt,use:Rc,useCallback:o_,useContext:Zt,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:Ic,useRef:e_,useState:function(){return Ic($r)},useDebugValue:Ld,useDeferredValue:function(t,i){var a=St();return u_(a,Je.memoizedState,t,i)},useTransition:function(){var t=Ic($r)[0],i=St().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Uy,useId:d_,useHostTransitionStatus:jd,useFormState:Wy,useActionState:Wy,useOptimistic:function(t,i){var a=St();return Fy(a,Je,t,i)},useMemoCache:xd,useCacheRefresh:p_},iw={readContext:Zt,use:Rc,useCallback:o_,useContext:Zt,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:Vd,useRef:e_,useState:function(){return Vd($r)},useDebugValue:Ld,useDeferredValue:function(t,i){var a=St();return Je===null?Ud(a,t,i):u_(a,Je.memoizedState,t,i)},useTransition:function(){var t=Vd($r)[0],i=St().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Uy,useId:d_,useHostTransitionStatus:jd,useFormState:Zy,useActionState:Zy,useOptimistic:function(t,i){var a=St();return Je!==null?Fy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xd,useCacheRefresh:p_},za=null,Cl=0;function xc(t){var i=Cl;return Cl+=1,za===null&&(za=[]),Oy(za,t,i)}function Dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Mc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function E_(t){var i=t._init;return i(t._payload)}function T_(t){function i(k,V){if(t){var z=k.deletions;z===null?(k.deletions=[V],k.flags|=16):z.push(V)}}function a(k,V){if(!t)return null;for(;V!==null;)i(k,V),V=V.sibling;return null}function l(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function h(k,V){return k=Br(k,V),k.index=0,k.sibling=null,k}function d(k,V,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<V?(k.flags|=67108866,V):z):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,V,z,W){return V===null||V.tag!==6?(V=ld(z,k.mode,W),V.return=k,V):(V=h(V,z),V.return=k,V)}function I(k,V,z,W){var de=z.type;return de===M?X(k,V,z.props.children,W,z.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&E_(de)===V.type)?(V=h(V,z.props),Dl(V,z),V.return=k,V):(V=mc(z.type,z.key,z.props,null,k.mode,W),Dl(V,z),V.return=k,V)}function j(k,V,z,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=ud(z,k.mode,W),V.return=k,V):(V=h(V,z.children||[]),V.return=k,V)}function X(k,V,z,W,de){return V===null||V.tag!==7?(V=Vs(z,k.mode,W,de),V.return=k,V):(V=h(V,z),V.return=k,V)}function Z(k,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ld(""+V,k.mode,z),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return z=mc(V.type,V.key,V.props,null,k.mode,z),Dl(z,V),z.return=k,z;case O:return V=ud(V,k.mode,z),V.return=k,V;case w:var W=V._init;return V=W(V._payload),Z(k,V,z)}if(st(V)||L(V))return V=Vs(V,k.mode,z,null),V.return=k,V;if(typeof V.then=="function")return Z(k,xc(V),z);if(V.$$typeof===Q)return Z(k,vc(k,V),z);Mc(k,V)}return null}function q(k,V,z,W){var de=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:T(k,V,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===de?I(k,V,z,W):null;case O:return z.key===de?j(k,V,z,W):null;case w:return de=z._init,z=de(z._payload),q(k,V,z,W)}if(st(z)||L(z))return de!==null?null:X(k,V,z,W,null);if(typeof z.then=="function")return q(k,V,xc(z),W);if(z.$$typeof===Q)return q(k,V,vc(k,z),W);Mc(k,z)}return null}function H(k,V,z,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(z)||null,T(V,k,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return k=k.get(W.key===null?z:W.key)||null,I(V,k,W,de);case O:return k=k.get(W.key===null?z:W.key)||null,j(V,k,W,de);case w:var Me=W._init;return W=Me(W._payload),H(k,V,z,W,de)}if(st(W)||L(W))return k=k.get(z)||null,X(V,k,W,de,null);if(typeof W.then=="function")return H(k,V,z,xc(W),de);if(W.$$typeof===Q)return H(k,V,z,vc(V,W),de);Mc(V,W)}return null}function Se(k,V,z,W){for(var de=null,Me=null,ge=V,Ee=V=0,zt=null;ge!==null&&Ee<z.length;Ee++){ge.index>Ee?(zt=ge,ge=null):zt=ge.sibling;var He=q(k,ge,z[Ee],W);if(He===null){ge===null&&(ge=zt);break}t&&ge&&He.alternate===null&&i(k,ge),V=d(He,V,Ee),Me===null?de=He:Me.sibling=He,Me=He,ge=zt}if(Ee===z.length)return a(k,ge),Fe&&ks(k,Ee),de;if(ge===null){for(;Ee<z.length;Ee++)ge=Z(k,z[Ee],W),ge!==null&&(V=d(ge,V,Ee),Me===null?de=ge:Me.sibling=ge,Me=ge);return Fe&&ks(k,Ee),de}for(ge=l(ge);Ee<z.length;Ee++)zt=H(ge,k,Ee,z[Ee],W),zt!==null&&(t&&zt.alternate!==null&&ge.delete(zt.key===null?Ee:zt.key),V=d(zt,V,Ee),Me===null?de=zt:Me.sibling=zt,Me=zt);return t&&ge.forEach(function(Bi){return i(k,Bi)}),Fe&&ks(k,Ee),de}function ve(k,V,z,W){if(z==null)throw Error(s(151));for(var de=null,Me=null,ge=V,Ee=V=0,zt=null,He=z.next();ge!==null&&!He.done;Ee++,He=z.next()){ge.index>Ee?(zt=ge,ge=null):zt=ge.sibling;var Bi=q(k,ge,He.value,W);if(Bi===null){ge===null&&(ge=zt);break}t&&ge&&Bi.alternate===null&&i(k,ge),V=d(Bi,V,Ee),Me===null?de=Bi:Me.sibling=Bi,Me=Bi,ge=zt}if(He.done)return a(k,ge),Fe&&ks(k,Ee),de;if(ge===null){for(;!He.done;Ee++,He=z.next())He=Z(k,He.value,W),He!==null&&(V=d(He,V,Ee),Me===null?de=He:Me.sibling=He,Me=He);return Fe&&ks(k,Ee),de}for(ge=l(ge);!He.done;Ee++,He=z.next())He=H(ge,k,Ee,He.value,W),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Ee:He.key),V=d(He,V,Ee),Me===null?de=He:Me.sibling=He,Me=He);return t&&ge.forEach(function(sR){return i(k,sR)}),Fe&&ks(k,Ee),de}function et(k,V,z,W){if(typeof z=="object"&&z!==null&&z.type===M&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var de=z.key;V!==null;){if(V.key===de){if(de=z.type,de===M){if(V.tag===7){a(k,V.sibling),W=h(V,z.props.children),W.return=k,k=W;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&E_(de)===V.type){a(k,V.sibling),W=h(V,z.props),Dl(W,z),W.return=k,k=W;break e}a(k,V);break}else i(k,V);V=V.sibling}z.type===M?(W=Vs(z.props.children,k.mode,W,z.key),W.return=k,k=W):(W=mc(z.type,z.key,z.props,null,k.mode,W),Dl(W,z),W.return=k,k=W)}return v(k);case O:e:{for(de=z.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(k,V.sibling),W=h(V,z.children||[]),W.return=k,k=W;break e}else{a(k,V);break}else i(k,V);V=V.sibling}W=ud(z,k.mode,W),W.return=k,k=W}return v(k);case w:return de=z._init,z=de(z._payload),et(k,V,z,W)}if(st(z))return Se(k,V,z,W);if(L(z)){if(de=L(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ve(k,V,z,W)}if(typeof z.then=="function")return et(k,V,xc(z),W);if(z.$$typeof===Q)return et(k,V,vc(k,z),W);Mc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(k,V.sibling),W=h(V,z),W.return=k,k=W):(a(k,V),W=ld(z,k.mode,W),W.return=k,k=W),v(k)):a(k,V)}return function(k,V,z,W){try{Cl=0;var de=et(k,V,z,W);return za=null,de}catch(ge){if(ge===vl||ge===Tc)throw ge;var Me=Tn(29,ge,null,k.mode);return Me.lanes=W,Me.return=k,Me}finally{}}}var ja=T_(!0),S_=T_(!1),jn=te(null),yr=null;function Ri(t){var i=t.alternate;ie(Nt,Nt.current&1),ie(jn,t),yr===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(yr=t)}function A_(t){if(t.tag===22){if(ie(Nt,Nt.current),ie(jn,t),yr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(yr=t)}}else Ii()}function Ii(){ie(Nt,Nt.current),ie(jn,jn.current)}function Kr(t){se(jn),yr===t&&(yr=null),se(Nt)}var Nt=te(0);function Vc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Np(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function qd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Ai(l);h.payload=i,a!=null&&(h.callback=a),i=bi(t,h,l),i!==null&&(Rn(i,t,l),Tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Ai(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=bi(t,h,l),i!==null&&(Rn(i,t,l),Tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Ai(a);l.tag=2,i!=null&&(l.callback=i),i=bi(t,l,a),i!==null&&(Rn(i,t,a),Tl(i,t,a))}};function b_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!hl(a,l)||!hl(h,d):!0}function w_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Hd.enqueueReplaceState(i,i.state,null)}function Hs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function R_(t){Pc(t)}function I_(t){console.error(t)}function C_(t){Pc(t)}function kc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function D_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fd(t,i,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){kc(t,i)},a}function O_(t){return t=Ai(t),t.tag=3,t}function N_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){D_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){D_(i,a,l),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function sw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&gl(i,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 13:return yr===null?pp():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gp(t,l,h)),!1;case 22:return a.flags|=65536,l===vd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gp(t,l,h)),!1}throw Error(s(435,a.tag))}return gp(t,l,h),pp(),!1}if(Fe)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==fd&&(t=Error(s(422),{cause:l}),ml(kn(t,a)))):(l!==fd&&(i=Error(s(423),{cause:l}),ml(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=Fd(t.stateNode,l,h),Sd(t,h),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),kl===null?kl=[d]:kl.push(d),pt!==4&&(pt=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Fd(a.stateNode,l,t),Sd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=O_(h),N_(h,t,a,l),Sd(a,h),!1}a=a.return}while(a!==null);return!1}var x_=Error(s(461)),Lt=!1;function Gt(t,i,a,l){i.child=t===null?S_(i,null,a,l):ja(i,t.child,a,l)}function M_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return js(i),l=Id(t,i,a,v,d,h),T=Cd(),t!==null&&!Lt?(Dd(t,i,h),Qr(t,i,h)):(Fe&&T&&cd(i),i.flags|=1,Gt(t,i,l,h),i.child)}function V_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!od(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,P_(t,i,d,l,h)):(t=mc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Jd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(v,l)&&t.ref===i.ref)return Qr(t,i,h)}return i.flags|=1,t=Br(d,l),t.ref=i.ref,t.return=i,i.child=t}function P_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===i.ref)if(Lt=!1,i.pendingProps=l=d,Jd(t,h))(t.flags&131072)!==0&&(Lt=!0);else return i.lanes=t.lanes,Qr(t,i,h)}return Gd(t,i,a,l,h)}function k_(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return L_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(i,d!==null?d.cachePool:null),d!==null?Py(i,d):bd(),A_(i);else return i.lanes=i.childLanes=536870912,L_(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ec(i,d.cachePool),Py(i,d),Ii(),i.memoizedState=null):(t!==null&&Ec(i,null),bd(),Ii());return Gt(t,i,h,a),i.child}function L_(t,i,a,l){var h=_d();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ec(i,null),bd(),A_(i),t!==null&&gl(t,i,l,!0),null}function Lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Gd(t,i,a,l,h){return js(i),a=Id(t,i,a,l,void 0,h),l=Cd(),t!==null&&!Lt?(Dd(t,i,h),Qr(t,i,h)):(Fe&&l&&cd(i),i.flags|=1,Gt(t,i,a,h),i.child)}function U_(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=Ly(i,l,a,h),ky(t),l=Cd(),t!==null&&!Lt?(Dd(t,i,d),Qr(t,i,d)):(Fe&&l&&cd(i),i.flags|=1,Gt(t,i,a,d),i.child)}function z_(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Zt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ed(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Zt(v):Oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(qd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Hd.enqueueReplaceState(d,d.state,null),Al(i,l,d,h),Sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Hs(a,T);d.props=I;var j=d.context,X=a.contextType;v=Oa,typeof X=="object"&&X!==null&&(v=Zt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&w_(i,d,l,v),Si=!1;var q=i.memoizedState;d.state=q,Al(i,l,d,h),Sl(),j=i.memoizedState,T||q!==j||Si?(typeof Z=="function"&&(qd(i,a,Z,l),j=i.memoizedState),(I=Si||b_(i,a,I,l,q,j,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Td(t,i),v=i.memoizedProps,X=Hs(a,v),d.props=X,Z=i.pendingProps,q=d.context,j=a.contextType,I=Oa,typeof j=="object"&&j!==null&&(I=Zt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||q!==I)&&w_(i,d,l,I),Si=!1,q=i.memoizedState,d.state=q,Al(i,l,d,h),Sl();var H=i.memoizedState;v!==Z||q!==H||Si||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof T=="function"&&(qd(i,a,T,l),H=i.memoizedState),(X=Si||b_(i,a,X,l,q,H,I)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Lc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ja(i,t.child,null,h),i.child=ja(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Qr(t,i,h),t}function j_(t,i,a,l){return pl(),i.flags|=256,Gt(t,i,a,l),i.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(t){return{baseLanes:t,cachePool:Iy()}}function Qd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Bn),t}function B_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Ri(i):Ii(),Fe){var T=dt,I;if(I=T){e:{for(I=T,T=gr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Wn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ps!==null?{id:qr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},I=Tn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,un=i,dt=null,I=!0):I=!1}I||Us(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Np(T)?i.lanes=32:i.lanes=536870912,null;Kr(i)}return T=l.children,l=l.fallback,h?(Ii(),h=i.mode,T=Uc({mode:"hidden",children:T},h),l=Vs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Kd(a),h.childLanes=Qd(t,v,a),i.memoizedState=$d,l):(Ri(i),Yd(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Ri(i),i.flags&=-257,i=Xd(t,i,a)):i.memoizedState!==null?(Ii(),i.child=t.child,i.flags|=128,i=null):(Ii(),h=l.fallback,T=i.mode,l=Uc({mode:"visible",children:l.children},T),h=Vs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ja(i,t.child,null,a),l=i.child,l.memoizedState=Kd(a),l.childLanes=Qd(t,v,a),i.memoizedState=$d,i=h);else if(Ri(i),Np(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),i=Xd(t,i,a)}else if(Lt||gl(t,i,a,!1),v=(a&t.childLanes)!==0,Lt||v){if(v=nt,v!==null&&(l=a&-a,l=(l&42)!==0?1:pi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Da(t,l),Rn(v,t,l),x_;T.data==="$?"||pp(),i=Xd(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,dt=Wn(T.nextSibling),un=i,Fe=!0,Ls=null,gr=!1,t!==null&&(Un[zn++]=qr,Un[zn++]=Hr,Un[zn++]=Ps,qr=t.id,Hr=t.overflow,Ps=i),i=Yd(i,l.children),i.flags|=4096);return i}return h?(Ii(),h=l.fallback,T=i.mode,I=t.child,j=I.sibling,l=Br(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?h=Br(j,h):(h=Vs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Kd(a):(I=T.cachePool,I!==null?(j=Ot._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Iy(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Qd(t,v,a),i.memoizedState=$d,l):(Ri(i),a=t.child,t=a.sibling,a=Br(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Yd(t,i){return i=Uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Uc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xd(t,i,a){return ja(i,t.child,null,a),t=Yd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function q_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),pd(t.return,i,a)}function Wd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function H_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Gt(t,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q_(t,a,i);else if(t.tag===19)q_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Nt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Vc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wd(i,!0,a,null,d);break;case"together":Wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(gl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Br(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Br(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Jd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function aw(t,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Ti(i,Ot,t.memoizedState.cache),pl();break;case 27:case 5:Dn(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Ti(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(i),i.flags|=128,null):(a&i.child.childLanes)!==0?B_(t,i,a):(Ri(i),t=Qr(t,i,a),t!==null?t.sibling:null);Ri(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(gl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return H_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,k_(t,i,a);case 24:Ti(i,Ot,t.memoizedState.cache)}return Qr(t,i,a)}function F_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Jd(t,a)&&(i.flags&128)===0)return Lt=!1,aw(t,i,a);Lt=(t.flags&131072)!==0}else Lt=!1,Fe&&(i.flags&1048576)!==0&&Ey(i,yc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")od(l)?(t=Hs(l,t),i.tag=1,i=z_(null,i,l,t,a)):(i.tag=0,i=Gd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=M_(null,i,l,t,a);break e}else if(h===C){i.tag=14,i=V_(null,i,l,t,a);break e}}throw i=Rt(l)||l,Error(s(306,i,""))}}return i;case 0:return Gd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Hs(l,i.pendingProps),z_(t,i,l,h,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Td(t,i),Al(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ti(i,Ot,l),l!==d.cache&&md(i,[Ot],a,!0),Sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=j_(t,i,l,a);break e}else if(l!==h){h=kn(Error(s(424)),i),ml(h),i=j_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Wn(t.firstChild),un=i,Fe=!0,Ls=null,gr=!0,a=S_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pl(),l===h){i=Qr(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Lc(t,i),t===null?(a=Qv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Jc(_e.current).createElement(a),l[It]=i,l[vt]=t,Kt(l,a,t),mt(l),i.stateNode=l):i.memoizedState=Qv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Dn(i),t===null&&Fe&&(l=i.stateNode=Gv(i.type,i.pendingProps,_e.current),un=i,gr=!0,h=dt,ki(i.type)?(xp=h,dt=Wn(l.firstChild)):dt=h),Gt(t,i,i.pendingProps.children,a),Lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=dt)&&(l=Vw(l,i.type,i.pendingProps,gr),l!==null?(i.stateNode=l,un=i,dt=Wn(l.firstChild),gr=!1,h=!0):h=!1),h||Us(i)),Dn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Cp(h,d)?l=null:v!==null&&Cp(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Id(t,i,Jb,null,null,a),Gl._currentValue=h),Lc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=dt)&&(a=Pw(a,i.pendingProps,gr),a!==null?(i.stateNode=a,un=i,dt=null,t=!0):t=!1),t||Us(i)),null;case 13:return B_(t,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ja(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return M_(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ti(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Zt(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return V_(t,i,i.type,i.pendingProps,a);case 15:return P_(t,i,i.type,i.pendingProps,a);case 19:return H_(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Uc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Br(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return k_(t,i,a);case 24:return js(i),l=Zt(Ot),t===null?(h=_d(),h===null&&(h=nt,d=gd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ed(i),Ti(i,Ot,h)):((t.lanes&a)!==0&&(Td(t,i),Al(i,null,null,a),Sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ti(i,Ot,l)):(l=d.cache,Ti(i,Ot,l),l!==h.cache&&md(i,[Ot],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yr(t){t.flags|=4}function G_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zv(i)){if(i=jn.current,i!==null&&((je&4194048)===je?yr!==null:(je&62914560)!==je&&(je&536870912)===0||i!==yr))throw El=vd,Cy;t.flags|=8192}}function zc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ko():536870912,t.lanes|=i,Fa|=i)}function Ol(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ow(t,i,a){var l=i.pendingProps;switch(hd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gr(Ot),Vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(dl(i)?Yr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ay())),ct(i),null;case 26:return a=i.memoizedState,t===null?(Yr(i),a!==null?(ct(i),G_(i,a)):(ct(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Yr(i),ct(i),G_(i,a)):(ct(i),i.flags&=-16777217):(t.memoizedProps!==l&&Yr(i),ct(i),i.flags&=-16777217),null;case 27:hn(i),a=_e.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=me.current,dl(i)?Ty(i):(t=Gv(h,l,a),i.stateNode=t,Yr(i))}return ct(i),null;case 5:if(hn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(t=me.current,dl(i))Ty(i);else{switch(h=Jc(_e.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[vt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Yr(i)}}return ct(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Yr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=_e.current,dl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Uv(t.nodeValue,a)),t||Us(i)}else t=Jc(t).createTextNode(l),t[It]=i,i.stateNode=t}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=dl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else pl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=Ay(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Kr(i),i):(Kr(i),null)}if(Kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),zc(i,i.updateQueue),ct(i),null;case 4:return Vt(),t===null&&Ap(i.stateNode.containerInfo),ct(i),null;case 10:return Gr(i.type),ct(i),null;case 19:if(se(Nt),h=i.memoizedState,h===null)return ct(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ol(h,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Vc(t),d!==null){for(i.flags|=128,Ol(h,!1),t=d.updateQueue,i.updateQueue=t,zc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)vy(a,t),a=a.sibling;return ie(Nt,Nt.current&1|2),i.child}t=t.sibling}h.tail!==null&&On()>qc&&(i.flags|=128,l=!0,Ol(h,!1),i.lanes=4194304)}else{if(!l)if(t=Vc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,zc(i,t),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ct(i),null}else 2*On()-h.renderingStartTime>qc&&a!==536870912&&(i.flags|=128,l=!0,Ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=On(),i.sibling=null,t=Nt.current,ie(Nt,l?t&1|2:t&1),i):(ct(i),null);case 22:case 23:return Kr(i),wd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&zc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&se(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gr(Ot),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lw(t,i){switch(hd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gr(Ot),Vt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return hn(i),null;case 13:if(Kr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));pl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(Nt),null;case 4:return Vt(),null;case 10:return Gr(i.type),null;case 22:case 23:return Kr(i),wd(),t!==null&&se(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gr(Ot),null;case 25:return null;default:return null}}function $_(t,i){switch(hd(i),i.tag){case 3:Gr(Ot),Vt();break;case 26:case 27:case 5:hn(i);break;case 4:Vt();break;case 13:Kr(i);break;case 19:se(Nt);break;case 10:Gr(i.type);break;case 22:case 23:Kr(i),wd(),t!==null&&se(Bs);break;case 24:Gr(Ot)}}function Nl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){tt(i,i.return,T)}}function Ci(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,j=T;try{j()}catch(X){tt(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){tt(i,i.return,X)}}function K_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Vy(i,a)}catch(l){tt(t,t.return,l)}}}function Q_(t,i,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function xl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,i,h)}}function _r(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function Y_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Zd(t,i,a){try{var l=t.stateNode;Dw(l,t.type,a,i),l[vt]=i}catch(h){tt(t,t.return,h)}}function X_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tp(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wc));else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(tp(t,i,a),t=t.sibling;t!==null;)tp(t,i,a),t=t.sibling}function jc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(jc(t,i,a),t=t.sibling;t!==null;)jc(t,i,a),t=t.sibling}function W_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[It]=t,i[vt]=a}catch(d){tt(t,t.return,d)}}var Xr=!1,yt=!1,np=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function uw(t,i){if(t=t.containerInfo,Rp=ih,t=uy(t),ed(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,j=0,X=0,Z=t,q=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===t)break t;if(q===a&&++j===h&&(T=v),q===d&&++X===l&&(I=v),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ip={focusedElem:t,selectionRange:a},ih=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=Hs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){tt(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Op(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Op(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Z_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Di(t,a),l&4&&Nl(5,a);break;case 1:if(Di(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){tt(a,a.return,v)}else{var h=Hs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}l&64&&K_(a),l&512&&xl(a,a.return);break;case 3:if(Di(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vy(t,i)}catch(v){tt(a,a.return,v)}}break;case 27:i===null&&l&4&&W_(a);case 26:case 5:Di(t,a),i===null&&l&4&&Y_(a),l&512&&xl(a,a.return);break;case 12:Di(t,a);break;case 13:Di(t,a),l&4&&nv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_w.bind(null,a),kw(t,a))));break;case 22:if(l=a.memoizedState!==null||Xr,!l){i=i!==null&&i.memoizedState!==null||yt,h=Xr;var d=yt;Xr=l,(yt=i)&&!d?Oi(t,a,(a.subtreeFlags&8772)!==0):Di(t,a),Xr=h,yt=d}break;case 30:break;default:Di(t,a)}}function ev(t){var i=t.alternate;i!==null&&(t.alternate=null,ev(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&yi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,dn=!1;function Wr(t,i,a){for(a=a.child;a!==null;)tv(t,i,a),a=a.sibling}function tv(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||_r(a,i),Wr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||_r(a,i);var l=ot,h=dn;ki(a.type)&&(ot=a.stateNode,dn=!1),Wr(t,i,a),Bl(a.stateNode),ot=l,dn=h;break;case 5:yt||_r(a,i);case 6:if(l=ot,h=dn,ot=null,Wr(t,i,a),ot=l,dn=h,ot!==null)if(dn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:ot!==null&&(dn?(t=ot,Hv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Yl(t)):Hv(ot,a.stateNode));break;case 4:l=ot,h=dn,ot=a.stateNode.containerInfo,dn=!0,Wr(t,i,a),ot=l,dn=h;break;case 0:case 11:case 14:case 15:yt||Ci(2,a,i),yt||Ci(4,a,i),Wr(t,i,a);break;case 1:yt||(_r(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q_(a,i,l)),Wr(t,i,a);break;case 21:Wr(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Wr(t,i,a),yt=l;break;default:Wr(t,i,a)}}function nv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yl(t)}catch(a){tt(i,i.return,a)}}function cw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new J_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new J_),i;default:throw Error(s(435,t.tag))}}function rp(t,i){var a=cw(t);i.forEach(function(l){var h=vw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(ki(T.type)){ot=T.stateNode,dn=!1;break e}break;case 5:ot=T.stateNode,dn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(ot===null)throw Error(s(160));tv(d,v,h),ot=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rv(i,t),i=i.sibling}var Xn=null;function rv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(i,t),An(t),l&4&&(Ci(3,t,t.return),Nl(3,t),Ci(5,t,t.return));break;case 1:Sn(i,t),An(t),l&512&&(yt||a===null||_r(a,a.return)),l&64&&Xr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(Sn(i,t),An(t),l&512&&(yt||a===null||_r(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_s]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[It]=t,mt(d),l=d;break e;case"link":var v=Wv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Wv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,mt(d),l=d}t.stateNode=l}else Jv(h,t.type,t.stateNode);else t.stateNode=Xv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Jv(h,t.type,t.stateNode):Xv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(i,t),An(t),l&512&&(yt||a===null||_r(a,a.return)),a!==null&&l&4&&Zd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(i,t),An(t),l&512&&(yt||a===null||_r(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(H){tt(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(np=!0);break;case 6:if(Sn(i,t),An(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){tt(t,t.return,H)}}break;case 3:if(th=null,h=Xn,Xn=Zc(i.containerInfo),Sn(i,t),Xn=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(i.containerInfo)}catch(H){tt(t,t.return,H)}np&&(np=!1,iv(t));break;case 4:l=Xn,Xn=Zc(t.stateNode.containerInfo),Sn(i,t),An(t),Xn=l;break;case 12:Sn(i,t),An(t);break;case 13:Sn(i,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(up=On()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rp(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Xr,X=yt;if(Xr=j||h,yt=X||I,Sn(i,t),yt=X,Xr=j,An(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Xr||yt||Fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){tt(I,I.return,H)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){tt(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rp(t,a))));break;case 19:Sn(i,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rp(t,l)));break;case 30:break;case 21:break;default:Sn(i,t),An(t)}}function An(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(X_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ep(t);jc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(xn(v,""),a.flags&=-33);var T=ep(t);jc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,j=ep(t);tp(t,j,I);break;default:throw Error(s(161))}}catch(X){tt(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Di(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Z_(t,i.alternate,i),i=i.sibling}function Fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ci(4,i,i.return),Fs(i);break;case 1:_r(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Q_(i,i.return,a),Fs(i);break;case 27:Bl(i.stateNode);case 26:case 5:_r(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}t=t.sibling}}function Oi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Oi(h,d,a),Nl(4,d);break;case 1:if(Oi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){tt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)My(I[h],T)}catch(j){tt(l,l.return,j)}}a&&v&64&&K_(d),xl(d,d.return);break;case 27:W_(d);case 26:case 5:Oi(h,d,a),a&&l===null&&v&4&&Y_(d),xl(d,d.return);break;case 12:Oi(h,d,a);break;case 13:Oi(h,d,a),a&&v&4&&nv(h,d);break;case 22:d.memoizedState===null&&Oi(h,d,a),xl(d,d.return);break;case 30:break;default:Oi(h,d,a)}i=i.sibling}}function ip(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yl(a))}function sp(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yl(t))}function vr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sv(t,i,a,l),i=i.sibling}function sv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:vr(t,i,a,l),h&2048&&Nl(9,i);break;case 1:vr(t,i,a,l);break;case 3:vr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yl(t)));break;case 12:if(h&2048){vr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){tt(i,i.return,I)}}else vr(t,i,a,l);break;case 13:vr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?vr(t,i,a,l):Ml(t,i):d._visibility&2?vr(t,i,a,l):(d._visibility|=2,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ip(v,i);break;case 24:vr(t,i,a,l),h&2048&&sp(i.alternate,i);break;default:vr(t,i,a,l)}}function Ba(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ba(d,v,T,I,h),Nl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Ba(d,v,T,I,h):Ml(d,v):(X._visibility|=2,Ba(d,v,T,I,h)),h&&j&2048&&ip(v.alternate,v);break;case 24:Ba(d,v,T,I,h),h&&j&2048&&sp(v.alternate,v);break;default:Ba(d,v,T,I,h)}i=i.sibling}}function Ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Ml(a,l),h&2048&&ip(l.alternate,l);break;case 24:Ml(a,l),h&2048&&sp(l.alternate,l);break;default:Ml(a,l)}i=i.sibling}}var Vl=8192;function qa(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 26:qa(t),t.flags&Vl&&t.memoizedState!==null&&Yw(Xn,t.memoizedState,t.memoizedProps);break;case 5:qa(t);break;case 3:case 4:var i=Xn;Xn=Zc(t.stateNode.containerInfo),qa(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Vl,Vl=16777216,qa(t),Vl=i):qa(t));break;default:qa(t)}}function ov(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,uv(l,t)}ov(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lv(t),t=t.sibling}function lv(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Ci(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Bc(t)):Pl(t);break;default:Pl(t)}}function Bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,uv(l,t)}ov(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ci(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}t=t.sibling}}function uv(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ci(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(ev(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var hw={getCacheForType:function(t){var i=Zt(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},fw=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Ve=null,je=0,Xe=0,bn=null,Ni=!1,Ha=!1,ap=!1,Jr=0,pt=0,xi=0,Gs=0,op=0,Bn=0,Fa=0,kl=null,pn=null,lp=!1,up=0,qc=1/0,Hc=null,Mi=null,$t=0,Vi=null,Ga=null,$a=0,cp=0,hp=null,cv=null,Ll=0,fp=null;function wn(){if((Ye&2)!==0&&je!==0)return je&-je;if(Y.T!==null){var t=Ma;return t!==0?t:vp()}return mi()}function hv(){Bn===0&&(Bn=(je&536870912)===0||Fe?$o():536870912);var t=jn.current;return t!==null&&(t.flags|=32),Bn}function Rn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Pi(t,je,Bn,!1)),Or(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(Gs|=a),pt===4&&Pi(t,je,Bn,!1)),Er(t))}function fv(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ys(t,i),h=l?mw(t,i):mp(t,i,!0),d=l;do{if(h===0){Ha&&!l&&Pi(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!dw(a)){h=mp(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=kl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ka(T,v).flags|=256),v=mp(T,v,!1),v!==2){if(ap&&!I){T.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Pi(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pi(l,i,Bn,!Ni);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=up+300-On(),10<h)){if(Pi(l,i,Bn,!Ni),ca(l,0,!0)!==0)break e;l.timeoutHandle=Bv(dv.bind(null,l,a,pn,Hc,lp,i,Bn,Gs,Fa,Ni,d,2,-0,0),h);break e}dv(l,a,pn,Hc,lp,i,Bn,Gs,Fa,Ni,d,0,-0,0)}}break}while(!0);Er(t)}function dv(t,i,a,l,h,d,v,T,I,j,X,Z,q,H){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:Qw},av(i),Z=Xw(),Z!==null)){t.cancelPendingCommit=Z(Ev.bind(null,t,i,d,a,l,h,v,T,I,X,1,q,H)),Pi(t,d,v,!j);return}Ev(t,i,d,a,l,h,v,T,I)}function dw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pi(t,i,a,l){i&=~op,i&=~Gs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Jt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&sr(t,a,i)}function Fc(){return(Ye&6)===0?(Ul(0),!1):!0}function dp(){if(Ve!==null){if(Xe===0)var t=Ve.return;else t=Ve,Fr=zs=null,Od(t),za=null,Cl=0,t=Ve;for(;t!==null;)$_(t.alternate,t),t=t.return;Ve=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Nw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dp(),nt=t,Ve=a=Br(t.current,null),je=i,Xe=0,bn=null,Ni=!1,Ha=ys(t,i),ap=!1,Fa=Bn=op=Gs=xi=pt=0,pn=kl=null,lp=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Jt(l),d=1<<h;i|=t[h],l&=~d}return Jr=i,fc(),a}function pv(t,i){Ne=null,Y.H=Nc,i===vl||i===Tc?(i=Ny(),Xe=3):i===Cy?(i=Ny(),Xe=4):Xe=i===x_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ve===null&&(pt=1,kc(t,kn(i,t.current)))}function mv(){var t=Y.H;return Y.H=Nc,t===null?Nc:t}function gv(){var t=Y.A;return Y.A=hw,t}function pp(){pt=4,Ni||(je&4194048)!==je&&jn.current!==null||(Ha=!0),(xi&134217727)===0&&(Gs&134217727)===0||nt===null||Pi(nt,je,Bn,!1)}function mp(t,i,a){var l=Ye;Ye|=2;var h=mv(),d=gv();(nt!==t||je!==i)&&(Hc=null,Ka(t,i)),i=!1;var v=pt;e:do try{if(Xe!==0&&Ve!==null){var T=Ve,I=bn;switch(Xe){case 8:dp(),v=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var j=Xe;if(Xe=0,bn=null,Qa(t,T,I,j),a&&Ha){v=0;break e}break;default:j=Xe,Xe=0,bn=null,Qa(t,T,I,j)}}pw(),v=pt;break}catch(X){pv(t,X)}while(!0);return i&&t.shellSuspendCounter++,Fr=zs=null,Ye=l,Y.H=h,Y.A=d,Ve===null&&(nt=null,je=0,fc()),v}function pw(){for(;Ve!==null;)yv(Ve)}function mw(t,i){var a=Ye;Ye|=2;var l=mv(),h=gv();nt!==t||je!==i?(Hc=null,qc=On()+500,Ka(t,i)):Ha=ys(t,i);e:do try{if(Xe!==0&&Ve!==null){i=Ve;var d=bn;t:switch(Xe){case 1:Xe=0,bn=null,Qa(t,i,d,1);break;case 2:case 9:if(Dy(d)){Xe=0,bn=null,_v(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Er(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Dy(d)?(Xe=0,bn=null,_v(i)):(Xe=0,bn=null,Qa(t,i,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var T=Ve;if(!v||Zv(v)){Xe=0,bn=null;var I=T.sibling;if(I!==null)Ve=I;else{var j=T.return;j!==null?(Ve=j,Gc(j)):Ve=null}break t}}Xe=0,bn=null,Qa(t,i,d,5);break;case 6:Xe=0,bn=null,Qa(t,i,d,6);break;case 8:dp(),pt=6;break e;default:throw Error(s(462))}}gw();break}catch(X){pv(t,X)}while(!0);return Fr=zs=null,Y.H=l,Y.A=h,Ye=a,Ve!==null?0:(nt=null,je=0,fc(),pt)}function gw(){for(;Ve!==null&&!qo();)yv(Ve)}function yv(t){var i=F_(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,i===null?Gc(t):Ve=i}function _v(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=U_(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=U_(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Od(i);default:$_(a,i),i=Ve=vy(i,Jr),i=F_(a,i,Jr)}t.memoizedProps=t.pendingProps,i===null?Gc(t):Ve=i}function Qa(t,i,a,l){Fr=zs=null,Od(i),za=null,Cl=0;var h=i.return;try{if(sw(t,h,i,a,je)){pt=1,kc(t,kn(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;pt=1,kc(t,kn(a,t.current)),Ve=null;return}i.flags&32768?(Fe||l===1?t=!0:Ha||(je&536870912)!==0?t=!1:(Ni=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vv(i,t)):Gc(i)}function Gc(t){var i=t;do{if((i.flags&32768)!==0){vv(i,Ni);return}t=i.return;var a=ow(i.alternate,i,Jr);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);pt===0&&(pt=5)}function vv(t,i){do{var a=lw(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);pt=6,Ve=null}function Ev(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do $c();while($t!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=sd,Qo(t,a,d,v,T,I),t===nt&&(Ve=nt=null,je=0),Ga=i,Vi=t,$a=a,cp=d,hp=h,cv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ew(ds,function(){return wv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,v=Ye,Ye|=4;try{uw(t,i,a)}finally{Ye=v,oe.p=h,Y.T=l}}$t=1,Tv(),Sv(),Av()}}function Tv(){if($t===1){$t=0;var t=Vi,i=Ga,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{rv(i,t);var d=Ip,v=uy(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ly(T.ownerDocument.documentElement,T)){if(I!==null&&ed(T)){var j=I.start,X=I.end;if(X===void 0&&(X=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),Se=T.textContent.length,ve=Math.min(I.start,Se),et=I.end===void 0?ve:Math.min(I.end,Se);!H.extend&&ve>et&&(v=et,et=ve,ve=v);var k=oy(T,ve),V=oy(T,et);if(k&&V&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var z=Z.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),ve>et?(H.addRange(z),H.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),H.addRange(z))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var W=Z[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ih=!!Rp,Ip=Rp=null}finally{Ye=h,oe.p=l,Y.T=a}}t.current=i,$t=2}}function Sv(){if($t===2){$t=0;var t=Vi,i=Ga,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{Z_(t,i.alternate,i)}finally{Ye=h,oe.p=l,Y.T=a}}$t=3}}function Av(){if($t===4||$t===3){$t=0,Bu();var t=Vi,i=Ga,a=$a,l=cv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,Ga=Vi=null,bv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mi=null),ha(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=i,oe.p=h}}($a&3)!==0&&$c(),Er(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===fp?Ll++:(Ll=0,fp=t):Ll=0,Ul(0)}}function bv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,yl(i)))}function $c(t){return Tv(),Sv(),Av(),wv()}function wv(){if($t!==5)return!1;var t=Vi,i=cp;cp=0;var a=ha($a),l=Y.T,h=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=hp,hp=null;var d=Vi,v=$a;if($t=0,Ga=Vi=null,$a=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,lv(d.current),sv(d,d.current,v,a),Ye=T,Ul(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{oe.p=h,Y.T=l,bv(t,i)}}function Rv(t,i,a){i=kn(a,i),i=Fd(t.stateNode,i,2),t=bi(t,i,2),t!==null&&(Or(t,2),Er(t))}function tt(t,i,a){if(t.tag===3)Rv(t,t,a);else for(;i!==null;){if(i.tag===3){Rv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){t=kn(a,t),a=O_(2),l=bi(i,a,2),l!==null&&(N_(a,l,i,t),Or(l,2),Er(l));break}}i=i.return}}function gp(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ap=!0,h.add(a),t=yw.bind(null,t,i,a),i.then(t,t))}function yw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(je&a)===a&&(pt===4||pt===3&&(je&62914560)===je&&300>On()-up?(Ye&2)===0&&Ka(t,0):op|=a,Fa===je&&(Fa=0)),Er(t)}function Iv(t,i){i===0&&(i=Ko()),t=Da(t,i),t!==null&&(Or(t,i),Er(t))}function _w(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Iv(t,a)}function vw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Iv(t,a)}function Ew(t,i){return hs(t,i)}var Kc=null,Ya=null,yp=!1,Qc=!1,_p=!1,$s=0;function Er(t){t!==Ya&&t.next===null&&(Ya===null?Kc=Ya=t:Ya=Ya.next=t),Qc=!0,yp||(yp=!0,Sw())}function Ul(t,i){if(!_p&&Qc){_p=!0;do for(var a=!1,l=Kc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Nv(l,d))}else d=je,d=ca(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ys(l,d)||(a=!0,Nv(l,d));l=l.next}while(a);_p=!1}}function Tw(){Cv()}function Cv(){Qc=yp=!1;var t=0;$s!==0&&(Ow()&&(t=$s),$s=0);for(var i=On(),a=null,l=Kc;l!==null;){var h=l.next,d=Dv(l,i);d===0?(l.next=null,a===null?Kc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Qc=!0)),l=h}Ul(t)}function Dv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Jt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Go(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=nt,a=je,a=ca(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ys(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fs(l),ha(a)){case 2:case 8:a=la;break;case 32:a=ds;break;case 268435456:a=ua;break;default:a=ds}return l=Ov.bind(null,t),a=hs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fs(l),t.callbackPriority=2,t.callbackNode=null,2}function Ov(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=je;return l=ca(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fv(t,l,i),Dv(t,On()),t.callbackNode!=null&&t.callbackNode===a?Ov.bind(null,t):null)}function Nv(t,i){if($c())return null;fv(t,i,!0)}function Sw(){xw(function(){(Ye&6)!==0?hs(Ho,Tw):Cv()})}function vp(){return $s===0&&($s=$o()),$s}function xv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function Mv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Aw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=xv((h[vt]||null).action),v=l.submitter;v&&(i=(i=v[vt]||null)?xv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new _a("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=v?Mv(h,v):new FormData(h);zd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?Mv(h,v):new FormData(h),zd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Ep=0;Ep<id.length;Ep++){var Tp=id[Ep],bw=Tp.toLowerCase(),ww=Tp[0].toUpperCase()+Tp.slice(1);Yn(bw,"on"+ww)}Yn(fy,"onAnimationEnd"),Yn(dy,"onAnimationIteration"),Yn(py,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(qb,"onTransitionRun"),Yn(Hb,"onTransitionStart"),Yn(Fb,"onTransitionCancel"),Yn(my,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Vv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(X){Pc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,j=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(X){Pc(X)}h.currentTarget=null,d=I}}}}function Pe(t,i){var a=i[Xo];a===void 0&&(a=i[Xo]=new Set);var l=t+"__bubble";a.has(l)||(Pv(i,t,2,!1),a.add(l))}function Sp(t,i,a){var l=0;i&&(l|=4),Pv(a,t,l,i)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Ap(t){if(!t[Yc]){t[Yc]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(Rw.has(a)||Sp(a,!1,t),Sp(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Yc]||(i[Yc]=!0,Sp("selectionchange",!1,i))}}function Pv(t,i,a,l){switch(sE(i)){case 2:var h=Zw;break;case 8:h=eR;break;default:h=Lp}a=h.bind(null,i,a,t),h=void 0,!Vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function bp(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Nr(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Wu(function(){var j=d,X=Mn(a),Z=[];e:{var q=gy.get(t);if(q!==void 0){var H=_a,Se=t;switch(t){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":H=ba;break;case"focusin":Se="focus",H=Ta;break;case"focusout":Se="blur",H=Ta;break;case"beforeblur":case"afterblur":H=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=sc;break;case fy:case dy:case py:H=Sa;break;case my:H=oc;break;case"scroll":case"scrollend":H=Ju;break;case"wheel":H=wa;break;case"copy":case"cut":case"paste":H=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ul;break;case"toggle":case"beforetoggle":H=uc}var ve=(i&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),k=ve?q!==null?q+"Capture":null:q;ve=[];for(var V=j,z;V!==null;){var W=V;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||k===null||(W=ws(V,k),W!=null&&ve.push(jl(V,W,z))),et)break;V=V.return}0<ve.length&&(q=new H(q,Se,null,a,X),Z.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Pr&&(Se=a.relatedTarget||a.fromElement)&&(Nr(Se)||Se[Nn]))break e;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Se=a.relatedTarget||a.toElement,H=j,Se=Se?Nr(Se):null,Se!==null&&(et=u(Se),ve=Se.tag,Se!==et||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(H=null,Se=j),H!==Se)){if(ve=Pn,W="onMouseLeave",k="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ul,W="onPointerLeave",k="onPointerEnter",V="pointer"),et=H==null?q:or(H),z=Se==null?q:or(Se),q=new ve(W,V+"leave",H,a,X),q.target=et,q.relatedTarget=z,W=null,Nr(X)===j&&(ve=new ve(k,V+"enter",Se,a,X),ve.target=z,ve.relatedTarget=et,W=ve),et=W,H&&Se)t:{for(ve=H,k=Se,V=0,z=ve;z;z=Xa(z))V++;for(z=0,W=k;W;W=Xa(W))z++;for(;0<V-z;)ve=Xa(ve),V--;for(;0<z-V;)k=Xa(k),z--;for(;V--;){if(ve===k||k!==null&&ve===k.alternate)break t;ve=Xa(ve),k=Xa(k)}ve=null}else ve=null;H!==null&&kv(Z,q,H,ve,!1),Se!==null&&et!==null&&kv(Z,et,Se,ve,!0)}}e:{if(q=j?or(j):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var de=ty;else if(Dt(q))if(ny)de=zb;else{de=Lb;var Me=kb}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&nl(j.elementType)&&(de=ty):de=Ub;if(de&&(de=de(t,j))){jr(Z,de,a,X);break e}Me&&Me(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&vi(q,"number",q.value)}switch(Me=j?or(j):window,t){case"focusin":(Dt(Me)||Me.contentEditable==="true")&&(Ra=Me,td=j,fl=null);break;case"focusout":fl=td=Ra=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,cy(Z,a,X);break;case"selectionchange":if(Bb)break;case"keydown":case"keyup":cy(Z,a,X)}var ge;if(pr)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?$(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ge=il()):(cr=X,Ei="value"in cr?cr.value:cr.textContent,Ue=!0)),Me=Xc(j,Ee),0<Me.length&&(Ee=new ol(Ee,t,null,a,X),Z.push({event:Ee,listeners:Me}),ge?Ee.data=ge:(ge=ae(a),ge!==null&&(Ee.data=ge)))),(ge=y?Ct(t,a):ze(t,a))&&(Ee=Xc(j,"onBeforeInput"),0<Ee.length&&(Me=new ol("onBeforeInput","beforeinput",null,a,X),Z.push({event:Me,listeners:Ee}),Me.data=ge)),Aw(Z,t,j,a,X)}Vv(Z,i)})}function jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Xc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ws(t,a),h!=null&&l.unshift(jl(t,h,d)),h=ws(t,i),h!=null&&l.push(jl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kv(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=ws(a,d),j!=null&&v.unshift(jl(a,j,I))):h||(j=ws(a,d),j!=null&&v.push(jl(a,j,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Iw=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function Lv(t){return(typeof t=="string"?t:""+t).replace(Iw,`
`).replace(Cw,"")}function Uv(t,i){return i=Lv(i),Lv(t)===i}function Wc(){}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&xn(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,a,l);break;case"style":tl(t,l,d);break;case"data":if(i!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),_i(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qf.get(a)||a,_i(t,a,l))}}function wp(t,i,a,l,h,d){switch(a){case"style":tl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_i(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,v,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=v=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":j=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ze(t,i,l,X,a,null)}}Ss(t,d,T,I,j,v,h,!1),ga(t);return;case"select":Pe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ze(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Vr(t,!!l,i,!1):a!=null&&Vr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,i,v,T,a,null)}As(t,l,h,d),ga(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,I,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)Pe(zl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,j,l,a,null)}return;default:if(nl(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&wp(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,i,T,l,a,null))}function Dw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,j=null,X=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(H)||Ze(t,i,H,null,l,Z)}}for(var q in l){var H=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":X=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Z&&Ze(t,i,q,H,l,Z)}}vn(t,v,T,I,j,X,d,h);return;case"select":H=v=T=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Ze(t,i,h,d,l,I)}i=T,a=v,l=H,q!=null?Vr(t,!!a,q,!1):!!l!=!!a&&(i!=null?Vr(t,!!a,i,!0):Vr(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,v,h,l,d)}We(t,q,H);return;case"option":for(var Se in a)if(q=a[Se],a.hasOwnProperty(Se)&&q!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Ze(t,i,Se,null,l,q)}for(I in l)if(q=l[I],H=a[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ze(t,i,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&Ze(t,i,ve,null,l,q);for(j in l)if(q=l[j],H=a[j],l.hasOwnProperty(j)&&q!==H&&(q!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Ze(t,i,j,q,l,H)}return;default:if(nl(i)){for(var et in a)q=a[et],a.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&wp(t,i,et,void 0,l,q);for(X in l)q=l[X],H=a[X],!l.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||wp(t,i,X,q,l,H);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Ze(t,i,k,null,l,q);for(Z in l)q=l[Z],H=a[Z],!l.hasOwnProperty(Z)||q===H||q==null&&H==null||Ze(t,i,Z,q,l,H)}var Rp=null,Ip=null;function Jc(t){return t.nodeType===9?t:t.ownerDocument}function zv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cp(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dp=null;function Ow(){var t=window.event;return t&&t.type==="popstate"?t===Dp?!1:(Dp=t,!0):(Dp=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,Nw=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,xw=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(t){return qv.resolve(null).then(t).catch(Mw)}:Bv;function Mw(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function Hv(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Bl(v.documentElement),a&2&&Bl(v.body),a&4)for(a=v.head,Bl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[_s]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Yl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Yl(i)}function Op(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Op(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Vw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_s])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Pw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function Np(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var xp=null;function Fv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Gv(t,i,a){switch(i=Jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);yi(t)}var qn=new Map,$v=new Set;function Zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zr=oe.d;oe.d={f:Lw,r:Uw,D:zw,C:jw,L:Bw,m:qw,X:Fw,S:Hw,M:Gw};function Lw(){var t=Zr.f(),i=Fc();return t||i}function Uw(t){var i=ar(t);i!==null&&i.tag===5&&i.type==="form"?f_(i):Zr.r(t)}var Wa=typeof document>"u"?null:document;function Kv(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=Et(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),$v.has(h)||($v.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),mt(i),l.head.appendChild(i)))}}function zw(t){Zr.D(t),Kv("dns-prefetch",t,null)}function jw(t,i){Zr.C(t,i),Kv("preconnect",t,i)}function Bw(t,i,a){Zr.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Et(a.imageSizes)+'"]')):h+='[href="'+Et(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=Za(t)}qn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ql(d))||i==="script"&&l.querySelector(Hl(d))||(i=l.createElement("link"),Kt(i,"link",t),mt(i),l.head.appendChild(i)))}}function qw(t,i){Zr.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!qn.has(d)&&(t=E({rel:"modulepreload",href:t},i),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(d)))return}l=a.createElement("link"),Kt(l,"link",t),mt(l),a.head.appendChild(l)}}}function Hw(t,i,a){Zr.S(t,i,a);var l=Wa;if(l&&t){var h=an(l).hoistableStyles,d=Ja(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ql(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(d))&&Mp(t,a);var I=v=l.createElement("link");mt(I),Kt(I,"link",t),I._p=new Promise(function(j,X){I.onload=j,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,eh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Fw(t,i){Zr.X(t,i);var a=Wa;if(a&&t){var l=an(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Hl(h)),d||(t=E({src:t,async:!0},i),(i=qn.get(h))&&Vp(t,i),d=a.createElement("script"),mt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Gw(t,i){Zr.M(t,i);var a=Wa;if(a&&t){var l=an(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Hl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=qn.get(h))&&Vp(t,i),d=a.createElement("script"),mt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Qv(t,i,a,l){var h=(h=_e.current)?Zc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=an(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=an(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ql(t)))&&!d._p&&(v.instance=d,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||$w(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=an(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+Et(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function Yv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function $w(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),mt(i),t.head.appendChild(i))}function Za(t){return'[src="'+Et(t)+'"]'}function Hl(t){return"script[async]"+t}function Xv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Kt(l,"style",h),eh(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(ql(h));if(d)return i.state.loading|=4,i.instance=d,mt(d),d;l=Yv(a),(h=qn.get(h))&&Mp(l,h),d=(t.ownerDocument||t).createElement("link"),mt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Kt(d,"link",l),i.state.loading|=4,eh(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Hl(d)))?(i.instance=h,mt(h),h):(l=a,(h=qn.get(d))&&(l=E({},a),Vp(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,eh(l,a.precedence,t));return i.instance}function eh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Mp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Vp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var th=null;function Wv(t,i,a){if(th===null){var l=new Map,h=th=new Map;h.set(a,l)}else h=th,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_s]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Jv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Kw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Zv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Fl=null;function Qw(){}function Yw(t,i,a){if(Fl===null)throw Error(s(475));var l=Fl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ja(a.href),d=t.querySelector(ql(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nh.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,mt(d);return}d=t.ownerDocument||t,a=Yv(a),(h=qn.get(h))&&Mp(a,h),d=d.createElement("link"),mt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Kt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nh.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Xw(){if(Fl===null)throw Error(s(475));var t=Fl;return t.stylesheets&&t.count===0&&Pp(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Pp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)Pp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rh=null;function Pp(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rh=new Map,i.forEach(Ww,t),rh=null,nh.call(t))}function Ww(t,i){if(!(i.state.loading&4)){var a=rh.get(t);if(a)var l=a.get(null);else{a=new Map,rh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=nh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Gl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Jw(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function eE(t,i,a,l,h,d,v,T,I,j,X,Z){return t=new Jw(t,i,a,v,T,I,j,Z),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=gd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ed(d),t}function tE(t){return t?(t=Oa,t):Oa}function nE(t,i,a,l,h,d){h=tE(h),l.context===null?l.context=h:l.pendingContext=h,l=Ai(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=bi(t,l,i),a!==null&&(Rn(a,t,i),Tl(a,t,i))}function rE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function kp(t,i){rE(t,i),(t=t.alternate)&&rE(t,i)}function iE(t){if(t.tag===13){var i=Da(t,67108864);i!==null&&Rn(i,t,67108864),kp(t,67108864)}}var ih=!0;function Zw(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=2,Lp(t,i,a,l)}finally{oe.p=d,Y.T=h}}function eR(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=8,Lp(t,i,a,l)}finally{oe.p=d,Y.T=h}}function Lp(t,i,a,l){if(ih){var h=Up(l);if(h===null)bp(t,i,l,sh,a),aE(t,l);else if(nR(h,t,i,a,l))l.stopPropagation();else if(aE(t,l),i&4&&-1<tR.indexOf(t)){for(;h!==null;){var d=ar(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=$n(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Jt(v);T.entanglements[1]|=I,v&=~I}Er(d),(Ye&6)===0&&(qc=On()+500,Ul(0))}}break;case 13:T=Da(d,2),T!==null&&Rn(T,d,2),Fc(),kp(d,2)}if(d=Up(l),d===null&&bp(t,i,l,sh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else bp(t,i,l,null,a)}}function Up(t){return t=Mn(t),zp(t)}var sh=null;function zp(t){if(sh=null,t=Nr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return sh=t,null}function sE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qf()){case Ho:return 2;case la:return 8;case ds:case Hf:return 32;case ua:return 268435456;default:return 32}default:return 32}}var jp=!1,Li=null,Ui=null,zi=null,$l=new Map,Kl=new Map,ji=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(t,i){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(i.pointerId)}}function Ql(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ar(i),i!==null&&iE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function nR(t,i,a,l,h){switch(i){case"focusin":return Li=Ql(Li,t,i,a,l,h),!0;case"dragenter":return Ui=Ql(Ui,t,i,a,l,h),!0;case"mouseover":return zi=Ql(zi,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return $l.set(d,Ql($l.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Kl.set(d,Ql(Kl.get(d)||null,t,i,a,l,h)),!0}return!1}function oE(t){var i=Nr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fu(t.priority,function(){if(a.tag===13){var l=wn();l=pi(l);var h=Da(a,l);h!==null&&Rn(h,a,l),kp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Up(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Pr=l,a.target.dispatchEvent(l),Pr=null}else return i=ar(a),i!==null&&iE(i),t.blockedOn=a,!1;i.shift()}return!0}function lE(t,i,a){ah(t)&&a.delete(i)}function rR(){jp=!1,Li!==null&&ah(Li)&&(Li=null),Ui!==null&&ah(Ui)&&(Ui=null),zi!==null&&ah(zi)&&(zi=null),$l.forEach(lE),Kl.forEach(lE)}function oh(t,i){t.blockedOn===i&&(t.blockedOn=null,jp||(jp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rR)))}var lh=null;function uE(t){lh!==t&&(lh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lh===t&&(lh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(zp(l||a)===null)continue;break}var d=ar(a);d!==null&&(t.splice(i,3),i-=3,zd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Yl(t){function i(I){return oh(I,t)}Li!==null&&oh(Li,t),Ui!==null&&oh(Ui,t),zi!==null&&oh(zi,t),$l.forEach(i),Kl.forEach(i);for(var a=0;a<ji.length;a++){var l=ji[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)oE(a),a.blockedOn===null&&ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[vt]||null;if(typeof d=="function")v||uE(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[vt]||null)T=v.formAction;else if(zp(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),uE(a)}}}function Bp(t){this._internalRoot=t}uh.prototype.render=Bp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();nE(a,l,t,i,null,null)},uh.prototype.unmount=Bp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;nE(t.current,2,null,t,null,null),Fc(),i[Nn]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var i=mi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ji.length&&i!==0&&i<ji[a].priority;a++);ji.splice(a,0,t),a===0&&oE(t)}};var cE=e.version;if(cE!=="19.1.0")throw Error(s(527,cE,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var iR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{ft=ch.inject(iR),Qe=ch}catch{}}return Wl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=R_,d=I_,v=C_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=eE(t,1,!1,null,null,a,l,h,d,v,T,null),t[Nn]=i.current,Ap(t),new Bp(i)},Wl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=R_,v=I_,T=C_,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=eE(t,1,!0,i,a??null,l,h,d,v,T,I,j),i.context=tE(null),a=i.current,l=wn(),l=pi(l),h=Ai(l),h.callback=null,bi(a,h,l),a=l,i.current.lanes=a,Or(i,a),Er(i),t[Nn]=i.current,Ap(t),new uh(i)},Wl.version="19.1.0",Wl}var EE;function pR(){if(EE)return Fp.exports;EE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fp.exports=dR(),Fp.exports}var mR=pR();const gR=_T(mR);var Jl={},TE;function yR(){if(TE)return Jl;TE=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.parse=f,Jl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,O){const M=new u,F=b.length;if(F<2)return M;const B=(O==null?void 0:O.decode)||E;let K=0;do{const re=b.indexOf("=",K);if(re===-1)break;const Q=b.indexOf(";",K),ue=Q===-1?F:Q;if(re>ue){K=b.lastIndexOf(";",re-1)+1;continue}const le=p(b,K,re),ce=m(b,re,le),C=b.slice(le,ce);if(M[C]===void 0){let w=p(b,re+1,ue),R=m(b,ue,w);const x=B(b.slice(w,R));M[C]=x}K=ue+1}while(K<F);return M}function p(b,O,M){do{const F=b.charCodeAt(O);if(F!==32&&F!==9)return O}while(++O<M);return M}function m(b,O,M){for(;O>M;){const F=b.charCodeAt(--O);if(F!==32&&F!==9)return O+1}return M}function g(b,O,M){const F=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const B=F(O);if(!e.test(B))throw new TypeError(`argument val is invalid: ${O}`);let K=b+"="+B;if(!M)return K;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);K+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);K+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);K+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);K+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(K+="; HttpOnly"),M.secure&&(K+="; Secure"),M.partitioned&&(K+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return K}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return o.call(b)==="[object Date]"}return Jl}yR();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SE="popstate";function _R(r={}){function e(o,u){let{pathname:f="/",search:p="",hash:m=""}=ra(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),dm("",{pathname:f,search:p,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");p=g===-1?m:m.slice(0,g)}return p+"#"+(typeof u=="string"?u:mu(u))}function s(o,u){Fn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ER(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vR(){return Math.random().toString(36).substring(2,10)}function AE(r,e){return{usr:r.state,key:r.key,idx:e}}function dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:n,key:e&&e.key||s||vR()}}function mu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ra(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ER(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){p="POP";let B=E(),K=B==null?null:B-g;g=B,m&&m({action:p,location:F.location,delta:K})}function b(B,K){p="PUSH";let re=dm(F.location,B,K);n&&n(re,B),g=E()+1;let Q=AE(re,g),ue=F.createHref(re);try{f.pushState(Q,"",ue)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ue)}u&&m&&m({action:p,location:F.location,delta:1})}function O(B,K){p="REPLACE";let re=dm(F.location,B,K);n&&n(re,B),g=E();let Q=AE(re,g),ue=F.createHref(re);f.replaceState(Q,"",ue),u&&m&&m({action:p,location:F.location,delta:0})}function M(B){let K=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof B=="string"?B:mu(B);return re=re.replace(/ $/,"%20"),lt(K,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,K)}let F={get action(){return p},get location(){return r(o,f)},listen(B){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(SE,A),m=B,()=>{o.removeEventListener(SE,A),m=null}},createHref(B){return e(o,B)},createURL:M,encodeLocation(B){let K=M(B);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:O,go(B){return f.go(B)}};return F}function vT(r,e,n="/"){return TR(r,e,n,!1)}function TR(r,e,n,s){let o=typeof e=="string"?ra(e):e,u=ai(o.pathname||"/",n);if(u==null)return null;let f=ET(r);SR(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=MR(u);p=NR(f[m],g,s)}return p}function ET(r,e=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(lt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ri([s,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ET(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:DR(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of TT(u.path))o(u,f,m)}),e}function TT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=TT(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function SR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:OR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var AR=/^:[\w-]+$/,bR=3,wR=2,RR=1,IR=10,CR=-2,bE=r=>r==="*";function DR(r,e){let n=r.split("/"),s=n.length;return n.some(bE)&&(s+=CR),e&&(s+=wR),n.filter(o=>!bE(o)).reduce((o,u)=>o+(AR.test(u)?bR:u===""?RR:IR),s)}function OR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function NR(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Uh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),b=m.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Uh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:ri([u,A.pathname]),pathnameBase:LR(ri([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=ri([u,A.pathnameBase]))}return f}function Uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=xR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},b)=>{if(E==="*"){let M=p[b]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=p[b];return A&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function xR(r,e=!1,n=!0){Fn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function MR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ai(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function VR(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ra(r):r;return{pathname:n?n.startsWith("/")?n:PR(n,e):e,search:UR(s),hash:zR(o)}}function PR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xm(r){let e=kR(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Wm(r,e,n,s=!1){let o;typeof r=="string"?o=ra(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Qp("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Qp("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Qp("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}p=A>=0?e[A]:"/"}let m=VR(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var ri=r=>r.join("/").replace(/\/\/+/g,"/"),LR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),UR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,zR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var ST=["POST","PUT","PATCH","DELETE"];new Set(ST);var BR=["GET",...ST];new Set(BR);var Do=G.createContext(null);Do.displayName="DataRouter";var hf=G.createContext(null);hf.displayName="DataRouterState";var AT=G.createContext({isTransitioning:!1});AT.displayName="ViewTransition";var qR=G.createContext(new Map);qR.displayName="Fetchers";var HR=G.createContext(null);HR.displayName="Await";var rr=G.createContext(null);rr.displayName="Navigation";var wu=G.createContext(null);wu.displayName="Location";var ir=G.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var Jm=G.createContext(null);Jm.displayName="RouteError";function FR(r,{relative:e}={}){lt(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(rr),{hash:o,pathname:u,search:f}=Ru(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ri([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Oo(){return G.useContext(wu)!=null}function as(){return lt(Oo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(wu).location}var bT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wT(r){G.useContext(rr).static||G.useLayoutEffect(r)}function No(){let{isDataRoute:r}=G.useContext(ir);return r?i1():GR()}function GR(){lt(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Do),{basename:e,navigator:n}=G.useContext(rr),{matches:s}=G.useContext(ir),{pathname:o}=as(),u=JSON.stringify(Xm(s)),f=G.useRef(!1);return wT(()=>{f.current=!0}),G.useCallback((m,g={})=>{if(Fn(f.current,bT),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=Wm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ri([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}G.createContext(null);function $R(){let{matches:r}=G.useContext(ir),e=r[r.length-1];return e?e.params:{}}function Ru(r,{relative:e}={}){let{matches:n}=G.useContext(ir),{pathname:s}=as(),o=JSON.stringify(Xm(n));return G.useMemo(()=>Wm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function KR(r,e){return RT(r,e)}function RT(r,e,n,s){var re;lt(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(rr),{matches:f}=G.useContext(ir),p=f[f.length-1],m=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",A=p&&p.route;{let Q=A&&A.path||"";IT(g,!A||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let b=as(),O;if(e){let Q=typeof e=="string"?ra(e):e;lt(E==="/"||((re=Q.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=b;let M=O.pathname||"/",F=M;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");F="/"+M.replace(/^\//,"").split("/").slice(Q.length).join("/")}let B=!u&&n&&n.matches&&n.matches.length>0?n.matches:vT(r,{pathname:F});Fn(A||B!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Fn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=JR(B&&B.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:ri([E,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:ri([E,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,n,s);return e&&K?G.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},K):K}function QR(){let r=r1(),e=jR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var YR=G.createElement(QR,null),XR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(ir.Provider,{value:this.props.routeContext},G.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WR({routeContext:r,match:e,children:n}){let s=G.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(ir.Provider,{value:r},n)}function JR(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:A}=n,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||b){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let A,b=!1,O=null,M=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||YR,f&&(p<0&&E===0?(IT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,M=null):p===E&&(b=!0,M=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),B=()=>{let K;return A?K=O:b?K=M:g.route.Component?K=G.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=m,G.createElement(WR,{match:g,routeContext:{outlet:m,matches:F,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(XR,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):B()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZR(r){let e=G.useContext(Do);return lt(e,Zm(r)),e}function e1(r){let e=G.useContext(hf);return lt(e,Zm(r)),e}function t1(r){let e=G.useContext(ir);return lt(e,Zm(r)),e}function eg(r){let e=t1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function n1(){return eg("useRouteId")}function r1(){var s;let r=G.useContext(Jm),e=e1("useRouteError"),n=eg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function i1(){let{router:r}=ZR("useNavigate"),e=eg("useNavigate"),n=G.useRef(!1);return wT(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Fn(n.current,bT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var wE={};function IT(r,e,n){!e&&!wE[r]&&(wE[r]=!0,Fn(!1,n))}G.memo(s1);function s1({routes:r,future:e,state:n}){return RT(r,void 0,n,e)}function a1({to:r,replace:e,state:n,relative:s}){lt(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(rr);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(ir),{pathname:f}=as(),p=No(),m=Wm(r,Xm(u),f,s==="path"),g=JSON.stringify(m);return G.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function to(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ra(n));let{pathname:m="/",search:g="",hash:E="",state:A=null,key:b="default"}=n,O=G.useMemo(()=>{let M=ai(m,f);return M==null?null:{location:{pathname:M,search:g,hash:E,state:A,key:b},navigationType:s}},[f,m,g,E,A,b,s]);return Fn(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(rr.Provider,{value:p},G.createElement(wu.Provider,{children:e,value:O}))}function l1({children:r,location:e}){return KR(pm(r),e)}function pm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,pm(s.props.children,u));return}lt(s.type===to,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=pm(s.props.children,u)),n.push(f)}),n}var Th="get",Sh="application/x-www-form-urlencoded";function ff(r){return r!=null&&typeof r.tagName=="string"}function u1(r){return ff(r)&&r.tagName.toLowerCase()==="button"}function c1(r){return ff(r)&&r.tagName.toLowerCase()==="form"}function h1(r){return ff(r)&&r.tagName.toLowerCase()==="input"}function f1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function d1(r,e){return r.button===0&&(!e||e==="_self")&&!f1(r)}var hh=null;function p1(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var m1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yp(r){return r!=null&&!m1.has(r)?(Fn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):r}function g1(r,e){let n,s,o,u,f;if(c1(r)){let p=r.getAttribute("action");s=p?ai(p,e):null,n=r.getAttribute("method")||Th,o=Yp(r.getAttribute("enctype"))||Sh,u=new FormData(r)}else if(u1(r)||h1(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?ai(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Th,o=Yp(r.getAttribute("formenctype"))||Yp(p.getAttribute("enctype"))||Sh,u=new FormData(p,r),!p1()){let{name:g,type:E,value:A}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,A)}}else{if(ff(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,s=null,o=Sh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function tg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function y1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function v1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await y1(u,n);return f.links?f.links():[]}return[]}));return A1(s.flat(1).filter(_1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function RE(r,e,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var E;return n[g].pathname!==m.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var A;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function E1(r,e,{includeHydrateFallback:n}={}){return T1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function T1(r){return[...new Set(r)]}function S1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function A1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(S1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function b1(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&ai(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function CT(){let r=G.useContext(Do);return tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function w1(){let r=G.useContext(hf);return tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ng=G.createContext(void 0);ng.displayName="FrameworkContext";function DT(){let r=G.useContext(ng);return tg(r,"You must render this element inside a <HydratedRouter> element"),r}function R1(r,e){let n=G.useContext(ng),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,b=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=K=>{K.forEach(re=>{f(re.isIntersecting)})},B=new IntersectionObserver(F,{threshold:.5});return b.current&&B.observe(b.current),()=>{B.disconnect()}}},[r]),G.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let O=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Zl(p,O),onBlur:Zl(m,M),onMouseEnter:Zl(g,O),onMouseLeave:Zl(E,M),onTouchStart:Zl(A,O)}]:[!1,b,{}]}function Zl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function I1({page:r,...e}){let{router:n}=CT(),s=G.useMemo(()=>vT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(D1,{page:r,matches:s,...e}):null}function C1(r){let{manifest:e,routeModules:n}=DT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return v1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function D1({page:r,matches:e,...n}){let s=as(),{manifest:o,routeModules:u}=DT(),{basename:f}=CT(),{loaderData:p,matches:m}=w1(),g=G.useMemo(()=>RE(r,e,m,o,s,"data"),[r,e,m,o,s]),E=G.useMemo(()=>RE(r,e,m,o,s,"assets"),[r,e,m,o,s]),A=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,F=!1;if(e.forEach(K=>{var Q;let re=o.routes[K.route.id];!re||!re.hasLoader||(!g.some(ue=>ue.route.id===K.route.id)&&K.route.id in p&&((Q=u[K.route.id])!=null&&Q.shouldRevalidate)||re.hasClientLoader?F=!0:M.add(K.route.id))}),M.size===0)return[];let B=b1(r,f);return F&&M.size>0&&B.searchParams.set("_routes",e.filter(K=>M.has(K.route.id)).map(K=>K.route.id).join(",")),[B.pathname+B.search]},[f,p,s,o,g,e,r,u]),b=G.useMemo(()=>E1(E,o),[E,o]),O=C1(E);return G.createElement(G.Fragment,null,A.map(M=>G.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),b.map(M=>G.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),O.map(({key:M,link:F})=>G.createElement("link",{key:M,...F})))}function O1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OT&&(window.__reactRouterVersion="7.5.0")}catch{}function N1({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=_R({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),p=G.useCallback(m=>{G.startTransition(()=>f(m))},[f]);return G.useLayoutEffect(()=>o.listen(p),[o,p]),G.createElement(o1,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,df=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:E,viewTransition:A,...b},O){let{basename:M}=G.useContext(rr),F=typeof g=="string"&&NT.test(g),B,K=!1;if(typeof g=="string"&&F&&(B=g,OT))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=ai(x.pathname,M);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:K=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=FR(g,{relative:o}),[Q,ue,le]=R1(s,b),ce=P1(g,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:A});function C(R){e&&e(R),R.defaultPrevented||ce(R)}let w=G.createElement("a",{...b,...le,href:B||re,onClick:K||u?e:C,ref:O1(O,ue),target:m,"data-discover":!F&&n==="render"?"true":void 0});return Q&&!F?G.createElement(G.Fragment,null,w,G.createElement(I1,{page:re})):w});df.displayName="Link";var x1=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},E){let A=Ru(f,{relative:g.relative}),b=as(),O=G.useContext(hf),{navigator:M,basename:F}=G.useContext(rr),B=O!=null&&j1(A)&&p===!0,K=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,re=b.pathname,Q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(re=re.toLowerCase(),Q=Q?Q.toLowerCase():null,K=K.toLowerCase()),Q&&F&&(Q=ai(Q,F)||Q);const ue=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=re===K||!o&&re.startsWith(K)&&re.charAt(ue)==="/",ce=Q!=null&&(Q===K||!o&&Q.startsWith(K)&&Q.charAt(K.length)==="/"),C={isActive:le,isPending:ce,isTransitioning:B},w=le?e:void 0,R;typeof s=="function"?R=s(C):R=[s,le?"active":null,ce?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(C):u;return G.createElement(df,{...g,"aria-current":w,className:R,ref:E,style:x,to:f,viewTransition:p},typeof m=="function"?m(C):m)});x1.displayName="NavLink";var M1=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Th,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:A,...b},O)=>{let M=U1(),F=z1(p,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",K=typeof p=="string"&&NT.test(p),re=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ue=Q.nativeEvent.submitter,le=(ue==null?void 0:ue.getAttribute("formmethod"))||f;M(ue||Q.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return G.createElement("form",{ref:O,method:B,action:F,onSubmit:s?m:re,...b,"data-discover":!K&&r==="render"?"true":void 0})});M1.displayName="Form";function V1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xT(r){let e=G.useContext(Do);return lt(e,V1(r)),e}function P1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=No(),m=as(),g=Ru(r,{relative:u});return G.useCallback(E=>{if(d1(E,e)){E.preventDefault();let A=n!==void 0?n:mu(m)===mu(g);p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,e,r,o,u,f])}var k1=0,L1=()=>`__${String(++k1)}__`;function U1(){let{router:r}=xT("useSubmit"),{basename:e}=G.useContext(rr),n=n1();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=g1(s,e);if(o.navigate===!1){let E=o.fetcherKey||L1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function z1(r,{relative:e}={}){let{basename:n}=G.useContext(rr),s=G.useContext(ir);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ru(r||".",{relative:e})},f=as();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ri([n,u.pathname])),mu(u)}function j1(r,e={}){let n=G.useContext(AT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xT("useViewTransitionState"),o=Ru(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ai(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ai(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uh(o.pathname,f)!=null||Uh(o.pathname,u)!=null}new TextEncoder;const B1=()=>{};var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},q1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let b=(p&15)<<2|g>>6,O=g&63;m||(O=64,f||(b=64)),s.push(n[E],n[A],n[b],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(MT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):q1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||A==null)throw new H1;const b=u<<2|p>>4;if(s.push(b),g!==64){const O=p<<4&240|g>>2;if(s.push(O),A!==64){const M=g<<6&192|A;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F1=function(r){const e=MT(r);return VT.encodeByteArray(e,!0)},zh=function(r){return F1(r).replace(/\./g,"")},PT=function(r){try{return VT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=()=>G1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof IE>"u")return;const r=IE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Q1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PT(r[1]);return e&&JSON.parse(e)},pf=()=>{try{return B1()||$1()||K1()||Q1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kT=r=>{var e,n;return(n=(e=pf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Y1=r=>{const e=kT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LT=()=>{var r;return(r=pf())===null||r===void 0?void 0:r.config},UT=r=>{var e;return(e=pf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[zh(JSON.stringify(n)),zh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Z1(){var r;const e=(r=pf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rI(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iI(){return!Z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sI(){try{return typeof indexedDB=="object"}catch{return!1}}function aI(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FirebaseError";class di extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oI,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?lI(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new di(o,p,s)}}function lI(r,e){return r.replace(uI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uI=/\{\$([^}]+)}/g;function cI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function oi(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(CE(u)&&CE(f)){if(!oi(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function CE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ru(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function hI(r,e){const n=new fI(r,e);return n.subscribe.bind(n)}class fI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xp),o.error===void 0&&(o.error=Xp),o.complete===void 0&&(o.complete=Xp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r){return r&&r._delegate?r._delegate:r}class Js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new X1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gI(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mI(r){return r===Ks?void 0:r}function gI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const _I={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},vI=ke.INFO,EI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},TI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=EI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=vI,this._logHandler=TI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const SI=(r,e)=>e.some(n=>r instanceof n);let DE,OE;function AI(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bI(){return OE||(OE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,mm=new WeakMap,jT=new WeakMap,Wp=new WeakMap,ig=new WeakMap;function wI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Yi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&zT.set(n,r)}).catch(()=>{}),ig.set(e,r),e}function RI(r){if(mm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});mm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function II(r){gm=r(gm)}function CI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jp(this),e,...n);return jT.set(s,e.sort?e.sort():[e]),Yi(s)}:bI().includes(r)?function(...e){return r.apply(Jp(this),e),Yi(zT.get(this))}:function(...e){return Yi(r.apply(Jp(this),e))}}function DI(r){return typeof r=="function"?CI(r):(r instanceof IDBTransaction&&RI(r),SI(r,AI())?new Proxy(r,gm):r)}function Yi(r){if(r instanceof IDBRequest)return wI(r);if(Wp.has(r))return Wp.get(r);const e=DI(r);return e!==r&&(Wp.set(r,e),ig.set(e,r)),e}const Jp=r=>ig.get(r);function OI(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Yi(f);return s&&f.addEventListener("upgradeneeded",m=>{s(Yi(f.result),m.oldVersion,m.newVersion,Yi(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const NI=["get","getKey","getAll","getAllKeys","count"],xI=["put","add","delete","clear"],Zp=new Map;function NE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=xI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NI.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Zp.set(e,u),u}II(r=>({...r,get:(e,n,s)=>NE(e,n)||r.get(e,n,s),has:(e,n)=>!!NE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",xE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new rg("@firebase/app"),PI="@firebase/app-compat",kI="@firebase/analytics-compat",LI="@firebase/analytics",UI="@firebase/app-check-compat",zI="@firebase/app-check",jI="@firebase/auth",BI="@firebase/auth-compat",qI="@firebase/database",HI="@firebase/data-connect",FI="@firebase/database-compat",GI="@firebase/functions",$I="@firebase/functions-compat",KI="@firebase/installations",QI="@firebase/installations-compat",YI="@firebase/messaging",XI="@firebase/messaging-compat",WI="@firebase/performance",JI="@firebase/performance-compat",ZI="@firebase/remote-config",eC="@firebase/remote-config-compat",tC="@firebase/storage",nC="@firebase/storage-compat",rC="@firebase/firestore",iC="@firebase/vertexai",sC="@firebase/firestore-compat",aC="firebase",oC="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",lC={[ym]:"fire-core",[PI]:"fire-core-compat",[LI]:"fire-analytics",[kI]:"fire-analytics-compat",[zI]:"fire-app-check",[UI]:"fire-app-check-compat",[jI]:"fire-auth",[BI]:"fire-auth-compat",[qI]:"fire-rtdb",[HI]:"fire-data-connect",[FI]:"fire-rtdb-compat",[GI]:"fire-fn",[$I]:"fire-fn-compat",[KI]:"fire-iid",[QI]:"fire-iid-compat",[YI]:"fire-fcm",[XI]:"fire-fcm-compat",[WI]:"fire-perf",[JI]:"fire-perf-compat",[ZI]:"fire-rc",[eC]:"fire-rc-compat",[tC]:"fire-gcs",[nC]:"fire-gcs-compat",[rC]:"fire-fst",[sC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[aC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,uC=new Map,vm=new Map;function ME(r,e){try{r.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function po(r){const e=r.name;if(vm.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,r);for(const n of jh.values())ME(n,r);for(const n of uC.values())ME(n,r);return!0}function sg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Iu("app","Firebase",cC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=oC;function BT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(n||(n=LT()),!n)throw Xi.create("no-options");const u=jh.get(o);if(u){if(oi(n,u.options)&&oi(s,u.config))return u;throw Xi.create("duplicate-app",{appName:o})}const f=new yI(o);for(const m of vm.values())f.addComponent(m);const p=new hC(n,s,f);return jh.set(o,p),p}function qT(r=_m){const e=jh.get(r);if(!e&&r===_m&&LT())return BT();if(!e)throw Xi.create("no-app",{appName:r});return e}function Wi(r,e,n){var s;let o=(s=lC[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(p.join(" "));return}po(new Js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebase-heartbeat-database",dC=1,gu="firebase-heartbeat-store";let em=null;function HT(){return em||(em=OI(fC,dC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xi.create("idb-open",{originalErrorMessage:r.message})})),em}async function pC(r){try{const n=(await HT()).transaction(gu),s=await n.objectStore(gu).get(FT(r));return await n.done,s}catch(e){if(e instanceof di)li.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function VE(r,e){try{const s=(await HT()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,FT(r)),await s.done}catch(n){if(n instanceof di)li.warn(n.message);else{const s=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(s.message)}}}function FT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1024,gC=30;class yC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=PE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>gC){const f=EC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){li.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PE(),{heartbeatsToSend:s,unsentEntries:o}=_C(this._heartbeatsCache.heartbeats),u=zh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return li.warn(n),""}}}function PE(){return new Date().toISOString().substring(0,10)}function _C(r,e=mC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),kE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sI()?aI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function kE(r){return zh(JSON.stringify({version:2,heartbeats:r})).length}function EC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r){po(new Js("platform-logger",e=>new MI(e),"PRIVATE")),po(new Js("heartbeat",e=>new yC(e),"PRIVATE")),Wi(ym,xE,r),Wi(ym,xE,"esm2017"),Wi("fire-js","")}TC("");var yn=function(){return yn=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},yn.apply(this,arguments)};function ag(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Bh(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))}function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SC=GT,$T=new Iu("auth","Firebase",GT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new rg("@firebase/auth");function AC(r,...e){qh.logLevel<=ke.WARN&&qh.warn(`Auth (${xo}): ${r}`,...e)}function Ah(r,...e){qh.logLevel<=ke.ERROR&&qh.error(`Auth (${xo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(r,...e){throw og(r,...e)}function Ar(r,...e){return og(r,...e)}function KT(r,e,n){const s=Object.assign(Object.assign({},SC()),{[e]:n});return new Iu("auth","Firebase",s).create(e,{appName:r.name})}function ii(r){return KT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return $T.create(r,...e)}function Te(r,e,...n){if(!r)throw og(e,...n)}function ti(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ah(e),new Error(e)}function ui(r,e){r||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function bC(){return LE()==="http:"||LE()==="https:"}function LE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bC()||tI()||"connection"in navigator)?navigator.onLine:!0}function RC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=J1()||nI()}get(){return wC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,e){ui(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DC=new Du(3e4,6e4);function os(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ls(r,e,n,s,o={}){return YT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Cu(Object.assign({key:r.config.apiKey},f)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return eI()||(g.referrerPolicy="no-referrer"),QT.fetch()(await XT(r,r.config.apiHost,n,p),g)})}async function YT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},IC),e);try{const o=new NC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw fh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw fh(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw fh(r,"user-disabled",f);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw KT(r,E,g);tr(r,E)}}catch(o){if(o instanceof di)throw o;tr(r,"network-request-failed",{message:String(o)})}}async function Ou(r,e,n,s,o={}){const u=await ls(r,e,n,s,o);return"mfaPendingCredential"in u&&tr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function XT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?lg(r.config,o):`${r.config.apiScheme}://${o}`;return CC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function OC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ar(this.auth,"network-request-failed")),DC.get())})}}function fh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ar(r,e,s);return o.customData._tokenResponse=n,o}function UE(r){return r!==void 0&&r.enterprise!==void 0}class xC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MC(r,e){return ls(r,"GET","/v2/recaptchaConfig",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,e){return ls(r,"POST","/v1/accounts:delete",e)}async function Hh(r,e){return ls(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PC(r,e=!1){const n=qt(r),s=await n.getIdToken(e),o=ug(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:uu(tm(o.auth_time)),issuedAtTime:uu(tm(o.iat)),expirationTime:uu(tm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function tm(r){return Number(r)*1e3}function ug(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=PT(n);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zE(r){const e=ug(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof di&&kC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function kC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await yu(r,Hh(n,{idToken:s}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?WT(u.providerUserInfo):[],p=zC(r.providerData,f),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=m?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Tm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function UC(r){const e=qt(r);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function WT(r){return r.map(e=>{var{providerId:n}=e,s=ag(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(r,e){const n=await YT(r,{},async()=>{const s=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await XT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",QT.fetch()(f,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BC(r,e){return ls(r,"POST","/v2/accounts:revokeToken",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=zE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await jC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PC(this,e)}reload(){return UC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await yu(this,VC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,m,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,F=(p=n.tenantId)!==null&&p!==void 0?p:void 0,B=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ue,isAnonymous:le,providerData:ce,stsTokenManager:C}=n;Te(Q&&C,e,"internal-error");const w=lo.fromJSON(this.name,C);Te(typeof Q=="string",e,"internal-error"),qi(A,e.name),qi(b,e.name),Te(typeof ue=="boolean",e,"internal-error"),Te(typeof le=="boolean",e,"internal-error"),qi(O,e.name),qi(M,e.name),qi(F,e.name),qi(B,e.name),qi(K,e.name),qi(re,e.name);const R=new Jn({uid:Q,auth:e,email:b,emailVerified:ue,displayName:A,isAnonymous:le,photoURL:M,phoneNumber:O,tenantId:F,stsTokenManager:w,createdAt:K,lastLoginAt:re});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(x=>Object.assign({},x))),B&&(R._redirectEventId=B),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Fh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new lo;p.updateFromIdToken(s);const m=new Jn({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;function ni(r){ui(r instanceof Function,"Expected a class definition");let e=jE.get(r);return e?(ui(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,jE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JT.type="NONE";const BE=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ni(BE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ni(BE);const f=bh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const b=await Hh(e,{idToken:E}).catch(()=>{});if(!b)break;A=await Jn._fromGetAccountInfoResponse(e,b,E)}else A=Jn._fromJSON(e,E);g!==u&&(p=A),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new uo(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iS(e))return"Blackberry";if(sS(e))return"Webos";if(eS(e))return"Safari";if((e.includes("chrome/")||tS(e))&&!e.includes("edge/"))return"Chrome";if(rS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ZT(r=sn()){return/firefox\//i.test(r)}function eS(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tS(r=sn()){return/crios\//i.test(r)}function nS(r=sn()){return/iemobile/i.test(r)}function rS(r=sn()){return/android/i.test(r)}function iS(r=sn()){return/blackberry/i.test(r)}function sS(r=sn()){return/webos/i.test(r)}function cg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qC(r=sn()){var e;return cg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HC(){return rI()&&document.documentMode===10}function aS(r=sn()){return cg(r)||rS(r)||sS(r)||iS(r)||/windows phone/i.test(r)||nS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(r,e=[]){let n;switch(r){case"Browser":n=qE(sn());break;case"Worker":n=`${qE(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(r,e={}){return ls(r,"GET","/v2/passwordPolicy",os(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=6;class KC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:$C,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new FC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(ii(this));const n=e?qt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GC(this),n=new KC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ia(r){return qt(r)}class HE{constructor(e){this.auth=e,this.observer=null,this.addObserver=hI(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YC(r){mf=r}function lS(r){return mf.loadJS(r)}function XC(){return mf.recaptchaEnterpriseScript}function WC(){return mf.gapiScript}function JC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ZC{constructor(){this.enterprise=new eD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tD="recaptcha-enterprise",uS="NO_RECAPTCHA";class nD{constructor(e){this.type=tD,this.auth=ia(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{MC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new xC(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;UE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(uS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&UE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=XC();m.length!==0&&(m+=p),lS(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function FE(r,e,n,s=!1,o=!1){const u=new nD(r);let f;if(o)f=uS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Sm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await FE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await FE(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r,e){const n=sg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(oi(u,e??{}))return o;tr(o,"already-initialized")}return n.initialize({options:e})}function iD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sD(r,e,n){const s=ia(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=cS(e),{host:f,port:p}=aD(e),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(oi(g,s.config.emulator)&&oi(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,oD()}function cS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aD(r){const e=cS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:GE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:GE(f)}}}function GE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function lD(r,e){return ls(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(r,e){return Ou(r,"POST","/v1/accounts:signInWithPassword",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",os(r,e))}async function hD(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends hg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new _u(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new _u(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,n,"signInWithPassword",uD);case"emailLink":return cD(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,s,"signUpPassword",lD);case"emailLink":return hD(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r,e){return Ou(r,"POST","/v1/accounts:signInWithIdp",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="http://localhost";class Zs extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=ag(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:fD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pD(r){const e=nu(ru(r)).link,n=e?nu(ru(e)).deep_link_id:null,s=nu(ru(r)).deep_link_id;return(s?nu(ru(s)).link:null)||s||n||e||r}class fg{constructor(e){var n,s,o,u,f,p;const m=nu(ru(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,A=dD((o=m.mode)!==null&&o!==void 0?o:null);Te(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=m.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=pD(e);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return _u._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fg.parseLink(n);return Te(s,"argument-error"),_u._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends hS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Nu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gi.credential(n,s)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Nu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Nu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(r,e){return Ou(r,"POST","/v1/accounts:signUp",os(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Jn._fromIdTokenResponse(e,s,o),f=$E(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=$E(s);return new ea({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function $E(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends di{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Gh(e,n,s,o)}}function fS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(r,u,e,s):u})}async function gD(r,e,n=!1){const s=await yu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(r,e,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(ii(s));const o="reauthenticate";try{const u=await yu(r,fS(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=ug(u.idToken);Te(f,s,"internal-error");const{sub:p}=f;return Te(r.uid===p,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&tr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(r,e,n=!1){if(Hn(r.app))return Promise.reject(ii(r));const s="signIn",o=await fS(r,s,e),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function _D(r,e){return dS(ia(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(r){const e=ia(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vD(r,e,n){if(Hn(r.app))return Promise.reject(ii(r));const s=ia(r),f=await Sm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&pS(r),m}),p=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function ED(r,e,n){return Hn(r.app)?Promise.reject(ii(r)):_D(qt(r),Mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pS(r),s})}function TD(r,e,n,s){return qt(r).onIdTokenChanged(e,n,s)}function SD(r,e,n){return qt(r).beforeAuthStateChanged(e,n)}function AD(r,e,n,s){return qt(r).onAuthStateChanged(e,n,s)}function bD(r){return qt(r).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=1e3,RD=10;class gS extends mS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},wD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gS.type="LOCAL";const ID=gS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends mS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yS.type="SESSION";const _S=yS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await CD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=dg("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(b.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function OD(r){br().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function ND(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function MD(){return vS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebaseLocalStorageDb",VD=1,Kh="firebaseLocalStorage",TS="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(r,e){return r.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function PD(){const r=indexedDB.deleteDatabase(ES);return new xu(r).toPromise()}function Am(){const r=indexedDB.open(ES,VD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kh,{keyPath:TS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await PD(),e(await Am()))})})}async function KE(r,e,n){const s=yf(r,!0).put({[TS]:e,value:n});return new xu(s).toPromise()}async function kD(r,e){const n=yf(r,!1).get(e),s=await new xu(n).toPromise();return s===void 0?null:s.value}function QE(r,e){const n=yf(r,!0).delete(e);return new xu(n).toPromise()}const LD=800,UD=3;class SS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(MD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ND(),!this.activeServiceWorker)return;this.sender=new DD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await KE(e,$h,"1"),await QE(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>KE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SS.type="LOCAL";const zD=SS;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(r,e){return e?ni(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BD(r){return dS(r.auth,new pg(r),r.bypassAuthState)}function qD(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),yD(n,new pg(r),r.bypassAuthState)}async function HD(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),gD(n,new pg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BD;case"linkViaPopup":case"linkViaRedirect":return HD;case"reauthViaPopup":case"reauthViaRedirect":return qD;default:tr(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Du(2e3,1e4);class ao extends AS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FD.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="pendingRedirect",wh=new Map;class $D extends AS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const s=await KD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KD(r,e){const n=XD(e),s=YD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function QD(r,e){wh.set(r._key(),e)}function YD(r){return ni(r._redirectPersistence)}function XD(r){return bh(GD,r.config.apiKey,r.name)}async function WD(r,e,n=!1){if(Hn(r.app))return Promise.reject(ii(r));const s=ia(r),o=jD(s,e),f=await new $D(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=10*60*1e3;class ZD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!bS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JD&&this.cachedEventUids.clear(),this.cachedEventUids.has(YE(e))}saveEventToCache(e){this.cachedEventUids.add(YE(e)),this.lastProcessedEventTime=Date.now()}}function YE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function bS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(r,e={}){return ls(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rO=/^https?/;async function iO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await tO(r);for(const n of e)try{if(sO(n))return}catch{}tr(r,"unauthorized-domain")}function sO(r){const e=Em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!rO.test(n))return!1;if(nO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new Du(3e4,6e4);function XE(){const r=br().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function oO(r){return new Promise((e,n)=>{var s,o,u;function f(){XE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XE(),n(Ar(r,"network-request-failed"))},timeout:aO.get()})}if(!((o=(s=br().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=br().gapi)===null||u===void 0)&&u.load)f();else{const p=JC("iframefcb");return br()[p]=()=>{gapi.load?f():n(Ar(r,"network-request-failed"))},lS(`${WC()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function lO(r){return Rh=Rh||oO(r),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Du(5e3,15e3),cO="__/auth/iframe",hO="emulator/auth/iframe",fO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pO(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?lg(e,hO):`https://${r.config.authDomain}/${cO}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=dO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Cu(s).slice(1)}`}async function mO(r){const e=await lO(r),n=br().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:pO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ar(r,"network-request-failed"),p=br().setTimeout(()=>{u(f)},uO.get());function m(){br().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yO=500,_O=600,vO="_blank",EO="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TO(r,e,n,s=yO,o=_O){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},gO),{width:s.toString(),height:o.toString(),top:u,left:f}),g=sn().toLowerCase();n&&(p=tS(g)?vO:n),ZT(g)&&(e=e||EO,m.scrollbars="yes");const E=Object.entries(m).reduce((b,[O,M])=>`${b}${O}=${M},`,"");if(qC(g)&&p!=="_self")return SO(e||"",p),new WE(null);const A=window.open(e||"",p,E);Te(A,r,"popup-blocked");try{A.focus()}catch{}return new WE(A)}function SO(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="__/auth/handler",bO="emulator/auth/handler",wO=encodeURIComponent("fac");async function JE(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof hS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",cI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Nu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${wO}=${encodeURIComponent(m)}`:"";return`${RO(r)}?${Cu(p).slice(1)}${g}`}function RO({config:r}){return r.emulator?lg(r,bO):`https://${r.authDomain}/${AO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class IO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=WD,this._overrideRedirectResult=QD}async _openPopup(e,n,s,o){var u;ui((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await JE(e,n,s,Em(),o);return TO(e,f,dg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await JE(e,n,s,Em(),o);return OD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ui(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mO(e),s=new ZD(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[nm];f!==void 0&&n(!!f),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aS()||eS()||cg()}}const CO=IO;var ZE="@firebase/auth",e0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NO(r){po(new Js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oS(r)},g=new QC(s,o,u,m);return iD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),po(new Js("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(s=>new DO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(ZE,e0,OO(r)),Wi(ZE,e0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=5*60,MO=UT("authIdTokenMaxAge")||xO;let t0=null;const VO=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>MO)return;const o=n==null?void 0:n.token;t0!==o&&(t0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function PO(r=qT()){const e=sg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=rD(r,{popupRedirectResolver:CO,persistence:[zD,ID,_S]}),s=UT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=VO(u.toString());SD(n,f,()=>f(n.currentUser)),TD(n,p=>f(p))}}const o=kT("auth");return o&&sD(n,`http://${o}`),n}function kO(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}YC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ar("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",kO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NO("Browser");var LO="firebase",UO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(LO,UO,"app");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,wS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function R(){}R.prototype=w.prototype,C.D=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(x,P,L){for(var D=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)D[Rt-2]=arguments[Rt];return w.prototype[P].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)x[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],P=C.g[2];var L=C.g[3],D=w+(L^R&(P^L))+x[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=L+(P^w&(R^P))+x[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=P+(R^L&(w^R))+x[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(w^P&(L^w))+x[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(L^R&(P^L))+x[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(P^w&(R^P))+x[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=P+(R^L&(w^R))+x[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(w^P&(L^w))+x[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(L^R&(P^L))+x[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(P^w&(R^P))+x[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=P+(R^L&(w^R))+x[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(w^P&(L^w))+x[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(L^R&(P^L))+x[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(P^w&(R^P))+x[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=P+(R^L&(w^R))+x[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=R+(w^P&(L^w))+x[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(P^L&(R^P))+x[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(w^R))+x[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(L^w))+x[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(P^L))+x[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^L&(R^P))+x[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(w^R))+x[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(L^w))+x[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(P^L))+x[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^L&(R^P))+x[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(w^R))+x[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(L^w))+x[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(P^L))+x[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^L&(R^P))+x[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^P&(w^R))+x[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(L^w))+x[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(P^L))+x[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(R^P^L)+x[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^P)+x[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=P+(L^w^R)+x[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^w)+x[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^L)+x[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^P)+x[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=P+(L^w^R)+x[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^w)+x[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^L)+x[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^P)+x[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=P+(L^w^R)+x[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^w)+x[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^L)+x[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^P)+x[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=P+(L^w^R)+x[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=R+(P^L^w)+x[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(P^(R|~L))+x[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~P))+x[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=P+(w^(L|~R))+x[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~w))+x[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~L))+x[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~P))+x[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=P+(w^(L|~R))+x[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~w))+x[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~L))+x[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~P))+x[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=P+(w^(L|~R))+x[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~w))+x[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~L))+x[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~P))+x[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=P+(w^(L|~R))+x[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=R+(L^(P|~w))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var R=w-this.blockSize,x=this.B,P=this.h,L=0;L<w;){if(P==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(x[P++]=C.charCodeAt(L++),P==this.blockSize){o(this,x),P=0;break}}else for(;L<w;)if(x[P++]=C[L++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var R=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.u(C),C=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)C[R++]=this.g[w]>>>x&255;return C};function u(C,w){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function f(C,w){this.h=w;for(var R=[],x=!0,P=C.length-1;0<=P;P--){var L=C[P]|0;x&&L==w||(R[P]=L,x=!1)}this.g=R}var p={};function m(C){return-128<=C&&128>C?u(C,function(w){return new f([w|0],0>w?-1:0)}):new f([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return B(g(-C));for(var w=[],R=1,x=0;C>=R;x++)w[x]=C/R|0,R*=4294967296;return new f(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return B(E(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),x=A,P=0;P<C.length;P+=8){var L=Math.min(8,C.length-P),D=parseInt(C.substring(P,P+L),w);8>L?(L=g(Math.pow(w,L)),x=x.j(L).add(g(D))):(x=x.j(R),x=x.add(g(D)))}return x}var A=m(0),b=m(1),O=m(16777216);r=f.prototype,r.m=function(){if(F(this))return-B(this).m();for(var C=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);C+=(0<=x?x:4294967296+x)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(F(this))return"-"+B(this).toString(C);for(var w=g(Math.pow(C,6)),R=this,x="";;){var P=ue(R,w).g;R=K(R,P.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=P,M(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function F(C){return C.h==-1}r.l=function(C){return C=K(this,C),F(C)?-1:M(C)?0:1};function B(C){for(var w=C.g.length,R=[],x=0;x<w;x++)R[x]=~C.g[x];return new f(R,~C.h).add(b)}r.abs=function(){return F(this)?B(this):this},r.add=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],x=0,P=0;P<=w;P++){var L=x+(this.i(P)&65535)+(C.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);x=D>>>16,L&=65535,D&=65535,R[P]=D<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function K(C,w){return C.add(B(w))}r.j=function(C){if(M(this)||M(C))return A;if(F(this))return F(C)?B(this).j(B(C)):B(B(this).j(C));if(F(C))return B(this.j(B(C)));if(0>this.l(O)&&0>C.l(O))return g(this.m()*C.m());for(var w=this.g.length+C.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<C.g.length;P++){var L=this.i(x)>>>16,D=this.i(x)&65535,Rt=C.i(P)>>>16,st=C.i(P)&65535;R[2*x+2*P]+=D*st,re(R,2*x+2*P),R[2*x+2*P+1]+=L*st,re(R,2*x+2*P+1),R[2*x+2*P+1]+=D*Rt,re(R,2*x+2*P+1),R[2*x+2*P+2]+=L*Rt,re(R,2*x+2*P+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new f(R,0)};function re(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Q(C,w){this.g=C,this.h=w}function ue(C,w){if(M(w))throw Error("division by zero");if(M(C))return new Q(A,A);if(F(C))return w=ue(B(C),w),new Q(B(w.g),B(w.h));if(F(w))return w=ue(C,B(w)),new Q(B(w.g),w.h);if(30<C.g.length){if(F(C)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=w;0>=x.l(C);)R=le(R),x=le(x);var P=ce(R,1),L=ce(x,1);for(x=ce(x,2),R=ce(R,2);!M(x);){var D=L.add(x);0>=D.l(C)&&(P=P.add(R),L=D),x=ce(x,1),R=ce(R,1)}return w=K(C,P.j(w)),new Q(P,w)}for(P=A;0<=C.l(w);){for(R=Math.max(1,Math.floor(C.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=g(R),D=L.j(w);F(D)||0<D.l(C);)R-=x,L=g(R),D=L.j(w);M(L)&&(L=b),P=P.add(L),C=K(C,D)}return new Q(P,C)}r.A=function(C){return ue(this,C).h},r.and=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&C.i(x);return new f(R,this.h&C.h)},r.or=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|C.i(x);return new f(R,this.h|C.h)},r.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^C.i(x);return new f(R,this.h^C.h)};function le(C){for(var w=C.g.length+1,R=[],x=0;x<w;x++)R[x]=C.i(x)<<1|C.i(x-1)>>>31;return new f(R,C.h)}function ce(C,w){var R=w>>5;w%=32;for(var x=C.g.length-R,P=[],L=0;L<x;L++)P[L]=0<w?C.i(L+R)>>>w|C.i(L+R+1)<<32-w:C.i(L+R);return new f(P,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,wS=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ji=f}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RS,iu,IS,Ih,bm,CS,DS,OS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break e;_=_[U]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,b.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,$){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return y.prototype[U].apply(S,ae)}}function F(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const U=c.length||0,$=S.length||0;c.length=U+$;for(let ae=0;ae<$;ae++)c[U+ae]=S[ae]}else c.push(S)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var le=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function C(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Ie;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Rt{constructor(){this.h=this.g=null}add(y,_){const S=st.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var st=new K(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,Ie=new Rt,N=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=st;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function Re(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ue(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}M(Re,ie);var _e={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Vt(c,y,_,S,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=U,this.key=++qe,this.da=this.fa=!1}function Dn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hn(c){this.src=c,this.g={},this.h=0}hn.prototype.add=function(c,y,_,S,U){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=hs(c,y,S,U);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Vt(y,this.src,$,!!S,U),y.fa=_,c.push(y)),y};function Wt(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,y,void 0),$;($=0<=U)&&Array.prototype.splice.call(S,U,1),$&&(Dn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function hs(c,y,_,S){for(var U=0;U<c.length;++U){var $=c[U];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==S)return U}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),qo={};function Bu(c,y,_,S,U){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Bu(c,y[$],_,S,U);return null}return _=qu(_),c&&c[ut]?c.K(y,_,g(S)?!!S.capture:!1,U):On(c,y,_,!1,S,U)}function On(c,y,_,S,U,$){if(!y)throw Error("Invalid event type");var ae=g(U)?!!U.capture:!!U,Ue=ua(c);if(Ue||(c[fs]=Ue=new hn(c)),_=Ue.add(y,_,S,ae,$),_.proxy)return _;if(S=qf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)me||(U=ae),U===void 0&&(U=!1),c.addEventListener(y.toString(),S,U);else if(c.attachEvent)c.attachEvent(ds(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qf(){function c(_){return y.call(c.src,c.listener,_)}const y=Hf;return c}function Ho(c,y,_,S,U){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ho(c,y[$],_,S,U);else S=g(S)?!!S.capture:!!S,_=qu(_),c&&c[ut]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=hs($,_,S,U),-1<_&&(Dn($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ua(c))&&(y=c.g[y.toString()],c=-1,y&&(c=hs(y,_,S,U)),(_=-1<c?y[c]:null)&&la(_))}function la(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ut])Wt(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(ds(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ua(y))?(Wt(_,c),_.h==0&&(_.src=null,y[fs]=null)):Dn(c)}}}function ds(c){return c in qo?qo[c]:qo[c]="on"+c}function Hf(c,y){if(c.da)c=!0;else{y=new Re(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&la(c),c=_.call(S,y)}return c}function ua(c){return c=c[fs],c instanceof hn?c:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function qu(c){return typeof c=="function"?c:(c[Fo]||(c[Fo]=function(y){return c.handleEvent(y)}),c[Fo])}function ft(){se.call(this),this.i=new hn(this),this.M=this,this.F=null}M(ft,se),ft.prototype[ut]=!0,ft.prototype.removeEventListener=function(c,y,_,S){Ho(this,c,y,_,S)};function Qe(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var U=y;y=new ie(S,c),x(y,U)}if(U=!0,_)for(var $=_.length-1;0<=$;$--){var ae=y.g=_[$];U=_n(ae,S,!0,y)&&U}if(ae=y.g=c,U=_n(ae,S,!0,y)&&U,U=_n(ae,S,!1,y)&&U,_)for($=0;$<_.length;$++)ae=y.g=_[$],U=_n(ae,S,!1,y)&&U}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Dn(_[S]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ft.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function _n(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==_){var Ue=ae.listener,Ct=ae.ha||ae.src;ae.fa&&Wt(c.i,ae),U=Ue.call(Ct,S)!==!1&&U}}return U&&!S.defaultPrevented}function Jt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Hu(c){c.g=Jt(()=>{c.g=null,c.i&&(c.i=!1,Hu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ff extends se{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){se.call(this),this.h=c,this.g={}}M(ps,se);var ms=[];function gs(c){ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&la(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),gs(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=p.JSON.stringify,ca=p.JSON.parse,ys=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Go(){}Go.prototype.h=null;function $o(c){return c.h||(c.h=c.i())}function Ko(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){ie.call(this,"d")}M(Or,ie);function Qo(){ie.call(this,"c")}M(Qo,ie);var sr={},Yo=null;function pi(){return Yo=Yo||new ft}sr.La="serverreachability";function ha(c){ie.call(this,sr.La,c)}M(ha,ie);function mi(c){const y=pi();Qe(y,new ha(y))}sr.STAT_EVENT="statevent";function Fu(c,y){ie.call(this,sr.STAT_EVENT,c),this.stat=y}M(Fu,ie);function at(c){const y=pi();Qe(y,new Fu(y,c))}sr.Ma="timingevent";function It(c,y){ie.call(this,sr.Ma,c),this.size=y}M(It,ie);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function Xo(c,y,_,S,U,$){c.info(function(){if(c.g)if($)for(var ae="",Ue=$.split("&"),Ct=0;Ct<Ue.length;Ct++){var ze=Ue[Ct].split("=");if(1<ze.length){var kt=ze[0];ze=ze[1];var Dt=kt.split("_");ae=2<=Dt.length&&Dt[1]=="type"?ae+(kt+"="+ze+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+_+`
`+ae})}function Gf(c,y,_,S,U,$,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+_+`
`+$+" "+ae})}function gi(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_s(c,_)+(S?" "+S:"")})}function Gu(c,y){c.info(function(){return"TIMEOUT: "+y})}Nn.prototype.info=function(){};function _s(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return $n(_)}catch{return y}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function or(){}M(or,Go),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},ar=new or;function an(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Wo={},fa={};function Kn(c,y,_){c.L=1,c.v=As(vn(y)),c.m=_,c.P=!0,xr(c,null)}function xr(c,y){c.F=Date.now(),vs(c),c.A=vn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),rl(_.i,"t",S),c.C=0,_=c.j.J,c.h=new mt,c.g=oc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ff(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ms[0]=U.toString()),U=ms);for(var $=0;$<U.length;$++){var ae=Bu(_,U[$],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),mi(),Xo(c.i,c.u,c.A,c.l,c.R,c.m)}an.prototype.ca=function(c){c=c.target;const y=this.M;y&&Pn(c)==3?y.j():this.Y(c)},an.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Pn(this.g);var y=this.g.Ba();const jr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=jr?mi(3):mi(2)),_i(this);var _=this.g.Z();this.X=_;t:if($u(this)){var S=Zu(this.g);c="";var U=S.length,$=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),lr(this);var ae="";break t}this.h.i=new p.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!($&&y==U-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,Gf(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ct=this.g;if((Ue=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ue)){var ze=Ue;break t}}ze=null}if(_=ze)gi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,_);else{this.o=!1,this.s=3,at(12),Ht(this),lr(this);break e}}if(this.P){_=!0;let Ft;for(;!this.J&&this.C<ae.length;)if(Ft=Ku(this,ae),Ft==fa){Dt==4&&(this.s=4,at(14),_=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Wo){this.s=4,at(15),gi(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else gi(this.i,this.l,Ft,null),Es(this,Ft);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ae.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)gi(this.i,this.l,ae,"[Invalid Chunked Response]"),Ht(this),lr(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ns(kt),kt.M=!0,at(11))}}else gi(this.i,this.l,ae,null),Es(this,ae);Dt==4&&Ht(this),this.o&&!this.J&&(Dt==4?ic(this.j,this):(this.o=!1,vs(this)))}else Xf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Ht(this),lr(this)}}}catch{}finally{}};function $u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ku(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?fa:(_=Number(y.substring(_,S)),isNaN(_)?Wo:(S+=1,S+_>y.length?fa:(y=y.slice(S,S+_),c.C=S+_,y)))}an.prototype.cancel=function(){this.J=!0,Ht(this)};function vs(c){c.S=Date.now()+c.I,Qu(c,c.I)}function Qu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(b(c.ba,c),y)}function _i(c){c.B&&(p.clearTimeout(c.B),c.B=null)}an.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gu(this.i,this.A),this.L!=2&&(mi(),at(17)),Ht(this),this.s=2,lr(this)):Qu(this,this.S-c)};function lr(c){c.j.G==0||c.J||ic(c.j,c)}function Ht(c){_i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Es(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Jo(_.h,c))){if(!c.K&&Jo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ba(_),Sa(_);else break e;ll(_),at(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(b(_.Za,_),6e3));if(1>=pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else zr(_,11)}else if((c.K||_.g==c)&&ba(_),!re(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let ze=U[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const kt=ze[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const Dt=ze[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const jr=ze[5];jr!=null&&typeof jr=="number"&&0<jr&&(S=1.5*jr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ft=c.g;if(Ft){const mr=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var $=S.h;$.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ma($,$.h),$.h=null))}if(S.D){const cl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(S.ya=cl,We(S.I,S.D,cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=c;if(S.qa=ac(S,S.J?S.ia:null,S.W),ae.K){on(S.h,ae);var Ue=ae,Ct=S.L;Ct&&(Ue.I=Ct),Ue.B&&(_i(Ue),vs(Ue)),S.g=ae}else nc(S);0<_.i.length&&Aa(_)}else ze[0]!="stop"&&ze[0]!="close"||zr(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?zr(_,7):al(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}mi(4)}catch{}}var Yu=class{constructor(c,y){this.g=c,this.map=y}};function Mr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function da(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pa(c){return c.h?1:c.g?c.g.size:0}function Jo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function on(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mr.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return F(c.i)}function $f(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function ga(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function el(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ga(c),S=$f(c),U=S.length,$=0;$<U;$++)y.call(void 0,S[$],_&&_[$],c)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var $=c[_].substring(0,S);U=c[_].substring(S+1)}else $=c[_];y($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Ss(this,c.j),this.o=c.o,this.g=c.g,vi(this,c.s),this.l=c.l;var y=c.i,_=new Pr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Vr(this,_),this.m=c.m}else c&&(y=String(c).match(Ts))?(this.h=!1,Ss(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),vi(this,y[4]),this.l=xn(y[5]||"",!0),Vr(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(bs(y,tl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bs(y,tl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(bs(_,_.charAt(0)=="/"?Qf:nl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",bs(_,ya)),c.join("")};function vn(c){return new Et(c)}function Ss(c,y,_){c.j=_?xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Vr(c,y,_){y instanceof Pr?(c.i=y,Wu(c.i,c.h)):(_||(y=bs(y,Yf)),c.i=new Pr(y,c.h))}function We(c,y,_){c.i.set(y,_)}function As(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Xu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tl=/[#\/\?@]/g,nl=/[#\?:]/g,Qf=/[#\?]/g,Yf=/[#\?@]/g,ya=/#/g;function Pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Kf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Pr.prototype,r.add=function(c,y){Mn(this),this.i=null,c=ur(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function kr(c,y){Mn(c),y=ur(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Lr(c,y){return Mn(c),y=ur(c,y),c.g.has(y)}r.forEach=function(c,y){Mn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(y,U,S,this)},this)},this)},r.na=function(){Mn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const U=c[S];for(let $=0;$<U.length;$++)_.push(y[S])}return _},r.V=function(c){Mn(this);let y=[];if(typeof c=="string")Lr(this,c)&&(y=y.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Mn(this),this.i=null,c=ur(this,c),Lr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function rl(c,y,_){kr(c,y),0<_.length&&(c.i=null,c.g.set(ur(c,y),F(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const $=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var U=$;ae[S]!==""&&(U+="="+encodeURIComponent(String(ae[S]))),c.push(U)}}return this.i=c.join("&")};function ur(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wu(c,y){y&&!c.j&&(Mn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(kr(this,S),rl(this,U,_))},c)),c.j=y}function ws(c,y){const _=new Nn;if(p.Image){const S=new Image;S.onload=O(Vn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=O(Vn,_,"TestLoadImage: error",!1,y,S),S.onabort=O(Vn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=O(Vn,_,"TestLoadImage: timeout",!1,y,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Qn(c,y){const _=new Nn,S=new AbortController,U=setTimeout(()=>{S.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(U),$.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Vn(_,"TestPingServer: error",!1,y)})}function Vn(c,y,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Rs(){this.g=new ys}function cr(c,y,_){const S=_||"";try{el(c,function(U,$){let ae=U;g(U)&&(ae=$n(U)),y.push(S+$+"="+encodeURIComponent(ae))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function Ei(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ei,Go),Ei.prototype.g=function(){return new Ur(this.l,this.j)},Ei.prototype.i=function(c){return function(){return c}}({});function Ur(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ur,ft),r=Ur.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,fr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hr(this):fr(this),this.readyState==3&&il(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function fr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sl(c){let y="";return ce(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=sl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,y,_))}function Ge(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ge,ft);var _a=/^https?$/i,Is=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?$o(this.o):$o(ar),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Ju(this,$);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())_.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Is,y,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of _)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Ju(this,$)}};function Ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,va(c),dr(c)}function va(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},r.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Jt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ae===0){var U=String(c.D).match(Ts)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),S=!_a.test(U?U.toLowerCase():"")}_=S}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var $=2<Pn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",va(c)}}finally{dr(c)}}}}function dr(c,y){if(c.g){Cs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{_.onreadystatechange=S}catch{}}}function Cs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ca(y)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xf(c){const y={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(re(c[S]))continue;var _=P(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[U]||[];y[U]=$,$.push(_)}C(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ta(c){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(c&&c.concurrentRequestLimit),this.Da=new Rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ta.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){at(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ac(this,null,this.W),Aa(this)};function al(c){if(ec(c),c.G==3){var y=c.U++,_=vn(c.I);if(We(_,"SID",c.K),We(_,"RID",y),We(_,"TYPE","terminate"),Os(c,_),y=new an(c,c.j,y),y.L=2,y.v=As(vn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=oc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vs(y)}sc(c)}function Sa(c){c.g&&(Ns(c),c.g.cancel(),c.g=null)}function ec(c){Sa(c),c.u&&(p.clearTimeout(c.u),c.u=null),ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Aa(c){if(!da(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||N(),pe||(oe(),pe=!0),Ie.add(y,c),c.B=0}}function Wf(c,y){return pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(b(c.Ga,c,y),ul(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new an(this,this.j,c);let $=this.o;if(this.S&&($?($=w($),x($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=tc(this,U,y),_=vn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Os(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(sl($)))+"&"+y:this.m&&Pt(_,this.m,$)),ma(this.h,U),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",y),We(_,"SID","null"),U.T=!0,Kn(U,_,null)):Kn(U,_,y),this.G=2}}else this.G==3&&(c?ol(this,c):this.i.length==0||da(this.h)||ol(this))};function ol(c,y){var _;y?_=y.l:_=c.U++;const S=vn(c.I);We(S,"SID",c.K),We(S,"RID",_),We(S,"AID",c.T),Os(c,S),c.m&&c.o&&Pt(S,c.m,c.o),_=new an(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=tc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,_),Kn(_,S,y)}function Os(c,y){c.H&&ce(c.H,function(_,S){We(y,S,_)}),c.l&&el({},function(_,S){We(y,S,_)})}function tc(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;e:{var U=c.i;let $=-1;for(;;){const ae=["count="+_];$==-1?0<_?($=U[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let Ue=!0;for(let Ct=0;Ct<_;Ct++){let ze=U[Ct].g;const kt=U[Ct].map;if(ze-=$,0>ze)$=Math.max(0,U[Ct].g-100),Ue=!1;else try{cr(kt,ae,"req"+ze+"_")}catch{S&&S(kt)}}if(Ue){S=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function nc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||N(),pe||(oe(),pe=!0),Ie.add(y,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(b(c.Fa,c),ul(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Sa(this),rc(this))};function Ns(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function rc(c){c.g=new an(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=vn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Os(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=As(vn(y)),_.m=null,_.P=!0,xr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Sa(this),ll(this),at(19))};function ba(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function ic(c,y){var _=null;if(c.g==y){ba(c),Ns(c),c.g=null;var S=2}else if(Jo(c.h,y))_=y.D,on(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;S=pi(),Qe(S,new It(S,_)),Aa(c)}else nc(c);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&Wf(c,y)||S==2&&ll(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function ul(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function zr(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const U=!S;S=new Et(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ss(S,"https"),As(S),U?ws(S.toString(),_):Qn(S.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(y),sc(c),ec(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function sc(c){if(c.G=0,c.ka=[],c.l){const y=Zo(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function ac(c,y,_){var S=_ instanceof Et?vn(_):new Et(_);if(S.g!="")y&&(S.g=y+"."+S.g),vi(S,S.s);else{var U=p.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var $=new Et(null);S&&Ss($,S),y&&($.g=y),U&&vi($,U),_&&($.l=_),S=$}return _=c.D,y=c.ya,_&&y&&We(S,_,y),We(S,"VER",c.la),Os(c,S),S}function oc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new Ei({eb:_})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}r=lc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){ft.call(this),this.g=new Ta(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new pr(this)}M(ln,ft),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){al(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=$n(c),c=_);y.i.push(new Yu(y.Ya++,c)),y.G==3&&Aa(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,ln.aa.N.call(this)};function uc(c){Or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(uc,Or);function cc(){Qo.call(this),this.status=1}M(cc,Qo);function pr(c){this.g=c}M(pr,lc),pr.prototype.ua=function(){Qe(this.g,"a")},pr.prototype.ta=function(c){Qe(this.g,new uc(c))},pr.prototype.sa=function(c){Qe(this.g,new cc)},pr.prototype.ra=function(){Qe(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,OS=function(){return new wa},DS=function(){return pi()},CS=sr,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Ih=yi,Nr.COMPLETE="complete",IS=Nr,Ko.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,iu=Ko,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,RS=Ge}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",i0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new rg("@firebase/firestore");function no(){return ta.logLevel}function he(r,...e){if(ta.logLevel<=ke.DEBUG){const n=e.map(mg);ta.debug(`Firestore (${Vo}): ${r}`,...n)}}function ci(r,...e){if(ta.logLevel<=ke.ERROR){const n=e.map(mg);ta.error(`Firestore (${Vo}): ${r}`,...n)}}function mo(r,...e){if(ta.logLevel<=ke.WARN){const n=e.map(mg);ta.warn(`Firestore (${Vo}): ${r}`,...n)}}function mg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+r;throw ci(e),new Error(e)}function Ke(r,e){r||Ae()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class jO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BO{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new si;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new si,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new si)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new NS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new nn(e)}}class qO{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HO{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new qO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FO{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new s0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new s0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function wm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return xe(s,o);{const u=xS(),f=$O(u.encode(a0(r,n)),u.encode(a0(e,n)));return f!==0?f:xe(s,o)}}n+=s>65535?2:1}return xe(r.length,e.length)}function a0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function $O(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return xe(r[n],e[n]);return xe(r.length,e.length)}function go(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-62135596800,l0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*l0);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l0}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-o0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new xt(0,0))}static max(){return new be(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="__name__";class Tr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(),s===void 0?s=e.length-n:s>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Tr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return xe(e.length,n.length)}static compareSegments(e,n){const s=Tr.isNumericId(e),o=Tr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class it extends Tr{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const KO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Tr{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return KO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new Yt([u0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function QO(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new es(o,ye.empty(),e)}function YO(r){return new es(r.readTime,r.key,vu)}class es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new es(be.min(),ye.empty(),vu)}static max(){return new es(be.max(),ye.empty(),vu)}}function XO(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==WO)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(E=>{f[g]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function ZO(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_f.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function vf(r){return r==null}function Qh(r){return r===0&&1/r==-1/0}function eN(r){return typeof r=="number"&&Number.isInteger(r)&&!Qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="";function tN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=c0(e)),e=nN(r.get(n),e);return c0(e)}function nN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case VS:n+="";break;default:n+=u}}return n}function c0(r){return r+VS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function us(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function PS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Mt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kS("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const rN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=rN.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="server_timestamp",US="__type__",zS="__previous_value__",jS="__local_write_time__";function yg(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[US])===null||n===void 0?void 0:n.stringValue)===LS}function Ef(r){const e=r.mapValue.fields[zS];return yg(e)?Ef(e):e}function Eu(r){const e=ts(r.mapValue.fields[jS].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,s,o,u,f,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g}}const Yh="(default)";class Tu{constructor(e,n){this.projectId=e,this.database=n||Yh}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="__type__",sN="__max__",mh={mapValue:{}},qS="__vector__",Xh="value";function rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:oN(r)?9007199254740991:aN(r)?10:11:Ae()}function Ir(r,e){if(r===e)return!0;const n=rs(r);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Eu(r).isEqual(Eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ts(o.timestampValue),p=ts(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),p=_t(u.doubleValue);return f===p?Qh(f)===Qh(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(h0(f)!==h0(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!Ir(f[m],p[m])))return!1;return!0}(r,e);default:return Ae()}}function Su(r,e){return(r.values||[]).find(n=>Ir(n,e))!==void 0}function yo(r,e){if(r===e)return 0;const n=rs(r),s=rs(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=_t(u.integerValue||u.doubleValue),m=_t(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return d0(r.timestampValue,e.timestampValue);case 4:return d0(Eu(r),Eu(e));case 5:return wm(r.stringValue,e.stringValue);case 6:return function(u,f){const p=ns(u),m=ns(f);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=xe(p[g],m[g]);if(E!==0)return E}return xe(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=xe(_t(u.latitude),_t(f.latitude));return p!==0?p:xe(_t(u.longitude),_t(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return p0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var p,m,g,E;const A=u.fields||{},b=f.fields||{},O=(p=A[Xh])===null||p===void 0?void 0:p.arrayValue,M=(m=b[Xh])===null||m===void 0?void 0:m.arrayValue,F=xe(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:p0(O,M)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===mh.mapValue&&f===mh.mapValue)return 0;if(u===mh.mapValue)return 1;if(f===mh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let A=0;A<m.length&&A<E.length;++A){const b=wm(m[A],E[A]);if(b!==0)return b;const O=yo(p[m[A]],g[E[A]]);if(O!==0)return O}return xe(m.length,E.length)}(r.mapValue,e.mapValue);default:throw Ae()}}function d0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const n=ts(r),s=ts(e),o=xe(n.seconds,s.seconds);return o!==0?o:xe(n.nanos,s.nanos)}function p0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return xe(n.length,s.length)}function _o(r){return Rm(r)}function Rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ns(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Rm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Rm(n.fields[f])}`;return o+"}"}(r.mapValue):Ae()}function Ch(r){switch(rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(r);return e?16+Ch(e):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ch(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,f)=>{o+=u.length+Ch(f)}),o}(r.mapValue);default:throw Ae()}}function m0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Im(r){return!!r&&"integerValue"in r}function _g(r){return!!r&&"arrayValue"in r}function g0(r){return!!r&&"nullValue"in r}function y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dh(r){return!!r&&"mapValue"in r}function aN(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[BS])===null||n===void 0?void 0:n.stringValue)===qS}function cu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return us(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=cu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function oN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=cu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){us(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(cu(this.value))}}function HS(r){const e=[];return us(r.fields,(n,s)=>{const o=new Yt([n]);if(Dh(s)){const u=HS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new rn(e,0,be.min(),be.min(),be.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,be.min(),be.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,be.min(),be.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.position=e,this.inclusive=n}}function _0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function v0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ir(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{}class wt extends FS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cN(e,n,s):n==="array-contains"?new dN(e,s):n==="in"?new pN(e,s):n==="not-in"?new mN(e,s):n==="array-contains-any"?new gN(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hN(e,s):new fN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends FS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new nr(e,n)}matches(e){return GS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GS(r){return r.op==="and"}function $S(r){return uN(r)&&GS(r)}function uN(r){for(const e of r.filters)if(e instanceof nr)return!1;return!0}function Cm(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if($S(r))return r.filters.map(e=>Cm(e)).join(",");{const e=r.filters.map(n=>Cm(n)).join(",");return`${r.op}(${e})`}}function KS(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Ir(s.value,o.value)}(r,e):r instanceof nr?function(s,o){return o instanceof nr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&KS(f,o.filters[p]),!0):!1}(r,e):void Ae()}function QS(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(r):r instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(QS).join(" ,")+"}"}(r):"Filter"}class cN extends wt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class hN extends wt{constructor(e,n){super(e,"in",n),this.keys=YS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fN extends wt{constructor(e,n){super(e,"not-in",n),this.keys=YS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YS(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class dN extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&Su(n.arrayValue,this.value)}}class pN extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class mN extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Su(this.value.arrayValue,n)}}class gN extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.le=null}}function E0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new yN(r,e,n,s,o,u,f)}function vg(r){const e=we(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_o(s)).join(",")),e.le=n}return e.le}function Eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!lN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!KS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!v0(r.startAt,e.startAt)&&v0(r.endAt,e.endAt)}function Dm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function _N(r,e,n,s,o,u,f,p){return new Mu(r,e,n,s,o,u,f,p)}function Tg(r){return new Mu(r)}function T0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XS(r){return r.collectionGroup!==null}function hu(r){const e=we(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Mt(Yt.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Jh(u,s))}),n.has(Yt.keyField().canonicalString())||e.he.push(new Jh(Yt.keyField(),s))}return e.he}function wr(r){const e=we(r);return e.Pe||(e.Pe=vN(e,hu(r))),e.Pe}function vN(r,e){if(r.limitType==="F")return E0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Jh(o.field,u)});const n=r.endAt?new Wh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Wh(r.startAt.position,r.startAt.inclusive):null;return E0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Om(r,e){const n=r.filters.concat([e]);return new Mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Nm(r,e,n){return new Mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Tf(r,e){return Eg(wr(r),wr(e))&&r.limitType===e.limitType}function WS(r){return`${vg(wr(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>QS(o)).join(", ")}]`),vf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>_o(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(wr(r))}; limitType=${r.limitType})`}function Sf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of hu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=_0(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,hu(s),o)||s.endAt&&!function(f,p,m){const g=_0(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,hu(s),o))}(r,e)}function EN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function JS(r){return(e,n)=>{let s=!1;for(const o of hu(r)){const u=TN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TN(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?yo(m,g):Ae()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new ht(ye.comparator);function hi(){return SN}const ZS=new ht(ye.comparator);function su(...r){let e=ZS;for(const n of r)e=e.insert(n.key,n);return e}function eA(r){let e=ZS;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Qs(){return fu()}function tA(){return fu()}function fu(){return new sa(r=>r.toString(),(r,e)=>r.isEqual(e))}const AN=new ht(ye.comparator),bN=new Mt(ye.comparator);function Le(...r){let e=bN;for(const n of r)e=e.add(n);return e}const wN=new Mt(xe);function RN(){return wN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function nA(r){return{integerValue:""+r}}function IN(r,e){return eN(e)?nA(e):Sg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function CN(r,e,n){return r instanceof Zh?function(o,u){const f={fields:{[US]:{stringValue:LS},[jS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yg(u)&&(u=Ef(u)),u&&(f.fields[zS]=u),{mapValue:f}}(n,e):r instanceof vo?iA(r,e):r instanceof Eo?sA(r,e):function(o,u){const f=rA(o,u),p=S0(f)+S0(o.Ie);return Im(f)&&Im(o.Ie)?nA(p):Sg(o.serializer,p)}(r,e)}function DN(r,e,n){return r instanceof vo?iA(r,e):r instanceof Eo?sA(r,e):n}function rA(r,e){return r instanceof ef?function(s){return Im(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Zh extends Af{}class vo extends Af{constructor(e){super(),this.elements=e}}function iA(r,e){const n=aA(e);for(const s of r.elements)n.some(o=>Ir(o,s))||n.push(s);return{arrayValue:{values:n}}}class Eo extends Af{constructor(e){super(),this.elements=e}}function sA(r,e){let n=aA(e);for(const s of r.elements)n=n.filter(o=>!Ir(o,s));return{arrayValue:{values:n}}}class ef extends Af{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function S0(r){return _t(r.integerValue||r.doubleValue)}function aA(r){return _g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.field=e,this.transform=n}}function ON(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof vo&&o instanceof vo||s instanceof Eo&&o instanceof Eo?go(s.elements,o.elements,Ir):s instanceof ef&&o instanceof ef?Ir(s.Ie,o.Ie):s instanceof Zh&&o instanceof Zh}(r.transform,e.transform)}class NN{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bf{}function lA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cA(r.key,Zn.none()):new Vu(r.key,r.data,Zn.none());{const n=r.data,s=gn.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new cs(r.key,s,new Cn(o.toArray()),Zn.none())}}function xN(r,e,n){r instanceof Vu?function(o,u,f){const p=o.value.clone(),m=b0(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof cs?function(o,u,f){if(!Oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=b0(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(uA(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function du(r,e,n,s){return r instanceof Vu?function(u,f,p,m){if(!Oh(u.precondition,f))return p;const g=u.value.clone(),E=w0(u.fieldTransforms,m,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof cs?function(u,f,p,m){if(!Oh(u.precondition,f))return p;const g=w0(u.fieldTransforms,m,f),E=f.data;return E.setAll(uA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,p){return Oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function MN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=rA(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function A0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,f)=>ON(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Vu extends bf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends bf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uA(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function b0(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,DN(f,p,n[o]))}return s}function w0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,CN(u,f,e))}return s}class cA extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=lA(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,s)=>A0(n,s))&&go(this.baseMutations,e.baseMutations,(n,s)=>A0(n,s))}}class Ag{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return AN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ag(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Be;function UN(r){switch(r){case ne.OK:return Ae();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae()}}function hA(r){if(r===void 0)return ci("GRPC error has no .code"),ne.UNKNOWN;switch(r){case At.OK:return ne.OK;case At.CANCELLED:return ne.CANCELLED;case At.UNKNOWN:return ne.UNKNOWN;case At.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case At.INTERNAL:return ne.INTERNAL;case At.UNAVAILABLE:return ne.UNAVAILABLE;case At.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case At.NOT_FOUND:return ne.NOT_FOUND;case At.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case At.ABORTED:return ne.ABORTED;case At.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case At.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(Be=At||(At={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Ji([4294967295,4294967295],0);function R0(r){const e=xS().encode(r),n=new wS;return n.update(e),new Uint8Array(n.digest())}function I0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ji([n,s],0),new Ji([o,u],0)]}class bg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ji.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Ji.fromNumber(s)));return o.compare(zN)===1&&(o=new Ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=R0(e),[s,o]=I0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const n=R0(e),[s,o]=I0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wf(be.min(),o,new ht(xe),hi(),Le())}}class Pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class fA{constructor(e,n){this.targetId=e,this.ge=n}}class dA{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class C0{constructor(){this.pe=0,this.ye=D0(),this.we=Xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae()}}),new Pu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=D0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hi(),this.$e=gh(),this.Ue=gh(),this.Ke=new ht(xe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Dm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,rn.newNoDocument(f,be.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const p=this.tt(e),m=p?this.nt(p,e,f):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ns(s).toUint8Array()}catch(m){if(m instanceof kS)return mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new bg(f,o,u)}catch(m){return mo(m instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.Ee===0?null:p}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const p=this.Xe(f);if(p){if(u.current&&Dm(p.target)){const m=new ye(p.target.path);this._t(m).has(f)||this.ut(f,m)||this.ze(f,m,rn.newNoDocument(m,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Le();this.Ue.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new wf(e,n,this.Ke,this.Qe,s);return this.Qe=hi(),this.$e=gh(),this.Ue=gh(),this.Ke=new ht(xe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new C0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Mt(xe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Mt(xe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new C0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function gh(){return new ht(ye.comparator)}function D0(){return new ht(ye.comparator)}const BN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HN={and:"AND",or:"OR"};class FN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(r,e){return r.useProto3Json||vf(e)?e:{value:e}}function tf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GN(r,e){return tf(r,e.toTimestamp())}function Rr(r){return Ke(!!r),be.fromTimestamp(function(n){const s=ts(n);return new xt(s.seconds,s.nanos)}(r))}function wg(r,e){return Mm(r,e).canonicalString()}function Mm(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function mA(r){const e=it.fromString(r);return Ke(EA(e)),e}function Vm(r,e){return wg(r.databaseId,e.path)}function rm(r,e){const n=mA(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(yA(n))}function gA(r,e){return wg(r.databaseId,e)}function $N(r){const e=mA(r);return e.length===4?it.emptyPath():yA(e)}function Pm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yA(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function O0(r,e,n){return{name:Vm(r,e),fields:n.value.mapValue.fields}}function KN(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string"),Xt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Xt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const E=g.code===void 0?ne.UNKNOWN:hA(g.code);return new fe(E,g.message||"")}(f);n=new dA(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rm(r,s.document.name),u=Rr(s.document.updateTime),f=s.document.createTime?Rr(s.document.createTime):be.min(),p=new gn({mapValue:{fields:s.document.fields}}),m=rn.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Nh(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rm(r,s.document),u=s.readTime?Rr(s.readTime):be.min(),f=rn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Nh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rm(r,s.document),u=s.removedTargetIds||[];n=new Nh([],u,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new LN(o,u),p=s.targetId;n=new fA(p,f)}}return n}function QN(r,e){let n;if(e instanceof Vu)n={update:O0(r,e.key,e.value)};else if(e instanceof cA)n={delete:Vm(r,e.key)};else if(e instanceof cs)n={update:O0(r,e.key,e.data),updateMask:rx(e.fieldMask)};else{if(!(e instanceof VN))return Ae();n={verify:Vm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Zh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof vo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Eo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ef)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw Ae()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:GN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()}(r,e.precondition)),n}function YN(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Rr(o.updateTime):Rr(u);return f.isEqual(be.min())&&(f=Rr(u)),new NN(f,o.transformResults||[])}(n,e))):[]}function XN(r,e){return{documents:[gA(r,e.path)]}}function WN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=gA(r,o);const u=function(g){if(g.length!==0)return vA(nr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:io(b.field),direction:ex(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=xm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function JN(r){let e=$N(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const b=_A(A);return b instanceof nr&&$S(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(b=>function(M){return new Jh(so(M.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(b))}(n.orderBy));let p=null;n.limit&&(p=function(A){let b;return b=typeof A=="object"?A.value:A,vf(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(A){const b=!!A.before,O=A.values||[];return new Wh(O,b)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const b=!A.before,O=A.values||[];return new Wh(O,b)}(n.endAt)),_N(e,o,f,u,p,"F",m,g)}function ZN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _A(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(r):r.fieldFilter!==void 0?function(n){return wt.create(so(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(s=>_A(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(r):Ae()}function ex(r){return BN[r]}function tx(r){return qN[r]}function nx(r){return HN[r]}function io(r){return{fieldPath:r.canonicalString()}}function so(r){return Yt.fromServerFormat(r.fieldPath)}function vA(r){return r instanceof wt?function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:tx(n.op),value:n.value}}}(r):r instanceof nr?function(n){const s=n.getFilters().map(o=>vA(o));return s.length===1?s[0]:{compositeFilter:{op:nx(n.op),filters:s}}}(r):Ae()}function rx(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,s,o,u=be.min(),f=be.min(),p=Xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.Tt=e}}function sx(r){const e=JN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.Tn=new ox}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(es.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class ox{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TA=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(TA,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new To(0)}static Kn(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="LruGarbageCollector",lx=1048576;function M0([r,e],[n,s]){const o=xe(r,n);return o===0?xe(e,s):o}class ux{constructor(e){this.Hn=e,this.buffer=new Mt(M0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();M0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(x0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?he(x0,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.er(3e5)})}}class hx{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(_f.ae);const s=new ux(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(N0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,p,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,p=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),no()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${A} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function fx(r,e){return new hx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&du(s.mutation,o,Cn.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=su();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=hi();const f=fu(),p=function(){return fu()}();return n.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),du(E.mutation,g,E.mutation.getFieldMask(),xt.now())):f.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return p.set(g,new px(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,n){const s=fu();let o=new ht((f,p)=>f-p),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let E=s.get(m)||Cn.empty();E=p.applyToLocalView(g,E),s.set(m,E);const A=(o.get(p.batchId)||Le()).add(m);o=o.insert(p.batchId,A)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,A=tA();E.forEach(b=>{if(!u.has(b)){const O=lA(n.get(b),s.get(b));O!==null&&A.set(b,O),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Qs());let p=vu,m=u;return f.next(g=>ee.forEach(g,(E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{m=m.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Le())).next(E=>({batchId:p,changes:eA(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=su();return this.indexManager.getCollectionParents(e,u).next(p=>ee.forEach(p,m=>{const g=function(A,b){return new Mu(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,b)=>{f=f.insert(A,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,rn.newInvalidDocument(E)))});let p=su();return f.forEach((m,g)=>{const E=u.get(m);E!==void 0&&du(E.mutation,g,Cn.empty(),xt.now()),Sf(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:sx(o.bundledQuery),readTime:Rr(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.overlays=new ht(ye.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new ye(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Qs(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return ee.resolve(p)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kN(n,s));let u=this.Rr.get(n);u===void 0&&(u=Le(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Vr=new Mt(jt.mr),this.gr=new Mt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new it([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new it([])),s=new jt(n,e),o=new jt(n,e+1);let u=Le();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||xe(e.Cr,n.Cr)}static pr(e,n){return xe(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(jt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new PN(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Mr=this.Mr.add(new jt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?gg:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const p=this.Or(f.Cr);u.push(p)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(xe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],p=>{s=s.add(p.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ye(u),0);let p=new Mt(xe);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Cr)),!0)},f),ee.resolve(this.Br(p))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.kr=e,this.docs=function(){return new ht(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=hi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hi();const f=n.path,p=new ye(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||XO(YO(E),s)<=0||(o.has(E.key)||Sf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Tx(this)}getSize(e){return ee.resolve(this.size)}}class Tx extends dx{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.persistence=e,this.Qr=new sa(n=>vg(n),Eg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Rg,this.targetCount=0,this.Kr=To.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new To(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new _f(0),this.zr=!1,this.zr=!0,this.jr=new _x,this.referenceDelegate=e(this),this.Hr=new Sx(this),this.indexManager=new ax,this.remoteDocumentCache=function(o){return new Ex(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new ix(n),this.Yr=new gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new vx(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new Ax(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class Ax extends JO{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.ti=new Rg,this.ni=null}static ri(e){return new Ig(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class nf{constructor(e,n){this.persistence=e,this.oi=new sa(s=>tN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=fx(this,n)}static ri(e,n){return new nf(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(p=>{p||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ch(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return iI()?8:ZO(sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new bx;return this._s(e,n,f).next(p=>{if(u.result=p,this.Xi)return this.us(e,n,f,p.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(no()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(no()<=ke.DEBUG&&he("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(no()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):ee.resolve())}rs(e,n){if(T0(n))return ee.resolve(null);let s=wr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),s=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(n,p);return this.ls(n,g,f,m.readTime)?this.rs(e,Nm(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,s,o){return T0(n)||o.isEqual(be.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(no()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.hs(e,f,n,QO(o,vu)).next(p=>p))})}cs(e,n){let s=new Mt(JS(e));return n.forEach((o,u)=>{Sf(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return no()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ns.getDocumentsMatchingQuery(e,n,es.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",Rx=3e8;class Ix{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ht(xe),this.Is=new sa(u=>vg(u),Eg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Cx(r,e,n,s){return new Ix(r,e,n,s)}async function AA(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:p}))})})}function Dx(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const A=g.batch,b=A.keys();let O=ee.resolve();return b.forEach(M=>{O=O.next(()=>E.getEntry(m,M)).next(F=>{const B=g.docVersions.get(M);Ke(B!==null),F.version.compareTo(B)<0&&(A.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),E.addEntry(F)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Le();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function bA(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Ox(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const p=[];e.targetChanges.forEach((E,A)=>{const b=o.get(A);if(!b)return;p.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let O=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(A,O),function(F,B,K){return F.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=Rx?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,O,E)&&p.push(n.Hr.updateTargetData(u,O))});let m=hi(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(Nx(u,f,e.documentUpdates).next(E=>{m=E.Vs,g=E.fs})),!s.isEqual(be.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return ee.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ts=o,u))}function Nx(r,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=hi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(be.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):he(Dg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{Vs:f,fs:o}})}function xx(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Mx(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Qi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function km(r,e,n){const s=we(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ko(f))throw f;he(Dg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function V0(r,e,n){const s=we(r);let o=be.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,E){const A=we(m),b=A.Is.get(E);return b!==void 0?ee.resolve(A.Ts.get(b)):A.Hr.getTargetData(g,E)}(s,f,wr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Le())).next(p=>(Vx(s,EN(e),p),{documents:p,gs:u})))}function Vx(r,e,n){let s=r.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class P0{constructor(){this.activeTargetIds=RN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Px{constructor(){this.ho=new P0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new P0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class L0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Lm(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",Lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ux{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Lm(),p=this.bo(e,n.toUriEncodedString());he(im,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,p,m,s).then(g=>(he(im,`Received RPC '${e}' ${f}: `,g),g),g=>{throw mo(im,`RPC '${e}' ${f} failed with error: `,g,"url: ",p,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=Lx[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class jx extends Ux{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Lm();return new Promise((f,p)=>{const m=new RS;m.setWithCredentials(!0),m.listenOnce(IS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ih.NO_ERROR:const E=m.getResponseJson();he(tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Ih.TIMEOUT:he(tn,`RPC '${e}' ${u} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const A=m.getStatus();if(he(tn,`RPC '${e}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const O=b==null?void 0:b.error;if(O&&O.status&&O.message){const M=function(B){const K=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(O.status);p(new fe(M,O.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{he(tn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(tn,`RPC '${e}' ${u} sending request:`,o),m.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Lm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=OS(),p=DS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const A=f.createWebChannel(E,m);let b=!1,O=!1;const M=new zx({Fo:B=>{O?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(b||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),he(tn,`RPC '${e}' stream ${o} sending:`,B),A.send(B))},Mo:()=>A.close()}),F=(B,K,re)=>{B.listen(K,Q=>{try{re(Q)}catch(ue){setTimeout(()=>{throw ue},0)}})};return F(A,iu.EventType.OPEN,()=>{O||(he(tn,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),F(A,iu.EventType.CLOSE,()=>{O||(O=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),F(A,iu.EventType.ERROR,B=>{O||(O=!0,mo(tn,`RPC '${e}' stream ${o} transport errored:`,B),M.Uo(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),F(A,iu.EventType.MESSAGE,B=>{var K;if(!O){const re=B.data[0];Ke(!!re);const Q=re,ue=(Q==null?void 0:Q.error)||((K=Q[0])===null||K===void 0?void 0:K.error);if(ue){he(tn,`RPC '${e}' stream ${o} received error:`,ue);const le=ue.status;let ce=function(R){const x=At[R];if(x!==void 0)return hA(x)}(le),C=ue.message;ce===void 0&&(ce=ne.INTERNAL,C="Unknown error status: "+le+" with message "+ue.message),O=!0,M.Uo(new fe(ce,C)),A.close()}else he(tn,`RPC '${e}' stream ${o} received:`,re),M.Ko(re)}}),F(p,CS.STAT_EVENT,B=>{B.stat===bm.PROXY?he(tn,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===bm.NOPROXY&&he(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(r){return new FN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="PersistentStream";class RA{constructor(e,n,s,o,u,f,p,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new wA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(U0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bx extends RA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=KN(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Rr(f.readTime):be.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=Dm(m)?{documents:XN(u,m)}:{query:WN(u,m).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=pA(u,f.resumeToken);const g=xm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){p.readTime=tf(u,f.snapshotVersion.toTimestamp());const g=xm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=ZN(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.I_(n)}}class qx extends RA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=YN(e.writeResults,e.commitTime),s=Rr(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Pm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>QN(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{}class Fx extends Hx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Mm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,Mm(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Gx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ci(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class $x{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{aa(this)&&(he(na,"Restarting streams for network reachability change."),await async function(m){const g=we(m);g.W_.add(4),await ku(g),g.j_.set("Unknown"),g.W_.delete(4),await If(g)}(this))})}),this.j_=new Gx(s,o)}}async function If(r){if(aa(r))for(const e of r.G_)await e(!0)}async function ku(r){for(const e of r.G_)await e(!1)}function IA(r,e){const n=we(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Mg(n)?xg(n):Lo(n).c_()&&Ng(n,e))}function Og(r,e){const n=we(r),s=Lo(n);n.K_.delete(e),s.c_()&&CA(n,e),n.K_.size===0&&(s.c_()?s.P_():aa(n)&&n.j_.set("Unknown"))}function Ng(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(r).y_(e)}function CA(r,e){r.H_.Ne(e),Lo(r).w_(e)}function xg(r){r.H_=new jN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.j_.B_()}function Mg(r){return aa(r)&&!Lo(r).u_()&&r.K_.size>0}function aa(r){return we(r).W_.size===0}function DA(r){r.H_=void 0}async function Kx(r){r.j_.set("Online")}async function Qx(r){r.K_.forEach((e,n)=>{Ng(r,e)})}async function Yx(r,e){DA(r),Mg(r)?(r.j_.q_(e),xg(r)):r.j_.set("Unknown")}async function Xx(r,e,n){if(r.j_.set("Online"),e instanceof dA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.K_.delete(p),o.H_.removeTarget(p))}(r,e)}catch(s){he(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rf(r,s)}else if(e instanceof Nh?r.H_.We(e):e instanceof fA?r.H_.Ze(e):r.H_.je(e),!n.isEqual(be.min()))try{const s=await bA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.H_.ot(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const E=u.K_.get(m);if(!E)return;u.K_.set(m,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),CA(u,m);const A=new Qi(E.target,m,g,E.sequenceNumber);Ng(u,A)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){he(na,"Failed to raise snapshot:",s),await rf(r,s)}}async function rf(r,e,n){if(!ko(e))throw e;r.W_.add(1),await ku(r),r.j_.set("Offline"),n||(n=()=>bA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(na,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await If(r)})}function OA(r,e){return e().catch(n=>rf(r,n,e))}async function Cf(r){const e=we(r),n=is(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:gg;for(;Wx(e);)try{const o=await xx(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,Jx(e,o)}catch(o){await rf(e,o)}NA(e)&&xA(e)}function Wx(r){return aa(r)&&r.U_.length<10}function Jx(r,e){r.U_.push(e);const n=is(r);n.c_()&&n.S_&&n.b_(e.mutations)}function NA(r){return aa(r)&&!is(r).u_()&&r.U_.length>0}function xA(r){is(r).start()}async function Zx(r){is(r).C_()}async function eM(r){const e=is(r);for(const n of r.U_)e.b_(n.mutations)}async function tM(r,e,n){const s=r.U_.shift(),o=Ag.from(s,e,n);await OA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Cf(r)}async function nM(r,e){e&&is(r).S_&&await async function(s,o){if(function(f){return UN(f)&&f!==ne.ABORTED}(o.code)){const u=s.U_.shift();is(s).h_(),await OA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Cf(s)}}(r,e),NA(r)&&xA(r)}async function z0(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),he(na,"RemoteStore received new credentials");const s=aa(n);n.W_.add(3),await ku(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await If(n)}async function rM(r,e){const n=we(r);e?(n.W_.delete(2),await If(n)):e||(n.W_.add(2),await ku(n),n.j_.set("Unknown"))}function Lo(r){return r.J_||(r.J_=function(n,s,o){const u=we(n);return u.M_(),new Bx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:Kx.bind(null,r),No:Qx.bind(null,r),Lo:Yx.bind(null,r),p_:Xx.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Mg(r)?xg(r):r.j_.set("Unknown")):(await r.J_.stop(),DA(r))})),r.J_}function is(r){return r.Y_||(r.Y_=function(n,s,o){const u=we(n);return u.M_(),new qx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Zx.bind(null,r),Lo:nM.bind(null,r),D_:eM.bind(null,r),v_:tM.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Cf(r)):(await r.Y_.stop(),r.U_.length>0&&(he(na,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new Vg(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(r,e){if(ci("AsyncQueue",`${e}: ${r}`),ko(r))return new fe(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.Z_=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class So{constructor(e,n,s,o,u,f,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new So(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class sM{constructor(){this.queries=B0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=B0(),u.forEach((f,p)=>{for(const m of p.ta)m.onError(s)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function B0(){return new sa(r=>WS(r),Tf)}async function MA(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new iM,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Pg(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&kg(n)}async function VA(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function aM(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ta)p.oa(o)&&(s=!0);f.ea=o}}s&&kg(n)}function oM(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function kg(r){r.ia.forEach(e=>{e.next()})}var Um,q0;(q0=Um||(Um={}))._a="default",q0.Cache="cache";class PA{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class LA{constructor(e){this.key=e}}class lM{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=JS(e),this.wa=new ho(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new j0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const b=o.get(E),O=Sf(this.query,A)?A:null,M=!!b&&this.mutatedKeys.has(b.key),F=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let B=!1;b&&O?b.data.isEqual(O.data)?M!==F&&(s.track({type:3,doc:O}),B=!0):this.va(b,O)||(s.track({type:2,doc:O}),B=!0,(m&&this.ya(O,m)>0||g&&this.ya(O,g)<0)&&(p=!0)):!b&&O?(s.track({type:0,doc:O}),B=!0):b&&!O&&(s.track({type:1,doc:b}),B=!0,(m||g)&&(p=!0)),B&&(O?(f=f.add(O),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:p,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,A)=>function(O,M){const F=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return F(O)-F(M)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const p=n&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,f.length!==0||g?{snapshot:new So(this.query,e.wa,u,f,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new j0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new LA(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new kA(s))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return So.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Lg="SyncEngine";class uM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cM{constructor(e){this.key=e,this.Ba=!1}}class hM{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new sa(p=>WS(p),Tf),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ye.comparator),this.Ua=new Map,this.Ka=new Rg,this.Wa={},this.Ga=new Map,this.za=To.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fM(r,e,n=!0){const s=HA(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await UA(s,e,n,!0),o}async function dM(r,e){const n=HA(r);await UA(n,e,!0,!1)}async function UA(r,e,n,s){const o=await Mx(r.localStore,wr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await pM(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&IA(r.remoteStore,o),p}async function pM(r,e,n,s,o){r.Ha=(A,b,O)=>async function(F,B,K,re){let Q=B.view.ba(K);Q.ls&&(Q=await V0(F.localStore,B.query,!1).then(({documents:C})=>B.view.ba(C,Q)));const ue=re&&re.targetChanges.get(B.targetId),le=re&&re.targetMismatches.get(B.targetId)!=null,ce=B.view.applyChanges(Q,F.isPrimaryClient,ue,le);return F0(F,B.targetId,ce.Ma),ce.snapshot}(r,A,b,O);const u=await V0(r.localStore,e,!0),f=new lM(e,u.gs),p=f.ba(u.documents),m=Pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);F0(r,n,g.Ma);const E=new uM(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function mM(r,e,n){const s=we(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Tf(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await km(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Og(s.remoteStore,o.targetId),zm(s,o.targetId)}).catch(Po)):(zm(s,o.targetId),await km(s.localStore,o.targetId,!0))}async function gM(r,e){const n=we(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Og(n.remoteStore,s.targetId))}async function yM(r,e,n){const s=bM(r);try{const o=await function(f,p){const m=we(f),g=xt.now(),E=p.reduce((O,M)=>O.add(M.key),Le());let A,b;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=hi(),F=Le();return m.ds.getEntries(O,E).next(B=>{M=B,M.forEach((K,re)=>{re.isValidDocument()||(F=F.add(K))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,M)).next(B=>{A=B;const K=[];for(const re of p){const Q=MN(re,A.get(re.key).overlayedDocument);Q!=null&&K.push(new cs(re.key,Q,HS(Q.value.mapValue),Zn.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,K,p)}).next(B=>{b=B;const K=B.applyToLocalDocumentSet(A,F);return m.documentOverlayCache.saveOverlays(O,B.batchId,K)})}).then(()=>({batchId:b.batchId,changes:eA(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Wa[f.currentUser.toKey()];g||(g=new ht(xe)),g=g.insert(p,m),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Lu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=Pg(o,"Failed to persist write");n.reject(u)}}async function zA(r,e){const n=we(r);try{const s=await Ox(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await Lu(n,s,e)}catch(s){await Po(s)}}function H0(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const p=f.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=we(f);m.onlineState=p;let g=!1;m.queries.forEach((E,A)=>{for(const b of A.ta)b.sa(p)&&(g=!0)}),g&&kg(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _M(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ht(ye.comparator);f=f.insert(u,rn.newNoDocument(u,be.min()));const p=Le().add(u),m=new wf(be.min(),new Map,new ht(xe),f,p);await zA(s,m),s.$a=s.$a.remove(u),s.Ua.delete(e),Ug(s)}else await km(s.localStore,e,!1).then(()=>zm(s,e,n)).catch(Po)}async function vM(r,e){const n=we(r),s=e.batch.batchId;try{const o=await Dx(n.localStore,e);BA(n,s,null),jA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,o)}catch(o){await Po(o)}}async function EM(r,e,n){const s=we(r);try{const o=await function(f,p){const m=we(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(A=>(Ke(A!==null),E=A.keys(),m.mutationQueue.removeMutationBatch(g,A))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,e);BA(s,e,n),jA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lu(s,o)}catch(o){await Po(o)}}function jA(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function BA(r,e,n){const s=we(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||qA(r,s)})}function qA(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Og(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Ug(r))}function F0(r,e,n){for(const s of n)s instanceof kA?(r.Ka.addReference(s.key,e),TM(r,s)):s instanceof LA?(he(Lg,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||qA(r,s.key)):Ae()}function TM(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(he(Lg,"New document in limbo: "+n),r.Qa.add(s),Ug(r))}function Ug(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(it.fromString(e)),s=r.za.next();r.Ua.set(s,new cM(n)),r.$a=r.$a.insert(n,s),IA(r.remoteStore,new Qi(wr(Tg(n.path)),s,"TargetPurposeLimboResolution",_f.ae))}}async function Lu(r,e,n){const s=we(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((p,m)=>{f.push(s.Ha(m,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Cg.Yi(m.targetId,g);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(m,g){const E=we(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,b=>ee.forEach(b.Hi,O=>E.persistence.referenceDelegate.addReference(A,b.targetId,O)).next(()=>ee.forEach(b.Ji,O=>E.persistence.referenceDelegate.removeReference(A,b.targetId,O)))))}catch(A){if(!ko(A))throw A;he(Dg,"Failed to update sequence numbers: "+A)}for(const A of g){const b=A.targetId;if(!A.fromCache){const O=E.Ts.get(b),M=O.snapshotVersion,F=O.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(b,F)}}}(s.localStore,u))}async function SM(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){he(Lg,"User change. New user:",e.toKey());const s=await AA(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(p=>{p.forEach(m=>{m.reject(new fe(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Rs)}}function AM(r,e){const n=we(r),s=n.Ua.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=n.qa.get(e);if(!u)return o;for(const f of u){const p=n.ka.get(f);o=o.unionWith(p.view.Sa)}return o}}function HA(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_M.bind(null,e),e.La.p_=aM.bind(null,e.eventManager),e.La.Ja=oM.bind(null,e.eventManager),e}function bM(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EM.bind(null,e),e}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Cx(this.persistence,new wx,e.initialUser,this.serializer)}Xa(e){return new SA(Ig.ri,this.serializer)}Za(e){return new Px}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class wM extends sf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof nf);const s=this.persistence.referenceDelegate.garbageCollector;return new cx(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new SA(s=>nf.ri(s,n),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>H0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SM.bind(null,this.syncEngine),await rM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sM}()}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),s=function(u){return new jx(u)}(e.databaseInfo);return function(u,f,p,m){return new Fx(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new $x(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>H0(this.syncEngine,n,0),function(){return L0.D()?new L0:new kx}())}createSyncEngine(e,n){return function(o,u,f,p,m,g,E){const A=new hM(o,u,f,p,m,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);he(na,"RemoteStore shutting down."),u.W_.add(5),await ku(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class RM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=MS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function am(r,e){r.asyncQueue.verifyOperationInProgress(),he(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await AA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function G0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await IM(r);he(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>z0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>z0(e.remoteStore,o)),r._onlineComponents=e}async function IM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ss,"Using user provided OfflineComponentProvider");try{await am(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await am(r,new sf)}}else he(ss,"Using default OfflineComponentProvider"),await am(r,new wM(void 0));return r._offlineComponents}async function GA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ss,"Using user provided OnlineComponentProvider"),await G0(r,r._uninitializedComponentsProvider._online)):(he(ss,"Using default OnlineComponentProvider"),await G0(r,new jm))),r._onlineComponents}function CM(r){return GA(r).then(e=>e.syncEngine)}async function $A(r){const e=await GA(r),n=e.eventManager;return n.onListen=fM.bind(null,e.syncEngine),n.onUnlisten=mM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gM.bind(null,e.syncEngine),n}function DM(r,e,n={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new FA({next:b=>{E.su(),f.enqueueAndForget(()=>VA(u,A));const O=b.docs.has(p);!O&&b.fromCache?g.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&b.fromCache&&m&&m.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new PA(Tg(p.path),E,{includeMetadataChanges:!0,Ta:!0});return MA(u,A)}(await $A(r),r.asyncQueue,e,n,s)),s.promise}function OM(r,e,n={}){const s=new si;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new FA({next:b=>{E.su(),f.enqueueAndForget(()=>VA(u,A)),b.fromCache&&m.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new PA(p,E,{includeMetadataChanges:!0,Ta:!0});return MA(u,A)}(await $A(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function NM(r,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function K0(r){if(!ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Q0(r){if(ye.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Df(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae()}function Cr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(r);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore.googleapis.com",Y0=!0;class X0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=Y0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Y0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lx)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zO;switch(s.type){case"firstParty":return new HO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$0.get(n);s&&(he("ComponentProvider","Removing Datastore"),$0.delete(n),s.terminate())}(this),Promise.resolve()}}function xM(r,e,n,s={}){var o;const u=(r=Cr(r,Of))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u.host!==YA&&u.host!==p&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:!1,emulatorOptions:s});if(!oi(m,f)&&(r._setSettings(m),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=nn.MOCK_USER;else{g=W1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(A)}r._authCredentials=new jO(new NS(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Zi extends Uo{constructor(e,n,s){super(e,n,Tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ye(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Au(r,e,...n){if(r=qt(r),QA("collection","path",e),r instanceof Of){const s=it.fromString(e,...n);return Q0(s),new Zi(r,null,s)}{if(!(r instanceof cn||r instanceof Zi))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Q0(s),new Zi(r.firestore,null,s)}}function Uu(r,e,...n){if(r=qt(r),arguments.length===1&&(e=MS.newId()),QA("doc","path",e),r instanceof Of){const s=it.fromString(e,...n);return K0(s),new cn(r,null,new ye(s))}{if(!(r instanceof cn||r instanceof Zi))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return K0(s),new cn(r.firestore,r instanceof Zi?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new wA(this,"async_queue_retry"),this.Su=()=>{const s=sm();s&&he(W0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new si;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ko(e))throw e;he(W0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(s);throw ci("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Vg.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class zo extends Of{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new J0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function MM(r,e){const n=typeof r=="object"?r:qT(),s=typeof r=="string"?r:Yh,o=sg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Y1("firestore");u&&xM(o,...u)}return o}function zg(r){if(r._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VM(r),r._firestoreClient}function VM(r){var e,n,s;const o=r._freezeSettings(),u=function(p,m,g,E){return new iN(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,KA(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new RM(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(Xt.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ao(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=/^__.*__$/;class kM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class XA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class xf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return af(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WA(this.Lu)&&PM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class LM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Rf(e)}ju(e,n,s,o=!1){return new xf({Lu:e,methodName:n,zu:s,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(r){const e=r._freezeSettings(),n=Rf(r._databaseId);return new LM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function JA(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Fg("Data must be an object, but it was:",f,s);const p=eb(s,f);let m,g;if(u.merge)m=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const b=Bm(e,A,n);if(!f.contains(b))throw new fe(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nb(E,b)||E.push(b)}m=new Cn(E),g=f.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,g=f.fieldTransforms;return new kM(new gn(p),m,g)}class Vf extends zu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function ZA(r,e,n){return new xf({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qg extends zu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=ZA(this,e,!0),s=this.Hu.map(u=>oa(u,n)),o=new vo(s);return new oA(e.path,o)}isEqual(e){return e instanceof qg&&oi(this.Hu,e.Hu)}}class Hg extends zu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=ZA(this,e,!0),s=this.Hu.map(u=>oa(u,n)),o=new Eo(s);return new oA(e.path,o)}isEqual(e){return e instanceof Hg&&oi(this.Hu,e.Hu)}}function UM(r,e,n,s){const o=r.ju(1,e,n);Fg("Data must be an object, but it was:",o,s);const u=[],f=gn.empty();us(s,(m,g)=>{const E=Gg(e,m,n);g=qt(g);const A=o.Uu(E);if(g instanceof Vf)u.push(E);else{const b=oa(g,A);b!=null&&(u.push(E),f.set(E,b))}});const p=new Cn(u);return new XA(f,p,o.fieldTransforms)}function zM(r,e,n,s,o,u){const f=r.ju(1,e,n),p=[Bm(e,s,n)],m=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)p.push(Bm(e,u[b])),m.push(u[b+1]);const g=[],E=gn.empty();for(let b=p.length-1;b>=0;--b)if(!nb(g,p[b])){const O=p[b];let M=m[b];M=qt(M);const F=f.Uu(O);if(M instanceof Vf)g.push(O);else{const B=oa(M,F);B!=null&&(g.push(O),E.set(O,B))}}const A=new Cn(g);return new XA(E,A,f.fieldTransforms)}function jM(r,e,n,s=!1){return oa(n,r.ju(s?4:3,e))}function oa(r,e){if(tb(r=qt(r)))return Fg("Unsupported field value:",e,r),eb(r,e);if(r instanceof zu)return function(s,o){if(!WA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=oa(p,o.Ku(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:tf(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tf(o.serializer,u)}}if(s instanceof jg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ao)return{bytesValue:pA(o.serializer,s._byteString)};if(s instanceof cn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bg)return function(f,p){return{mapValue:{fields:{[BS]:{stringValue:qS},[Xh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Wu("VectorValues must only contain numeric values.");return Sg(p.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Df(s)}`)}(r,e)}function eb(r,e){const n={};return PS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(r,(s,o)=>{const u=oa(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function tb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xt||r instanceof jg||r instanceof Ao||r instanceof cn||r instanceof zu||r instanceof Bg)}function Fg(r,e,n){if(!tb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Df(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Bm(r,e,n){if((e=qt(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return Gg(r,e);throw af("Field path arguments must be of type string or ",r,!1,void 0,n)}const BM=new RegExp("[~\\*/\\[\\]]");function Gg(r,e,n){if(e.search(BM)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Nf(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function af(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new fe(ne.INVALID_ARGUMENT,p+r+m)}function nb(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qM extends rb{data(){return super.data()}}function $g(r,e){return typeof e=="string"?Gg(r,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class FM extends Kg{}function GM(r,e,...n){let s=[];e instanceof Kg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof Qg).length,p=u.filter(m=>m instanceof Pf).length;if(f>1||f>0&&p>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Pf extends FM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pf(e,n,s)}_apply(e){const n=this._parse(e);return ib(e._query,n),new Uo(e.firestore,e.converter,Om(e._query,n))}_parse(e){const n=Mf(e.firestore);return function(u,f,p,m,g,E,A){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eT(A,E);const M=[];for(const F of A)M.push(Z0(m,u,F));b={arrayValue:{values:M}}}else b=Z0(m,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eT(A,E),b=jM(p,f,A,E==="in"||E==="not-in");return wt.create(g,E,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $M(r,e,n){const s=e,o=$g("where",r);return Pf._create(o,s,n)}class Qg extends Kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)ib(f,m),f=Om(f,m)}(e._query,n),new Uo(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z0(r,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XS(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return m0(r,new ye(s))}if(n instanceof cn)return m0(r,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function eT(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ib(r,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KM{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return us(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Xh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new Bg(u)}convertGeoPoint(e){return new jg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const n=ts(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(EA(s));const o=new Tu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ab extends rb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($g("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class xh extends ab{data(e={}){return super.data(e)}}class QM{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ou(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new ou(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:YM(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(r){r=Cr(r,cn);const e=Cr(r.firestore,zo);return DM(zg(e),r._key).then(n=>JM(e,r,n))}class ob extends KM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function of(r){r=Cr(r,Uo);const e=Cr(r.firestore,zo),n=zg(e),s=new ob(e);return HM(r._query),OM(n,r._query).then(o=>new QM(e,s,r,o))}function WM(r,e,n){r=Cr(r,cn);const s=Cr(r.firestore,zo),o=sb(r.converter,e);return Yg(s,[JA(Mf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function lb(r,e,n,...s){r=Cr(r,cn);const o=Cr(r.firestore,zo),u=Mf(o);let f;return f=typeof(e=qt(e))=="string"||e instanceof Nf?zM(u,"updateDoc",r._key,e,n,s):UM(u,"updateDoc",r._key,e),Yg(o,[f.toMutation(r._key,Zn.exists(!0))])}function ub(r,e){const n=Cr(r.firestore,zo),s=Uu(r),o=sb(r.converter,e);return Yg(n,[JA(Mf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function Yg(r,e){return function(s,o){const u=new si;return s.asyncQueue.enqueueAndForget(async()=>yM(await CM(s),o,u)),u.promise}(zg(r),e)}function JM(r,e,n){const s=n.docs.get(e._key),o=new ob(r);return new ab(r,o,e._key,s,new ou(n.hasPendingWrites,n.fromCache),e.converter)}function ZM(...r){return new qg("arrayUnion",r)}function e2(...r){return new Hg("arrayRemove",r)}(function(e,n=!0){(function(o){Vo=o})(xo),po(new Js("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new zo(new BO(s.getProvider("auth-internal")),new FO(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),Wi(r0,i0,e),Wi(r0,i0,"esm2017")})();const t2={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},cb=BT(t2),_h=PO(cb),fi=MM(cb),hb=G.createContext(),jo=()=>G.useContext(hb),n2=({children:r})=>{const[e,n]=G.useState(null),[s,o]=G.useState(!0),u=(g,E)=>vD(_h,g,E),f=(g,E)=>ED(_h,g,E),p=()=>bD(_h);G.useEffect(()=>AD(_h,E=>{n(E),o(!1)}),[]);const m={currentUser:e,register:u,login:f,logout:p};return J.jsx(hb.Provider,{value:m,children:!s&&r})};var rt="-ms-",pu="-moz-",$e="-webkit-",fb="comm",kf="rule",Xg="decl",r2="@import",db="@keyframes",i2="@layer",pb=Math.abs,Wg=String.fromCharCode,qm=Object.assign;function s2(r,e){return Bt(r,0)^45?(((e<<2^Bt(r,0))<<2^Bt(r,1))<<2^Bt(r,2))<<2^Bt(r,3):0}function mb(r){return r.trim()}function ei(r,e){return(r=e.exec(r))?r[0]:r}function De(r,e,n){return r.replace(e,n)}function Mh(r,e,n){return r.indexOf(e,n)}function Bt(r,e){return r.charCodeAt(e)|0}function bo(r,e,n){return r.slice(e,n)}function Sr(r){return r.length}function gb(r){return r.length}function lu(r,e){return e.push(r),r}function a2(r,e){return r.map(e).join("")}function tT(r,e){return r.filter(function(n){return!ei(n,e)})}var Lf=1,wo=1,yb=0,Gn=0,bt=0,Bo="";function Uf(r,e,n,s,o,u,f,p){return{value:r,root:e,parent:n,type:s,props:o,children:u,line:Lf,column:wo,length:f,return:"",siblings:p}}function Hi(r,e){return qm(Uf("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},e)}function eo(r){for(;r.root;)r=Hi(r.root,{children:[r]});lu(r,r.siblings)}function o2(){return bt}function l2(){return bt=Gn>0?Bt(Bo,--Gn):0,wo--,bt===10&&(wo=1,Lf--),bt}function er(){return bt=Gn<yb?Bt(Bo,Gn++):0,wo++,bt===10&&(wo=1,Lf++),bt}function Xs(){return Bt(Bo,Gn)}function Vh(){return Gn}function zf(r,e){return bo(Bo,r,e)}function Hm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function u2(r){return Lf=wo=1,yb=Sr(Bo=r),Gn=0,[]}function c2(r){return Bo="",r}function om(r){return mb(zf(Gn-1,Fm(r===91?r+2:r===40?r+1:r)))}function h2(r){for(;(bt=Xs())&&bt<33;)er();return Hm(r)>2||Hm(bt)>3?"":" "}function f2(r,e){for(;--e&&er()&&!(bt<48||bt>102||bt>57&&bt<65||bt>70&&bt<97););return zf(r,Vh()+(e<6&&Xs()==32&&er()==32))}function Fm(r){for(;er();)switch(bt){case r:return Gn;case 34:case 39:r!==34&&r!==39&&Fm(bt);break;case 40:r===41&&Fm(r);break;case 92:er();break}return Gn}function d2(r,e){for(;er()&&r+bt!==57;)if(r+bt===84&&Xs()===47)break;return"/*"+zf(e,Gn-1)+"*"+Wg(r===47?r:er())}function p2(r){for(;!Hm(Xs());)er();return zf(r,Gn)}function m2(r){return c2(Ph("",null,null,null,[""],r=u2(r),0,[0],r))}function Ph(r,e,n,s,o,u,f,p,m){for(var g=0,E=0,A=f,b=0,O=0,M=0,F=1,B=1,K=1,re=0,Q="",ue=o,le=u,ce=s,C=Q;B;)switch(M=re,re=er()){case 40:if(M!=108&&Bt(C,A-1)==58){Mh(C+=De(om(re),"&","&\f"),"&\f",pb(g?p[g-1]:0))!=-1&&(K=-1);break}case 34:case 39:case 91:C+=om(re);break;case 9:case 10:case 13:case 32:C+=h2(M);break;case 92:C+=f2(Vh()-1,7);continue;case 47:switch(Xs()){case 42:case 47:lu(g2(d2(er(),Vh()),e,n,m),m);break;default:C+="/"}break;case 123*F:p[g++]=Sr(C)*K;case 125*F:case 59:case 0:switch(re){case 0:case 125:B=0;case 59+E:K==-1&&(C=De(C,/\f/g,"")),O>0&&Sr(C)-A&&lu(O>32?rT(C+";",s,n,A-1,m):rT(De(C," ","")+";",s,n,A-2,m),m);break;case 59:C+=";";default:if(lu(ce=nT(C,e,n,g,E,o,p,Q,ue=[],le=[],A,u),u),re===123)if(E===0)Ph(C,e,ce,ce,ue,u,A,p,le);else switch(b===99&&Bt(C,3)===110?100:b){case 100:case 108:case 109:case 115:Ph(r,ce,ce,s&&lu(nT(r,ce,ce,0,0,o,p,Q,o,ue=[],A,le),le),o,le,A,p,s?ue:le);break;default:Ph(C,ce,ce,ce,[""],le,0,p,le)}}g=E=O=0,F=K=1,Q=C="",A=f;break;case 58:A=1+Sr(C),O=M;default:if(F<1){if(re==123)--F;else if(re==125&&F++==0&&l2()==125)continue}switch(C+=Wg(re),re*F){case 38:K=E>0?1:(C+="\f",-1);break;case 44:p[g++]=(Sr(C)-1)*K,K=1;break;case 64:Xs()===45&&(C+=om(er())),b=Xs(),E=A=Sr(Q=C+=p2(Vh())),re++;break;case 45:M===45&&Sr(C)==2&&(F=0)}}return u}function nT(r,e,n,s,o,u,f,p,m,g,E,A){for(var b=o-1,O=o===0?u:[""],M=gb(O),F=0,B=0,K=0;F<s;++F)for(var re=0,Q=bo(r,b+1,b=pb(B=f[F])),ue=r;re<M;++re)(ue=mb(B>0?O[re]+" "+Q:De(Q,/&\f/g,O[re])))&&(m[K++]=ue);return Uf(r,e,n,o===0?kf:p,m,g,E,A)}function g2(r,e,n,s){return Uf(r,e,n,fb,Wg(o2()),bo(r,2,-2),0,s)}function rT(r,e,n,s,o){return Uf(r,e,n,Xg,bo(r,0,s),bo(r,s+1,-1),s,o)}function _b(r,e,n){switch(s2(r,e)){case 5103:return $e+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $e+r+r;case 4789:return pu+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $e+r+pu+r+rt+r+r;case 5936:switch(Bt(r,e+11)){case 114:return $e+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $e+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $e+r+rt+De(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $e+r+rt+r+r;case 6165:return $e+r+rt+"flex-"+r+r;case 5187:return $e+r+De(r,/(\w+).+(:[^]+)/,$e+"box-$1$2"+rt+"flex-$1$2")+r;case 5443:return $e+r+rt+"flex-item-"+De(r,/flex-|-self/g,"")+(ei(r,/flex-|baseline/)?"":rt+"grid-row-"+De(r,/flex-|-self/g,""))+r;case 4675:return $e+r+rt+"flex-line-pack"+De(r,/align-content|flex-|-self/g,"")+r;case 5548:return $e+r+rt+De(r,"shrink","negative")+r;case 5292:return $e+r+rt+De(r,"basis","preferred-size")+r;case 6060:return $e+"box-"+De(r,"-grow","")+$e+r+rt+De(r,"grow","positive")+r;case 4554:return $e+De(r,/([^-])(transform)/g,"$1"+$e+"$2")+r;case 6187:return De(De(De(r,/(zoom-|grab)/,$e+"$1"),/(image-set)/,$e+"$1"),r,"")+r;case 5495:case 3959:return De(r,/(image-set\([^]*)/,$e+"$1$`$1");case 4968:return De(De(r,/(.+:)(flex-)?(.*)/,$e+"box-pack:$3"+rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$e+r+r;case 4200:if(!ei(r,/flex-|baseline/))return rt+"grid-column-align"+bo(r,e)+r;break;case 2592:case 3360:return rt+De(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return e=o,ei(s.props,/grid-\w+-end/)})?~Mh(r+(n=n[e].value),"span",0)?r:rt+De(r,"-start","")+r+rt+"grid-row-span:"+(~Mh(n,"span",0)?ei(n,/\d+/):+ei(n,/\d+/)-+ei(r,/\d+/))+";":rt+De(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return ei(s.props,/grid-\w+-start/)})?r:rt+De(De(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return De(r,/(.+)-inline(.+)/,$e+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sr(r)-1-e>6)switch(Bt(r,e+1)){case 109:if(Bt(r,e+4)!==45)break;case 102:return De(r,/(.+:)(.+)-([^]+)/,"$1"+$e+"$2-$3$1"+pu+(Bt(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~Mh(r,"stretch",0)?_b(De(r,"stretch","fill-available"),e,n)+r:r}break;case 5152:case 5920:return De(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return rt+o+":"+u+g+(f?rt+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(Bt(r,e+6)===121)return De(r,":",":"+$e)+r;break;case 6444:switch(Bt(r,Bt(r,14)===45?18:11)){case 120:return De(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$e+(Bt(r,14)===45?"inline-":"")+"box$3$1"+$e+"$2$3$1"+rt+"$2box$3")+r;case 100:return De(r,":",":"+rt)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return De(r,"scroll-","scroll-snap-")+r}return r}function lf(r,e){for(var n="",s=0;s<r.length;s++)n+=e(r[s],s,r,e)||"";return n}function y2(r,e,n,s){switch(r.type){case i2:if(r.children.length)break;case r2:case Xg:return r.return=r.return||r.value;case fb:return"";case db:return r.return=r.value+"{"+lf(r.children,s)+"}";case kf:if(!Sr(r.value=r.props.join(",")))return""}return Sr(n=lf(r.children,s))?r.return=r.value+"{"+n+"}":""}function _2(r){var e=gb(r);return function(n,s,o,u){for(var f="",p=0;p<e;p++)f+=r[p](n,s,o,u)||"";return f}}function v2(r){return function(e){e.root||(e=e.return)&&r(e)}}function E2(r,e,n,s){if(r.length>-1&&!r.return)switch(r.type){case Xg:r.return=_b(r.value,r.length,n);return;case db:return lf([Hi(r,{value:De(r.value,"@","@"+$e)})],s);case kf:if(r.length)return a2(n=r.props,function(o){switch(ei(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":eo(Hi(r,{props:[De(o,/:(read-\w+)/,":"+pu+"$1")]})),eo(Hi(r,{props:[o]})),qm(r,{props:tT(n,s)});break;case"::placeholder":eo(Hi(r,{props:[De(o,/:(plac\w+)/,":"+$e+"input-$1")]})),eo(Hi(r,{props:[De(o,/:(plac\w+)/,":"+pu+"$1")]})),eo(Hi(r,{props:[De(o,/:(plac\w+)/,rt+"input-$1")]})),eo(Hi(r,{props:[o]})),qm(r,{props:tT(n,s)});break}return""})}}var T2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},In={},Ro=typeof process<"u"&&In!==void 0&&(In.REACT_APP_SC_ATTR||In.SC_ATTR)||"data-styled",vb="active",Eb="data-styled-version",jf="6.1.17",Jg=`/*!sc*/
`,uf=typeof window<"u"&&"HTMLElement"in window,S2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&In.REACT_APP_SC_DISABLE_SPEEDY!==""?In.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&In.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&In!==void 0&&In.SC_DISABLE_SPEEDY!==void 0&&In.SC_DISABLE_SPEEDY!==""&&In.SC_DISABLE_SPEEDY!=="false"&&In.SC_DISABLE_SPEEDY),Bf=Object.freeze([]),Io=Object.freeze({});function A2(r,e,n){return n===void 0&&(n=Io),r.theme!==n.theme&&r.theme||e||n.theme}var Tb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),b2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,w2=/(^-|-$)/g;function iT(r){return r.replace(b2,"-").replace(w2,"")}var R2=/(a)(d)/gi,vh=52,sT=function(r){return String.fromCharCode(r+(r>25?39:97))};function Gm(r){var e,n="";for(e=Math.abs(r);e>vh;e=e/vh|0)n=sT(e%vh)+n;return(sT(e%vh)+n).replace(R2,"$1-$2")}var lm,Sb=5381,oo=function(r,e){for(var n=e.length;n;)r=33*r^e.charCodeAt(--n);return r},Ab=function(r){return oo(Sb,r)};function I2(r){return Gm(Ab(r)>>>0)}function C2(r){return r.displayName||r.name||"Component"}function um(r){return typeof r=="string"&&!0}var bb=typeof Symbol=="function"&&Symbol.for,wb=bb?Symbol.for("react.memo"):60115,D2=bb?Symbol.for("react.forward_ref"):60112,O2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},N2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Rb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},x2=((lm={})[D2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lm[wb]=Rb,lm);function aT(r){return("type"in(e=r)&&e.type.$$typeof)===wb?Rb:"$$typeof"in r?x2[r.$$typeof]:O2;var e}var M2=Object.defineProperty,V2=Object.getOwnPropertyNames,oT=Object.getOwnPropertySymbols,P2=Object.getOwnPropertyDescriptor,k2=Object.getPrototypeOf,lT=Object.prototype;function Ib(r,e,n){if(typeof e!="string"){if(lT){var s=k2(e);s&&s!==lT&&Ib(r,s,n)}var o=V2(e);oT&&(o=o.concat(oT(e)));for(var u=aT(r),f=aT(e),p=0;p<o.length;++p){var m=o[p];if(!(m in N2||n&&n[m]||f&&m in f||u&&m in u)){var g=P2(e,m);try{M2(r,m,g)}catch{}}}}return r}function Co(r){return typeof r=="function"}function Zg(r){return typeof r=="object"&&"styledComponentId"in r}function Ys(r,e){return r&&e?"".concat(r," ").concat(e):r||e||""}function uT(r,e){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function bu(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function $m(r,e,n){if(n===void 0&&(n=!1),!n&&!bu(r)&&!Array.isArray(r))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)r[s]=$m(r[s],e[s]);else if(bu(e))for(var s in e)r[s]=$m(r[s],e[s]);return r}function ey(r,e){Object.defineProperty(r,"toString",{value:e})}function ju(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var L2=function(){function r(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return r.prototype.indexOfGroup=function(e){for(var n=0,s=0;s<e;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;e>=u;)if((u<<=1)<0)throw ju(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(e+1),m=(f=0,n.length);f<m;f++)this.tag.insertRule(p,n[f])&&(this.groupSizes[e]++,p++)},r.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],s=this.indexOfGroup(e),o=s+n;this.groupSizes[e]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(Jg);return n},r}(),kh=new Map,cf=new Map,Lh=1,Eh=function(r){if(kh.has(r))return kh.get(r);for(;cf.has(Lh);)Lh++;var e=Lh++;return kh.set(r,e),cf.set(e,r),e},U2=function(r,e){Lh=e+1,kh.set(r,e),cf.set(e,r)},z2="style[".concat(Ro,"][").concat(Eb,'="').concat(jf,'"]'),j2=new RegExp("^".concat(Ro,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),B2=function(r,e,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(e,s)},q2=function(r,e){for(var n,s=((n=e.textContent)!==null&&n!==void 0?n:"").split(Jg),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(j2);if(m){var g=0|parseInt(m[1],10),E=m[2];g!==0&&(U2(E,g),B2(r,E,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},cT=function(r){for(var e=document.querySelectorAll(z2),n=0,s=e.length;n<s;n++){var o=e[n];o&&o.getAttribute(Ro)!==vb&&(q2(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function H2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Cb=function(r){var e=document.head,n=r||e,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(Ro,"]")));return m[m.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(Ro,vb),s.setAttribute(Eb,jf);var f=H2();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},F2=function(){function r(e){this.element=Cb(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw ju(17)}(this.element),this.length=0}return r.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},r.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},r}(),G2=function(){function r(e){this.element=Cb(e),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},r.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},r}(),$2=function(){function r(e){this.rules=[],this.length=0}return r.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},r.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},r.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},r}(),hT=uf,K2={isServer:!uf,useCSSOMInjection:!S2},Db=function(){function r(e,n,s){e===void 0&&(e=Io),n===void 0&&(n={});var o=this;this.options=yn(yn({},K2),e),this.gs=n,this.names=new Map(s),this.server=!!e.isServer,!this.server&&uf&&hT&&(hT=!1,cT(this)),ey(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(A){var b=function(K){return cf.get(K)}(A);if(b===void 0)return"continue";var O=u.names.get(b),M=f.getGroup(A);if(O===void 0||!O.size||M.length===0)return"continue";var F="".concat(Ro,".g").concat(A,'[id="').concat(b,'"]'),B="";O!==void 0&&O.forEach(function(K){K.length>0&&(B+="".concat(K,","))}),m+="".concat(M).concat(F,'{content:"').concat(B,'"}').concat(Jg)},E=0;E<p;E++)g(E);return m}(o)})}return r.registerId=function(e){return Eh(e)},r.prototype.rehydrate=function(){!this.server&&uf&&cT(this)},r.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new r(yn(yn({},this.options),e),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new $2(o):s?new F2(o):new G2(o)}(this.options),new L2(e)));var e},r.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},r.prototype.registerName=function(e,n){if(Eh(e),this.names.has(e))this.names.get(e).add(n);else{var s=new Set;s.add(n),this.names.set(e,s)}},r.prototype.insertRules=function(e,n,s){this.registerName(e,n),this.getTag().insertRules(Eh(e),s)},r.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},r.prototype.clearRules=function(e){this.getTag().clearGroup(Eh(e)),this.clearNames(e)},r.prototype.clearTag=function(){this.tag=void 0},r}(),Q2=/&/g,Y2=/^\s*\/\/.*$/gm;function Ob(r,e){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Ob(n.children,e)),n})}function X2(r){var e,n,s,o=Io,u=o.options,f=u===void 0?Io:u,p=o.plugins,m=p===void 0?Bf:p,g=function(b,O,M){return M.startsWith(n)&&M.endsWith(n)&&M.replaceAll(n,"").length>0?".".concat(e):b},E=m.slice();E.push(function(b){b.type===kf&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(Q2,n).replace(s,g))}),f.prefix&&E.push(E2),E.push(y2);var A=function(b,O,M,F){O===void 0&&(O=""),M===void 0&&(M=""),F===void 0&&(F="&"),e=F,n=O,s=new RegExp("\\".concat(n,"\\b"),"g");var B=b.replace(Y2,""),K=m2(M||O?"".concat(M," ").concat(O," { ").concat(B," }"):B);f.namespace&&(K=Ob(K,f.namespace));var re=[];return lf(K,_2(E.concat(v2(function(Q){return re.push(Q)})))),re};return A.hash=m.length?m.reduce(function(b,O){return O.name||ju(15),oo(b,O.name)},Sb).toString():"",A}var W2=new Db,Km=X2(),Nb=fo.createContext({shouldForwardProp:void 0,styleSheet:W2,stylis:Km});Nb.Consumer;fo.createContext(void 0);function fT(){return G.useContext(Nb)}var J2=function(){function r(e,n){var s=this;this.inject=function(o,u){u===void 0&&(u=Km);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,ey(this,function(){throw ju(12,String(s.name))})}return r.prototype.getName=function(e){return e===void 0&&(e=Km),this.name+e.hash},r}(),Z2=function(r){return r>="A"&&r<="Z"};function dT(r){for(var e="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;Z2(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var xb=function(r){return r==null||r===!1||r===""},Mb=function(r){var e,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!xb(u)&&(Array.isArray(u)&&u.isCss||Co(u)?s.push("".concat(dT(o),":"),u,";"):bu(u)?s.push.apply(s,Bh(Bh(["".concat(o," {")],Mb(u),!1),["}"],!1)):s.push("".concat(dT(o),": ").concat((e=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in T2||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function Ws(r,e,n,s){if(xb(r))return[];if(Zg(r))return[".".concat(r.styledComponentId)];if(Co(r)){if(!Co(u=r)||u.prototype&&u.prototype.isReactComponent||!e)return[r];var o=r(e);return Ws(o,e,n,s)}var u;return r instanceof J2?n?(r.inject(n,s),[r.getName(s)]):[r]:bu(r)?Mb(r):Array.isArray(r)?Array.prototype.concat.apply(Bf,r.map(function(f){return Ws(f,e,n,s)})):[r.toString()]}function eV(r){for(var e=0;e<r.length;e+=1){var n=r[e];if(Co(n)&&!Zg(n))return!1}return!0}var tV=Ab(jf),nV=function(){function r(e,n,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&eV(e),this.componentId=n,this.baseHash=oo(tV,n),this.baseStyle=s,Db.registerId(n)}return r.prototype.generateAndInjectStyles=function(e,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Ys(o,this.staticRulesId);else{var u=uT(Ws(this.rules,e,n,s)),f=Gm(oo(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}o=Ys(o,f),this.staticRulesId=f}else{for(var m=oo(this.baseHash,s.hash),g="",E=0;E<this.rules.length;E++){var A=this.rules[E];if(typeof A=="string")g+=A;else if(A){var b=uT(Ws(A,e,n,s));m=oo(m,b+E),g+=b}}if(g){var O=Gm(m>>>0);n.hasNameForId(this.componentId,O)||n.insertRules(this.componentId,O,s(g,".".concat(O),void 0,this.componentId)),o=Ys(o,O)}}return o},r}(),Vb=fo.createContext(void 0);Vb.Consumer;var cm={};function rV(r,e,n){var s=Zg(r),o=r,u=!um(r),f=e.attrs,p=f===void 0?Bf:f,m=e.componentId,g=m===void 0?function(ue,le){var ce=typeof ue!="string"?"sc":iT(ue);cm[ce]=(cm[ce]||0)+1;var C="".concat(ce,"-").concat(I2(jf+ce+cm[ce]));return le?"".concat(le,"-").concat(C):C}(e.displayName,e.parentComponentId):m,E=e.displayName,A=E===void 0?function(ue){return um(ue)?"styled.".concat(ue):"Styled(".concat(C2(ue),")")}(r):E,b=e.displayName&&e.componentId?"".concat(iT(e.displayName),"-").concat(e.componentId):e.componentId||g,O=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,M=e.shouldForwardProp;if(s&&o.shouldForwardProp){var F=o.shouldForwardProp;if(e.shouldForwardProp){var B=e.shouldForwardProp;M=function(ue,le){return F(ue,le)&&B(ue,le)}}else M=F}var K=new nV(n,b,s?o.componentStyle:void 0);function re(ue,le){return function(ce,C,w){var R=ce.attrs,x=ce.componentStyle,P=ce.defaultProps,L=ce.foldedComponentIds,D=ce.styledComponentId,Rt=ce.target,st=fo.useContext(Vb),Y=fT(),oe=ce.shouldForwardProp||Y.shouldForwardProp,pe=A2(C,st,P)||Io,Ie=function(Re,_e,ut){for(var qe,Vt=yn(yn({},_e),{className:void 0,theme:ut}),Dn=0;Dn<Re.length;Dn+=1){var hn=Co(qe=Re[Dn])?qe(Vt):qe;for(var Wt in hn)Vt[Wt]=Wt==="className"?Ys(Vt[Wt],hn[Wt]):Wt==="style"?yn(yn({},Vt[Wt]),hn[Wt]):hn[Wt]}return _e.className&&(Vt.className=Ys(Vt.className,_e.className)),Vt}(R,C,pe),N=Ie.as||Rt,te={};for(var se in Ie)Ie[se]===void 0||se[0]==="$"||se==="as"||se==="theme"&&Ie.theme===pe||(se==="forwardedAs"?te.as=Ie.forwardedAs:oe&&!oe(se,N)||(te[se]=Ie[se]));var ie=function(Re,_e){var ut=fT(),qe=Re.generateAndInjectStyles(_e,ut.styleSheet,ut.stylis);return qe}(x,Ie),me=Ys(L,D);return ie&&(me+=" "+ie),Ie.className&&(me+=" "+Ie.className),te[um(N)&&!Tb.has(N)?"class":"className"]=me,w&&(te.ref=w),G.createElement(N,te)}(Q,ue,le)}re.displayName=A;var Q=fo.forwardRef(re);return Q.attrs=O,Q.componentStyle=K,Q.displayName=A,Q.shouldForwardProp=M,Q.foldedComponentIds=s?Ys(o.foldedComponentIds,o.styledComponentId):"",Q.styledComponentId=b,Q.target=s?o.target:r,Object.defineProperty(Q,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ue){this._foldedDefaultProps=s?function(le){for(var ce=[],C=1;C<arguments.length;C++)ce[C-1]=arguments[C];for(var w=0,R=ce;w<R.length;w++)$m(le,R[w],!0);return le}({},o.defaultProps,ue):ue}}),ey(Q,function(){return".".concat(Q.styledComponentId)}),u&&Ib(Q,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Q}function pT(r,e){for(var n=[r[0]],s=0,o=e.length;s<o;s+=1)n.push(e[s],r[s+1]);return n}var mT=function(r){return Object.assign(r,{isCss:!0})};function iV(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Co(r)||bu(r))return mT(Ws(pT(Bf,Bh([r],e,!0))));var s=r;return e.length===0&&s.length===1&&typeof s[0]=="string"?Ws(s):mT(Ws(pT(s,e)))}function Qm(r,e,n){if(n===void 0&&(n=Io),!e)throw ju(1,e);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(e,n,iV.apply(void 0,Bh([o],u,!1)))};return s.attrs=function(o){return Qm(r,e,yn(yn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Qm(r,e,yn(yn({},n),o))},s}var Pb=function(r){return Qm(rV,r)},Oe=Pb;Tb.forEach(function(r){Oe[r]=Pb(r)});const sV=Oe.header`
  background-color: #2b5a1d;
  color: white;
  padding: 1rem;
  text-align: center;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  font-weight: bold; /* Make text bold */
`,aV=()=>J.jsxs(sV,{children:[J.jsx("h1",{children:"FirstJob"}),J.jsx("p",{children:"Find your first job - No experience required"})]}),oV=Oe.footer`
  background-color: var(--dark);
  color: white;
  text-align: center;
  padding: 2rem;
  margin-top: 2rem;
`,lV=()=>J.jsxs(oV,{children:[J.jsx("p",{children:" 2025 FirstJob - Helping beginners start their careers"}),J.jsx("p",{children:"Contact: info@firstjob.example.com"})]}),uV=Oe.nav`
  background-color: white;
  padding: 1rem;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,cV=Oe.ul`
  display: flex;
  justify-content: space-between;
  align-items: center;
  list-style: none;
  padding: 0;
  margin: 0;
`,hV=Oe.div`
  display: flex;
  gap: 1.5rem;
`,fV=Oe.div`
  display: flex;
  gap: 1rem;
`,eu=Oe.li`
  padding: 0;
`,tu=Oe(df)`
  text-decoration: none;
  color: var(--text-primary);
  font-weight: 500;
  transition: color 0.2s;

  &:hover {
    color: var(--primary);
  }
`,dV=()=>{const{currentUser:r}=jo();return J.jsx(uV,{children:J.jsxs(cV,{children:[J.jsxs(hV,{children:[J.jsx(eu,{children:J.jsx(tu,{to:"/",children:"Home"})}),J.jsx(eu,{children:J.jsx(tu,{to:"/interview/customer-service",children:"Practice Interviews"})})]}),J.jsx(fV,{children:r?J.jsx(eu,{children:J.jsx(tu,{to:"/profile",children:"My Profile"})}):J.jsxs(J.Fragment,{children:[J.jsx(eu,{children:J.jsx(tu,{to:"/login",children:"Login"})}),J.jsx(eu,{children:J.jsx(tu,{to:"/register",children:"Register"})})]})})]})})},pV=async()=>{try{const r=await of(Au(fi,"jobs"));if(r.empty){await mV();const n=await of(Au(fi,"jobs")),s=[];return n.forEach(o=>{s.push({id:o.id,...o.data()})}),s}const e=[];return r.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(r){return console.error("Error getting jobs:",r),[]}},mV=async()=>{const r=Au(fi,"jobs"),e=[{title:"Customer Service Representative",company:"ServiceFirst Inc.",jobType:"customer-service",description:"Entry-level position helping customers with inquiries and resolving issues.",tags:["Entry Level","No Experience Required","Customer Service"],location:"Remote"},{title:"Junior Web Developer",company:"TechStart Solutions",jobType:"web-developer",description:"Learn and grow as a web developer in a supportive team environment.",tags:["Entry Level","Web Development","HTML/CSS/JS"],location:"San Francisco, CA"},{title:"Sales Associate",company:"RetailPlus",jobType:"sales",description:"Help customers find products that meet their needs while learning sales techniques.",tags:["Entry Level","Retail","Sales"],location:"Various Locations"},{title:"Administrative Assistant",company:"OfficeWorks Corp",jobType:"admin",description:"Support office operations and learn essential administrative skills.",tags:["Entry Level","Office Work","Organization"],location:"Chicago, IL"}];for(const n of e)await ub(r,n);console.log("Sample jobs created successfully")},gV=async r=>{try{const e=Uu(fi,"users",r),n=await XM(e);return n.exists()?{id:n.id,...n.data()}:(console.log("No such user!"),null)}catch(e){return console.error("Error getting user profile:",e),null}},yV=async(r,e)=>{try{const n=Uu(fi,"users",r);return await lb(n,{savedJobs:ZM(e)}),!0}catch(n){return console.error("Error saving job:",n),!1}},_V=async(r,e)=>{try{const n=Uu(fi,"users",r);return await lb(n,{savedJobs:e2(e)}),!0}catch(n){return console.error("Error removing job:",n),!1}},vV=Oe.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  padding: 2rem;
`,EV=Oe.div`
  background-color: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;
  
  &:hover {
    transform: translateY(-5px);
  }
`,TV=Oe.h3`
  margin-top: 0;
  margin-bottom: 0.5rem;
  color: var(--primary);
`,SV=Oe.h4`
  margin-top: 0;
  margin-bottom: 1rem;
  color: var(--text-secondary);
`,AV=Oe.p`
  color: var(--text-primary);
  margin-bottom: 1.5rem;
`,bV=Oe.div`
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
`,wV=Oe.span`
  background-color: var(--background-secondary);
  padding: 0.3rem 0.8rem;
  border-radius: 20px;
  font-size: 0.8rem;
  color: var(--text-secondary);
`,RV=Oe.div`
  display: flex;
  gap: 1rem;
`,IV=Oe(df)`
  background-color: var(--primary);
  color: white;
  text-decoration: none;
  padding: 0.8rem 1rem;
  border-radius: 4px;
  font-weight: 500;
  text-align: center;
  flex: 1;
  transition: background-color 0.2s;
  
  &:hover {
    background-color: #0056b3;
  }
`,CV=Oe.button`
  background-color: white;
  color: var(--primary);
  border: 1px solid var(--primary);
  padding: 0.8rem 1rem;
  border-radius: 4px;
  font-weight: 500;
  cursor: pointer;
  flex: 1;
  transition: background-color 0.2s;
  
  &:hover {
    background-color: #f0f0f0;
  }
`,DV=()=>{const[r,e]=G.useState([]),[n,s]=G.useState(!0),[o,u]=G.useState(null),{currentUser:f}=jo();G.useEffect(()=>{(async()=>{try{s(!0);const g=await pV();e(g),u(null)}catch(g){console.error("Error fetching jobs:",g),u("Failed to load jobs. Please try again later.")}finally{s(!1)}})()},[]);const p=async m=>{if(!f){alert("Please login to save jobs");return}try{const g=await yV(f.uid,m);alert(g?"Job saved successfully":"Failed to save job")}catch(g){console.error("Error saving job:",g),alert("Failed to save job")}};return n?J.jsx("div",{children:"Loading jobs..."}):o?J.jsx("div",{children:o}):J.jsx(vV,{children:r.length>0?r.map(m=>J.jsxs(EV,{children:[J.jsx(TV,{children:m.title}),J.jsx(SV,{children:m.company}),J.jsx(AV,{children:m.description}),J.jsx(bV,{children:m.tags&&m.tags.map((g,E)=>J.jsx(wV,{children:g},E))}),J.jsxs(RV,{children:[J.jsx(IV,{to:`/interview/${m.jobType}`,children:"Practice Interview"}),J.jsx(CV,{onClick:()=>p(m),children:"Save Job"})]})]},m.id)):J.jsx("p",{children:"No jobs found. Please check back later."})})},OV=Oe.div`
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,NV=Oe.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,gT=Oe.input`
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`,xV=Oe.button`
  padding: 0.8rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }
`,MV=Oe.div`
  color: red;
  margin-top: 1rem;
`,VV=()=>{const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),{login:f}=jo(),p=No(),m=async g=>{g.preventDefault(),u("");try{await f(r,n),p("/")}catch(E){u("Failed to sign in. Please check your credentials."),console.error(E)}};return J.jsxs(OV,{children:[J.jsx("h2",{children:"Login"}),o&&J.jsx(MV,{children:o}),J.jsxs(NV,{onSubmit:m,children:[J.jsx(gT,{type:"email",placeholder:"Email",value:r,onChange:g=>e(g.target.value),required:!0}),J.jsx(gT,{type:"password",placeholder:"Password",value:n,onChange:g=>s(g.target.value),required:!0}),J.jsx(xV,{type:"submit",children:"Login"})]}),J.jsxs("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Don't have an account? ",J.jsx("a",{href:"/register",children:"Register"})]})]})},PV=Oe.div`
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,kV=Oe.form`
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,hm=Oe.input`
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`,LV=Oe.button`
  padding: 0.8rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }
`,UV=Oe.div`
  color: red;
  margin-top: 1rem;
`,zV=()=>{const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,p]=G.useState(""),{register:m}=jo(),g=No(),E=async A=>{A.preventDefault(),p("");try{const{user:b}=await m(r,n);await WM(Uu(fi,"users",b.uid),{name:o,email:r,createdAt:new Date().toISOString(),savedJobs:[]}),g("/")}catch(b){p("Failed to create an account. "+b.message),console.error(b)}};return J.jsxs(PV,{children:[J.jsx("h2",{children:"Register"}),f&&J.jsx(UV,{children:f}),J.jsxs(kV,{onSubmit:E,children:[J.jsx(hm,{type:"text",placeholder:"Full Name",value:o,onChange:A=>u(A.target.value),required:!0}),J.jsx(hm,{type:"email",placeholder:"Email",value:r,onChange:A=>e(A.target.value),required:!0}),J.jsx(hm,{type:"password",placeholder:"Password",value:n,onChange:A=>s(A.target.value),required:!0}),J.jsx(LV,{type:"submit",children:"Register"})]}),J.jsxs("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Already have an account? ",J.jsx("a",{href:"/login",children:"Login"})]})]})},jV=Oe.div`
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,yT=Oe.div`
  margin-bottom: 2rem;
`,BV=Oe.ul`
  list-style: none;
  padding: 0;
`,qV=Oe.li`
  margin-bottom: 1rem;
  padding: 1rem;
  background-color: var(--background-secondary);
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,HV=Oe.button`
  background-color: var(--danger);
  color: white;
  border: none;
  padding: 0.5rem;
  border-radius: 4px;
  cursor: pointer;
`,FV=Oe.button`
  background-color: var(--danger);
  color: white;
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 4px;
  cursor: pointer;
  margin-top: 2rem;
`,GV=()=>{var A;const{currentUser:r,logout:e}=jo(),[n,s]=G.useState(null),[o,u]=G.useState(!0),[f,p]=G.useState(null),m=No();G.useEffect(()=>{(async()=>{if(!r){u(!1);return}try{u(!0);const O=await gV(r.uid);s(O),p(null)}catch(O){console.error("Error fetching user profile:",O),p("Failed to load profile data.")}finally{u(!1)}})()},[r]);const g=async b=>{try{await _V(r.uid,b),s({...n,savedJobs:n.savedJobs.filter(O=>O.id!==b.id)})}catch(O){console.error("Error removing job:",O)}},E=async()=>{try{await e(),m("/login")}catch(b){console.error("Error logging out:",b)}};return o?J.jsx("div",{children:"Loading profile..."}):f?J.jsx("div",{children:f}):r?J.jsxs(jV,{children:[J.jsx("h2",{children:"My Profile"}),J.jsxs(yT,{children:[J.jsx("h3",{children:"Account Information"}),J.jsxs("p",{children:[J.jsx("strong",{children:"Name:"})," ",(n==null?void 0:n.name)||"Not provided"]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Email:"})," ",r.email]}),J.jsxs("p",{children:[J.jsx("strong",{children:"Member since:"})," ",n!=null&&n.createdAt?new Date(n.createdAt).toLocaleDateString():"Recently"]})]}),J.jsxs(yT,{children:[J.jsx("h3",{children:"Saved Jobs"}),((A=n==null?void 0:n.savedJobs)==null?void 0:A.length)>0?J.jsx(BV,{children:n.savedJobs.map((b,O)=>J.jsxs(qV,{children:[J.jsxs("div",{children:[J.jsx("strong",{children:b.title})," at ",b.company]}),J.jsx(HV,{onClick:()=>g(b),children:"Remove"})]},O))}):J.jsx("p",{children:"You haven't saved any jobs yet."})]}),J.jsx(FV,{onClick:E,children:"Logout"})]}):(m("/login"),null)},$V=async r=>{try{const e=GM(Au(fi,"interviews"),$M("jobType","==",r)),n=await of(e);if(n.empty){await KV(r);const o=await of(e);if(o.empty)return null;const u=o.docs[0];return{id:u.id,...u.data()}}const s=n.docs[0];return{id:s.id,...s.data()}}catch(e){return console.error(`Error getting interview questions for ${r}:`,e),null}},KV=async r=>{const e=Au(fi,"interviews");let n={jobType:r,title:"Sample Interview",description:"Practice these common interview questions",questions:[]};const s=[{question:"Tell me about yourself.",tips:["Keep it professional and relevant to the job","Highlight key experiences and strengths","Be concise - aim for 1-2 minutes"]},{question:"Why are you interested in this position?",tips:["Research the company beforehand","Connect the job to your career goals","Show enthusiasm for the specific role"]},{question:"What are your strengths and weaknesses?",tips:["Choose strengths relevant to the job","For weaknesses, show how you're working to improve","Be honest but strategic"]}];switch(r){case"customer-service":n.title="Customer Service Interview",n.description="Practice these common customer service interview questions",n.questions=[...s,{question:"How would you handle an angry customer?",tips:["Stay calm and listen actively","Show empathy and understanding","Focus on finding a solution"]},{question:"Describe a time you went above and beyond for a customer.",tips:["Use the STAR method (Situation, Task, Action, Result)","Highlight positive outcomes","Show your commitment to customer satisfaction"]}];break;case"web-developer":n.title="Web Developer Interview",n.description="Practice these common web development interview questions",n.questions=[...s,{question:"Explain the difference between HTML, CSS, and JavaScript.",tips:["Be clear about each language's purpose","Use simple analogies if possible","Mention how they work together"]},{question:"How do you approach responsive design?",tips:["Mention mobile-first approach","Talk about CSS media queries","Discuss frameworks you've used (if any)"]}];break;default:n.questions=s}await ub(e,n),console.log(`Sample interview for ${r} created successfully`)},QV=Oe.div`
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
`,YV=Oe.div`
  margin-bottom: 2rem;
`,XV=Oe.div`
  margin-bottom: 2rem;
  padding: 1rem;
  background-color: var(--background-secondary);
  border-radius: 8px;
`,WV=Oe.div`
  display: flex;
  justify-content: space-between;
  margin-top: 2rem;
`,fm=Oe.button`
  padding: 0.8rem 1.5rem;
  background-color: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  
  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`,JV=()=>{const{jobType:r}=$R(),e=No(),[n,s]=G.useState(null),[o,u]=G.useState(0),[f,p]=G.useState(!0),[m,g]=G.useState(null);G.useEffect(()=>{(async()=>{try{p(!0);const F=await $V(r);F?(s(F),g(null)):g(`No interview questions found for ${r} jobs.`)}catch(F){console.error("Error fetching interview data:",F),g("Failed to load interview questions. Please try again later.")}finally{p(!1)}})()},[r]);const E=()=>{o<n.questions.length-1&&u(o+1)},A=()=>{o>0&&u(o-1)},b=()=>{e("/")};if(f)return J.jsx("div",{children:"Loading interview questions..."});if(m)return J.jsx("div",{children:m});if(!n||!n.questions||n.questions.length===0)return J.jsx("div",{children:"No interview questions available."});const O=n.questions[o];return J.jsxs(QV,{children:[J.jsxs(YV,{children:[J.jsx("h2",{children:n.title}),J.jsx("p",{children:n.description})]}),J.jsxs(XV,{children:[J.jsxs("h3",{children:["Question ",o+1," of ",n.questions.length]}),J.jsx("p",{children:O.question}),J.jsx("h4",{style:{marginTop:"1rem"},children:"Tips:"}),J.jsx("ul",{children:O.tips&&O.tips.map((M,F)=>J.jsx("li",{children:M},F))})]}),J.jsxs(WV,{children:[J.jsx(fm,{onClick:A,disabled:o===0,children:"Previous"}),o<n.questions.length-1?J.jsx(fm,{onClick:E,children:"Next"}):J.jsx(fm,{onClick:b,children:"Finish"})]})]})},ZV=({children:r})=>{const{currentUser:e}=jo();return e?r:J.jsx(a1,{to:"/login"})};function eP(){return J.jsx(N1,{children:J.jsx(n2,{children:J.jsxs("div",{className:"app",children:[J.jsx(aV,{}),J.jsx(dV,{}),J.jsx("main",{className:"main-content",children:J.jsxs(l1,{children:[J.jsx(to,{path:"/",element:J.jsx(DV,{})}),J.jsx(to,{path:"/login",element:J.jsx(VV,{})}),J.jsx(to,{path:"/register",element:J.jsx(zV,{})}),J.jsx(to,{path:"/profile",element:J.jsx(ZV,{children:J.jsx(GV,{})})}),J.jsx(to,{path:"/interview/:jobType",element:J.jsx(JV,{})})]})}),J.jsx(lV,{})]})})})}gR.createRoot(document.getElementById("root")).render(J.jsx(fo.StrictMode,{children:J.jsx(eP,{})}));
